{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Using matplotlib backend: MacOSX\n"
     ]
    }
   ],
   "source": [
    "#%matplotlib notebook\n",
    "%matplotlib \n",
    "import load_data as ld\n",
    "import p2_utils as utils\n",
    "import numpy as np\n",
    "from matplotlib import pyplot as plt\n",
    "from matplotlib import colors\n",
    "import matplotlib.animation as animation\n",
    "import time\n",
    "import ffmpeg"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Transform a LIDAR scan to the robot body frame\n",
    "\n",
    "    Input:\n",
    "        scan - a numpy array with the LIDAR range values\n",
    "        neck_angle - the neck angle of the robot head (yaw)\n",
    "        head_angle - the head angle of the robot head (pitch)\n",
    "    Output:\n",
    "        body_coords - a numpy array with coordinates of the scan in the body fram (3 x # of points)\n",
    "'''\n",
    "\n",
    "def lidar_to_body(scan, neck_angle, head_angle):\n",
    "    # ======= LIDAR to head coordinate transformation ========\n",
    "    lidar_distance = 0.15 # cm\n",
    "    \n",
    "    angles = np.array([np.arange(-135,135.25,0.25)*np.pi/180.]).T\n",
    "    ranges = np.double(scan).reshape(-1, 1)\n",
    "\n",
    "    # take valid indices\n",
    "    indValid = np.logical_and((ranges < 30),(ranges > 0.1))\n",
    "    ranges = ranges[indValid]\n",
    "    angles = angles[indValid]\n",
    "    \n",
    "    xs0 = ranges*np.cos(angles)\n",
    "    ys0 = ranges*np.sin(angles)\n",
    "    \n",
    "    lidar_coords = np.vstack((xs0.T, ys0.T, np.zeros((xs0.T.shape)), np.ones((xs0.T.shape))))  \n",
    "    \n",
    "    # create transformation matrix\n",
    "    h_T_l = np.eye(4)\n",
    "    h_T_l[2,3] = lidar_distance\n",
    "    \n",
    "    # transform to head coords\n",
    "    head_coords = h_T_l @ lidar_coords\n",
    "    \n",
    "    # ======= Head to body ===========\n",
    "    \n",
    "    head_to_CoM = 0.33 # cm\n",
    "    \n",
    "    p = np.array([0, 0, head_to_CoM]).T\n",
    "    p = p.reshape(3, 1)\n",
    "    \n",
    "    # create rotation matrices\n",
    "    psi = neck_angle  \n",
    "    theta = head_angle\n",
    "    Rz = np.array([[np.cos(psi), -np.sin(psi), 0], [np.sin(psi), np.cos(psi), 0], [0, 0, 1]])\n",
    "    Ry = np.array([[np.cos(theta), 0, np.sin(theta)], [0, 1, 0], [-np.sin(theta), 0, np.cos(theta)]])\n",
    "    \n",
    "    # get final rotation matrix\n",
    "    cRh = Rz @ Ry\n",
    "    \n",
    "    # create transformation matrix\n",
    "    b_T_h = np.block([[cRh, p], [np.zeros((1,3)), np.ones((1,1))]])\n",
    "    \n",
    "    # transform to body coords\n",
    "    body_coords = b_T_h @ head_coords\n",
    "    \n",
    "    return body_coords\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Transform a points in the robot body frame to the world frame\n",
    "\n",
    "    Input:\n",
    "        body_coords - a numpy array of points in the body frame (3 x # of points)\n",
    "        particle - a numpy array with the pose of the robot in the world fram (x position, y position, yaw)\n",
    "    Output:\n",
    "        world_coords - a numpy array with coordinates of the in the world frame (3 x # of points)\n",
    "'''\n",
    "\n",
    "def body_to_world(body_coords, particle):\n",
    "    CoM_distance = 0.93\n",
    "    \n",
    "    x = particle[0]\n",
    "    y = particle[1]\n",
    "    theta = particle[2]\n",
    "    \n",
    "    # set rotation matrix and pose\n",
    "    wRc = np.array([[np.cos(theta), -np.sin(theta), 0], [np.sin(theta), np.cos(theta), 0], [0, 0, 1]])\n",
    "    p = np.array([x, y, CoM_distance]).T\n",
    "    p = p.reshape(3,1)\n",
    "    \n",
    "    # create transformation matrix\n",
    "    T = np.block([[wRc, p], [np.zeros((1,3)), np.ones((1,1))]])\n",
    "    \n",
    "    # return coordinates transformed to world coordinates\n",
    "    return T @ body_coords"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Use the motion model to update particles\n",
    "\n",
    "    Input:\n",
    "        paricles - a numpy array of particles (# of particles x 3)\n",
    "        delta_pose - a numpy array with the change in pose (delta x, delta y, delta yaw)\n",
    "        mu - a numpy array with the mean of the 3D Gaussian noise\n",
    "        cov - a numpy array with the covariance matrix for the 3d Gaussian noise\n",
    "    Output:\n",
    "        new_particles - a numpy array with the updated particle values (# of particles x 3)\n",
    "'''\n",
    "\n",
    "def prediction_step(particles, delta_pose, mu, cov):\n",
    "    \n",
    "    num_particles = particles.shape[0]\n",
    "    \n",
    "    # add change in position to particles\n",
    "    new_particles = particles + delta_pose\n",
    "    \n",
    "    # Add noise to each particle\n",
    "    noise_mat = np.random.multivariate_normal(mu, cov, num_particles)\n",
    "    new_particles = new_particles + noise_mat\n",
    "    \n",
    "    return new_particles"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Use the LIDAR correlation observation model to perform the update step\n",
    "\n",
    "    Input:\n",
    "        MAP - a dictionary containing the log-odds map\n",
    "        particles - a numpy array containing the particles (# of particles x 3)\n",
    "        weights - a numpy array containing the particle weights (# of particles x 1)\n",
    "        body_coords - a numpy array with the scan points in the body frame (3 x # of points)\n",
    "    Output:\n",
    "        new_weights - a numpy array with update particle weights (# of particles x 1)\n",
    "'''\n",
    "\n",
    "def update_step(MAP, particles, weights, body_coords):\n",
    "    \n",
    "    num_particles = particles.shape[0]\n",
    "    \n",
    "    # get the observation model (exp(corr))\n",
    "    corr = np.zeros((num_particles, 1))\n",
    "    \n",
    "    x_im = np.arange(MAP['xmin'],MAP['xmax']+MAP['res'],MAP['res']) #x-positions of each pixel of the map\n",
    "    y_im = np.arange(MAP['ymin'],MAP['ymax']+MAP['res'],MAP['res']) #y-positions of each pixel of the map\n",
    "    \n",
    "    # set log-odds map to binary map\n",
    "    binary_map = np.copy(MAP['map'])\n",
    "    binary_map[binary_map > 0] = 1\n",
    "    binary_map[binary_map <= 0] = 0\n",
    "    \n",
    "    # go through all particles\n",
    "    for i in range(num_particles):\n",
    "        particle = particles[i, :]\n",
    "        \n",
    "        # get scan in world coord according to particle location\n",
    "        world_coords = body_to_world(body_coords, particle)\n",
    "        \n",
    "        # remove points that hit the floor\n",
    "        world_coords = world_coords[:, np.where(world_coords[2, :] > 0.1)[0]]\n",
    "    \n",
    "        # calculate correlation between map and scan for each particle\n",
    "        x_range = np.arange(-0.1,0.1+MAP['res'],MAP['res'])\n",
    "        y_range = np.arange(-0.1,0.1+MAP['res'],MAP['res'])\n",
    "        \n",
    "        c = utils.mapCorrelation(binary_map, x_im, y_im, world_coords[0:2,:], x_range, y_range)\n",
    "        \n",
    "        # update particle based on position of highest correlation\n",
    "        x_ind, y_ind = np.unravel_index(np.argmax(c), c.shape)\n",
    "        \n",
    "        particles[i,0] = particles[i,0] + x_range[x_ind]\n",
    "        particles[i,1] = particles[i,1] + y_range[y_ind]\n",
    "        \n",
    "        corr[i] = c.max()\n",
    "        \n",
    "    # calculate new weights by new_weight = prev_weight * exp(corr)\n",
    "    print(\"max corr: \", corr.max())\n",
    "    corr = corr - corr.max()\n",
    "    corr_softmax = np.exp(corr) / np.exp(corr).sum()\n",
    "    new_weights = weights * corr_softmax\n",
    "    \n",
    "    # normalize weights\n",
    "    new_weights = new_weights / new_weights.sum()\n",
    "    \n",
    "    return particles, new_weights"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Perform Sample Importance Resampling (SIR)\n",
    "\n",
    "    Input:\n",
    "        particles - a numpy array containing the particles (# of particles x 3)\n",
    "        weights - a numpy array containing the particle weights (# of particles x 1)\n",
    "    Output:\n",
    "        new_particles - a numpy array with resampled particles (# of particles x 3)\n",
    "        new_weights - a numpy array with uniform particle weights (# of particles x 1)\n",
    "'''\n",
    "def resampling(particles, weights):\n",
    "    num_particles = particles.shape[0]\n",
    "    new_ind = np.random.choice(num_particles, num_particles, p=weights.T[0])\n",
    "    \n",
    "    new_particles = np.zeros((num_particles, 3))\n",
    "    # create array of new particles by drawing from old particles \n",
    "    for i in range(num_particles):\n",
    "        new_particles[i, :] = particles[new_ind[i], :]\n",
    "    \n",
    "    new_weights = np.ones((num_particles, 1)) * 1 / num_particles\n",
    "    \n",
    "    return new_particles, new_weights\n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "    Update the occupancy grid map \n",
    "\n",
    "    Input:\n",
    "        MAP - a dictionary containing the log-odds map\n",
    "        world_coords - a numpy array with scan coordinates of the in the world frame (3 x # of points)\n",
    "        particle - a numpy array with the pose of the robot in the world fram (x position, y position, yaw)\n",
    "        lam_max - the maximum value allowed in the log-odds map\n",
    "        lam_min - the minimum value allowed in the log-odds map\n",
    "    Output:\n",
    "        MAP['map'] - a numpy array representing the updated log-odds map\n",
    "'''\n",
    "def update_map(MAP, world_coords, particle, lam_max, lam_min):\n",
    "    particle_x = particle[0]\n",
    "    particle_y = particle[1]\n",
    "    \n",
    "    # remove points that hit the floor\n",
    "    world_coords = world_coords[:, np.where(world_coords[2, :] > 0.1)[0]]\n",
    "    \n",
    "    for j in range(world_coords.shape[1]):\n",
    "        x = world_coords[0, j]\n",
    "        y = world_coords[1, j]\n",
    "        \n",
    "        # get the map indeces corresponding to the lidar scan\n",
    "        raytrace_ind = utils.bresenham2D(np.round((particle_x - MAP['xmin'])/MAP['res']).astype(np.int16),\\\n",
    "                                        np.round((particle_y - MAP['ymin'])/MAP['res']).astype(np.int16),\\\n",
    "                                        np.round((x - MAP['xmin'])/MAP['res']).astype(np.int16),\\\n",
    "                                        np.round((y - MAP['ymin'])/MAP['res']).astype(np.int16))\n",
    "        \n",
    "        # Update map log-odds\n",
    "        last_cell_ind = raytrace_ind.shape[1] - 1\n",
    "        free_x_vals = raytrace_ind[0,:last_cell_ind].astype(np.int)\n",
    "        free_y_vals = raytrace_ind[1,:last_cell_ind].astype(np.int)\n",
    "        occ_x_vals = raytrace_ind[0,last_cell_ind].astype(np.int)\n",
    "        occ_y_vals = raytrace_ind[1,last_cell_ind].astype(np.int)\n",
    "\n",
    "        MAP['map'][free_x_vals, free_y_vals] -= np.int8(np.log(4))\n",
    "        MAP['map'][occ_x_vals, occ_y_vals] += np.int8(np.log(4))\n",
    "\n",
    "    # Prevent over-confidents\n",
    "    MAP['map'][MAP['map'] > lam_max] = lam_max\n",
    "    MAP['map'][MAP['map'] < lam_min] = lam_min\n",
    "    \n",
    "    return MAP['map']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "12679\n"
     ]
    }
   ],
   "source": [
    "# load lidar and joint_angles\n",
    "lidar_path = './lidar/train_lidar2'\n",
    "joint_path = './joint/train_joint2'\n",
    "\n",
    "lidar = ld.get_lidar(lidar_path)\n",
    "joint_angles = ld.get_joint(joint_path)\n",
    "print(len(lidar))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "loop:  10\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  742.0\n",
      "N_eff:  1.0134752822973125\n",
      "resampling...\n",
      "loop:  20\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  710.0\n",
      "N_eff:  1.0000000304618768\n",
      "resampling...\n",
      "loop:  30\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  784.0\n",
      "N_eff:  1.0000000041223074\n",
      "resampling...\n",
      "loop:  40\n",
      "delta_pose:  [0 0 0]\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py:36: RuntimeWarning: overflow encountered in byte_scalars\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "max corr:  831.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  50\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  814.0\n",
      "N_eff:  1.0018237736304691\n",
      "resampling...\n",
      "loop:  60\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  884.0\n",
      "N_eff:  1.0000000000000346\n",
      "resampling...\n",
      "loop:  70\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  848.0\n",
      "N_eff:  1.6480542736639687\n",
      "resampling...\n",
      "loop:  80\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  832.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  90\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0000006120098788\n",
      "resampling...\n",
      "loop:  100\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  876.0\n",
      "N_eff:  1.0000907998593376\n",
      "resampling...\n",
      "loop:  110\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0067874102941994\n",
      "resampling...\n",
      "loop:  120\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0056300574407375\n",
      "resampling...\n",
      "loop:  130\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  851.0\n",
      "N_eff:  1.0000000000001872\n",
      "resampling...\n",
      "loop:  140\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  866.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  150\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0049574738935605\n",
      "resampling...\n",
      "loop:  160\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  841.0\n",
      "N_eff:  2.000000000205238\n",
      "resampling...\n",
      "loop:  170\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0000016630611972\n",
      "resampling...\n",
      "loop:  180\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  866.0\n",
      "N_eff:  1.099327927419435\n",
      "resampling...\n",
      "loop:  190\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  840.0\n",
      "N_eff:  1.000000000013977\n",
      "resampling...\n",
      "loop:  200\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  834.0\n",
      "N_eff:  1.0366189936312327\n",
      "resampling...\n",
      "loop:  210\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  840.0\n",
      "N_eff:  1.000000082798824\n",
      "resampling...\n",
      "loop:  220\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  851.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  230\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  812.0\n",
      "N_eff:  1.0366190777710798\n",
      "resampling...\n",
      "loop:  240\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  820.0\n",
      "N_eff:  1.0000000041236903\n",
      "resampling...\n",
      "loop:  250\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0000016935174232\n",
      "resampling...\n",
      "loop:  260\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0993326614137007\n",
      "resampling...\n",
      "loop:  270\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  786.0\n",
      "N_eff:  1.6480542743360906\n",
      "resampling...\n",
      "loop:  280\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  759.0\n",
      "N_eff:  1.0000000000000708\n",
      "resampling...\n",
      "loop:  290\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  734.0\n",
      "N_eff:  1.0000000722012026\n",
      "resampling...\n",
      "loop:  300\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  709.0\n",
      "N_eff:  1.0018239879232236\n",
      "resampling...\n",
      "loop:  310\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  721.0\n",
      "N_eff:  1.6480542736639165\n",
      "resampling...\n",
      "loop:  320\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  728.0\n",
      "N_eff:  1.0000122884247156\n",
      "resampling...\n",
      "loop:  330\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  767.0\n",
      "N_eff:  1.0000006118046412\n",
      "resampling...\n",
      "loop:  340\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  744.0\n",
      "N_eff:  1.0000000000005087\n",
      "resampling...\n",
      "loop:  350\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  754.0\n",
      "N_eff:  1.0366575992517706\n",
      "resampling...\n",
      "loop:  360\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  748.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  370\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  746.0\n",
      "N_eff:  1.0002848617238551\n",
      "resampling...\n",
      "loop:  380\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  744.0\n",
      "N_eff:  1.0000168091429014\n",
      "resampling...\n",
      "loop:  390\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0020708180733435\n",
      "resampling...\n",
      "loop:  400\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  410\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  787.0\n",
      "N_eff:  1.137655033968487\n",
      "resampling...\n",
      "loop:  420\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0000045206588146\n",
      "resampling...\n",
      "loop:  430\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  790.0\n",
      "N_eff:  1.265802480390396\n",
      "resampling...\n",
      "loop:  440\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0000129002608829\n",
      "resampling...\n",
      "loop:  450\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  784.0\n",
      "N_eff:  1.0000000002066207\n",
      "resampling...\n",
      "loop:  460\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  751.0\n",
      "N_eff:  1.6481639782359463\n",
      "resampling...\n",
      "loop:  470\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  780.0\n",
      "N_eff:  2.0000907988288557\n",
      "resampling...\n",
      "loop:  480\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  794.0\n",
      "N_eff:  1.013475282222887\n",
      "resampling...\n",
      "loop:  490\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0000000000102185\n",
      "resampling...\n",
      "loop:  500\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  510\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  681.0\n",
      "N_eff:  1.0002490949631948\n",
      "resampling...\n",
      "loop:  520\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  640.0\n",
      "N_eff:  1.0993279397396987\n",
      "resampling...\n",
      "loop:  530\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  626.0\n",
      "N_eff:  1.000000000000518\n",
      "resampling...\n",
      "loop:  540\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  625.0\n",
      "N_eff:  1.0993333340012303\n",
      "resampling...\n",
      "loop:  550\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  639.0\n",
      "N_eff:  1.0366235956192893\n",
      "resampling...\n",
      "loop:  560\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  619.0\n",
      "N_eff:  2.0000000114211187\n",
      "resampling...\n",
      "loop:  570\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  651.0\n",
      "N_eff:  1.0006743657104384\n",
      "resampling...\n",
      "loop:  580\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  643.0\n",
      "N_eff:  2.000281893768803\n",
      "resampling...\n",
      "loop:  590\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  658.0\n",
      "N_eff:  1.0000006129321088\n",
      "resampling...\n",
      "loop:  600\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  670.0\n",
      "N_eff:  1.000339294563591\n",
      "resampling...\n",
      "loop:  610\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  590.0\n",
      "N_eff:  1.0000004507014568\n",
      "resampling...\n",
      "loop:  620\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  640.0\n",
      "N_eff:  1.013568366058508\n",
      "resampling...\n",
      "loop:  630\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  616.0\n",
      "N_eff:  1.0367370685361585\n",
      "resampling...\n",
      "loop:  640\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  677.0\n",
      "N_eff:  1.0000045318746504\n",
      "resampling...\n",
      "loop:  650\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0049574741551917\n",
      "resampling...\n",
      "loop:  660\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  737.0\n",
      "N_eff:  1.0000018881279842\n",
      "resampling...\n",
      "loop:  670\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  668.0\n",
      "N_eff:  1.2863774736025315\n",
      "resampling...\n",
      "loop:  680\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  725.0\n",
      "N_eff:  1.265802229540263\n",
      "resampling...\n",
      "loop:  690\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  725.0\n",
      "N_eff:  1.000000836879861\n",
      "resampling...\n",
      "loop:  700\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  720.0\n",
      "N_eff:  1.0000006946034208\n",
      "resampling...\n",
      "loop:  710\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  764.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  720\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  745.0\n",
      "N_eff:  1.0018237624151072\n",
      "resampling...\n",
      "loop:  730\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  722.0\n",
      "N_eff:  1.0000000112811223\n",
      "resampling...\n",
      "loop:  740\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0049574738935605\n",
      "resampling...\n",
      "loop:  750\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  703.0\n",
      "N_eff:  1.0000000305354872\n",
      "resampling...\n",
      "loop:  760\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  654.0\n",
      "N_eff:  1.0000000304637184\n",
      "resampling...\n",
      "loop:  770\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  667.0\n",
      "N_eff:  1.0000004501685005\n",
      "resampling...\n",
      "loop:  780\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  653.0\n",
      "N_eff:  1.0036491966359609\n",
      "resampling...\n",
      "loop:  790\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  658.0\n",
      "N_eff:  1.0049697929082837\n",
      "resampling...\n",
      "loop:  800\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  700.0\n",
      "N_eff:  1.013475315741825\n",
      "resampling...\n",
      "loop:  810\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  649.0\n",
      "N_eff:  1.10451899046056\n",
      "resampling...\n",
      "loop:  820\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  640.0\n",
      "N_eff:  2.0050453281064935\n",
      "resampling...\n",
      "loop:  830\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  681.0\n",
      "N_eff:  1.0018237624145983\n",
      "resampling...\n",
      "loop:  840\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  706.0\n",
      "N_eff:  1.0000047995170673\n",
      "resampling...\n",
      "loop:  850\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  787.0\n",
      "N_eff:  1.6480562791824944\n",
      "resampling...\n",
      "loop:  860\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  812.0\n",
      "N_eff:  1.0366192231678097\n",
      "resampling...\n",
      "loop:  870\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  800.0\n",
      "N_eff:  1.0000000041261368\n",
      "resampling...\n",
      "loop:  880\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0006709251806618\n",
      "resampling...\n",
      "loop:  890\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  825.0\n",
      "N_eff:  1.0002468196046015\n",
      "resampling...\n",
      "loop:  900\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0000006118839033\n",
      "resampling...\n",
      "loop:  910\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  815.0\n",
      "N_eff:  1.113447667912488\n",
      "resampling...\n",
      "loop:  920\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  805.0\n",
      "N_eff:  1.0000000000755027\n",
      "resampling...\n",
      "loop:  930\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  792.0\n",
      "N_eff:  1.0049574740450087\n",
      "resampling...\n",
      "loop:  940\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0000000828038964\n",
      "resampling...\n",
      "loop:  950\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  813.0\n",
      "N_eff:  1.000009135966018\n",
      "resampling...\n",
      "loop:  960\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  805.0\n",
      "N_eff:  1.0373019740628349\n",
      "resampling...\n",
      "loop:  970\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  800.0\n",
      "N_eff:  1.0000002250981381\n",
      "resampling...\n",
      "loop:  980\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  811.0\n",
      "N_eff:  1.648054287164655\n",
      "resampling...\n",
      "loop:  990\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  846.0\n",
      "N_eff:  1.013475282221374\n",
      "resampling...\n",
      "loop:  1000\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  830.0\n",
      "N_eff:  1.0000000002053067\n",
      "resampling...\n",
      "loop:  1010\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  865.0\n",
      "N_eff:  1.000246821131334\n",
      "resampling...\n",
      "loop:  1020\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0000002250881543\n",
      "resampling...\n",
      "loop:  1030\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0000000000000253\n",
      "resampling...\n",
      "loop:  1040\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  868.0\n",
      "N_eff:  1.6480542736684143\n",
      "resampling...\n",
      "loop:  1050\n",
      "delta_pose:  [-2.40978452e-11 -6.22168688e-04  0.00000000e+00]\n",
      "max corr:  891.0\n",
      "N_eff:  1.0000000000013922\n",
      "resampling...\n",
      "loop:  1060\n",
      "delta_pose:  [-4.40787441e-11 -2.04886567e-03  0.00000000e+00]\n",
      "max corr:  879.0\n",
      "N_eff:  1.0000907998593376\n",
      "resampling...\n",
      "loop:  1070\n",
      "delta_pose:  [-3.30153734e-11 -3.80166746e-03  0.00000000e+00]\n",
      "max corr:  879.0\n",
      "N_eff:  1.000033403401571\n",
      "resampling...\n",
      "loop:  1080\n",
      "delta_pose:  [-2.31193641e-11 -8.00076290e-03  0.00000000e+00]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0000000015165234\n",
      "resampling...\n",
      "loop:  1090\n",
      "delta_pose:  [-1.40692822e-11 -1.67871385e-02  0.00000000e+00]\n",
      "max corr:  813.0\n",
      "N_eff:  1.0002468196044179\n",
      "resampling...\n",
      "loop:  1100\n",
      "delta_pose:  [-8.1105643e-12 -1.5203278e-02  0.0000000e+00]\n",
      "max corr:  744.0\n",
      "N_eff:  1.0000000000278577\n",
      "resampling...\n",
      "loop:  1110\n",
      "delta_pose:  [-4.64237329e-12  7.97240526e-03  0.00000000e+00]\n",
      "max corr:  752.0\n",
      "N_eff:  1.0368702489692767\n",
      "resampling...\n",
      "loop:  1120\n",
      "delta_pose:  [-2.38849912e-12  3.45422302e-02  0.00000000e+00]\n",
      "max corr:  692.0\n",
      "N_eff:  1.0001031006061891\n",
      "resampling...\n",
      "loop:  1130\n",
      "delta_pose:  [6.22925826e-11 3.46533512e-02 0.00000000e+00]\n",
      "max corr:  739.0\n",
      "N_eff:  1.0366530056556957\n",
      "resampling...\n",
      "loop:  1140\n",
      "delta_pose:  [4.91382560e-11 8.36375601e-03 0.00000000e+00]\n",
      "max corr:  736.0\n",
      "N_eff:  1.6480542737549366\n",
      "resampling...\n",
      "loop:  1150\n",
      "delta_pose:  [ 3.18357268e-11 -2.27656890e-02  0.00000000e+00]\n",
      "max corr:  759.0\n",
      "N_eff:  1.0002468196049235\n",
      "resampling...\n",
      "loop:  1160\n",
      "delta_pose:  [ 1.02554805e-11 -4.05506166e-02  0.00000000e+00]\n",
      "max corr:  751.0\n",
      "N_eff:  1.002163366608881\n",
      "resampling...\n",
      "loop:  1170\n",
      "delta_pose:  [ 0.         -0.01509981  0.        ]\n",
      "max corr:  816.0\n",
      "N_eff:  1.0000045511943452\n",
      "resampling...\n",
      "loop:  1180\n",
      "delta_pose:  [0.         0.01592943 0.        ]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0000908014551901\n",
      "resampling...\n",
      "loop:  1190\n",
      "delta_pose:  [0.00060811 0.04069885 0.00944466]\n",
      "max corr:  808.0\n",
      "N_eff:  1.0994232493318619\n",
      "resampling...\n",
      "loop:  1200\n",
      "delta_pose:  [0.00169911 0.02167149 0.02268948]\n",
      "max corr:  803.0\n",
      "N_eff:  1.000281452453112\n",
      "resampling...\n",
      "loop:  1210\n",
      "delta_pose:  [ 0.00270692 -0.00792912  0.02362546]\n",
      "max corr:  795.0\n",
      "N_eff:  1.0000000000277773\n",
      "resampling...\n",
      "loop:  1220\n",
      "delta_pose:  [ 0.00378748 -0.03669135  0.02490252]\n",
      "max corr:  778.0\n",
      "N_eff:  1.0995864267813829\n",
      "resampling...\n",
      "loop:  1230\n",
      "delta_pose:  [ 0.00034989 -0.02912283  0.03549994]\n",
      "max corr:  800.0\n",
      "N_eff:  1.2658022288342885\n",
      "resampling...\n",
      "loop:  1240\n",
      "delta_pose:  [-0.00286755  0.00222811  0.03545367]\n",
      "max corr:  763.0\n",
      "N_eff:  1.001857200373954\n",
      "resampling...\n",
      "loop:  1250\n",
      "delta_pose:  [-0.00704164  0.0333199   0.03543047]\n",
      "max corr:  796.0\n",
      "N_eff:  1.0000122886301328\n",
      "resampling...\n",
      "loop:  1260\n",
      "delta_pose:  [-0.00343528  0.03328546  0.02761611]\n",
      "max corr:  786.0\n",
      "N_eff:  1.0006832289786647\n",
      "resampling...\n",
      "loop:  1270\n",
      "delta_pose:  [0.00182349 0.00590234 0.02953769]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0018237639325172\n",
      "resampling...\n",
      "loop:  1280\n",
      "delta_pose:  [ 0.00852806 -0.02467716  0.02953758]\n",
      "max corr:  737.0\n",
      "N_eff:  1.2962025800520234\n",
      "resampling...\n",
      "loop:  1290\n",
      "delta_pose:  [ 0.00970746 -0.03724187  0.01388513]\n",
      "max corr:  792.0\n",
      "N_eff:  1.0018240116395674\n",
      "resampling...\n",
      "loop:  1300\n",
      "delta_pose:  [ 0.00221502 -0.01087034  0.00885913]\n",
      "max corr:  757.0\n",
      "N_eff:  1.2713296812346981\n",
      "resampling...\n",
      "loop:  1310\n",
      "delta_pose:  [-0.00577951  0.0189795   0.00886121]\n",
      "max corr:  820.0\n",
      "N_eff:  1.0366190360971386\n",
      "resampling...\n",
      "loop:  1320\n",
      "delta_pose:  [-0.00898758  0.03831915  0.00190647]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0000000000000033\n",
      "resampling...\n",
      "loop:  1330\n",
      "delta_pose:  [-0.00080603  0.01948147 -0.00442784]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0000008368852775\n",
      "resampling...\n",
      "loop:  1340\n",
      "delta_pose:  [ 0.0099137  -0.00959082 -0.00443239]\n",
      "max corr:  817.0\n",
      "N_eff:  1.6488625565900623\n",
      "resampling...\n",
      "loop:  1350\n",
      "delta_pose:  [ 0.02160979 -0.03439283 -0.00245631]\n",
      "max corr:  792.0\n",
      "N_eff:  1.0366288216633661\n",
      "resampling...\n",
      "loop:  1360\n",
      "delta_pose:  [ 0.01867862 -0.02087295  0.00221626]\n",
      "max corr:  790.0\n",
      "N_eff:  1.105223059357818\n",
      "resampling...\n",
      "loop:  1370\n",
      "delta_pose:  [0.00867081 0.00886123 0.00221211]\n",
      "max corr:  727.0\n",
      "N_eff:  1.1429212131628566\n",
      "resampling...\n",
      "loop:  1380\n",
      "delta_pose:  [0.0025668  0.03798598 0.00189391]\n",
      "max corr:  780.0\n",
      "N_eff:  2.014160136494907\n",
      "resampling...\n",
      "loop:  1390\n",
      "delta_pose:  [ 0.00349658  0.0336119  -0.00106284]\n",
      "max corr:  771.0\n",
      "N_eff:  1.1376466738184887\n",
      "resampling...\n",
      "loop:  1400\n",
      "delta_pose:  [ 0.01038564  0.0046871  -0.00110788]\n",
      "max corr:  791.0\n",
      "N_eff:  1.0000129018529071\n",
      "resampling...\n",
      "loop:  1410\n",
      "delta_pose:  [ 0.02133049 -0.02500155 -0.00110772]\n",
      "max corr:  747.0\n",
      "N_eff:  1.00003793600298\n",
      "resampling...\n",
      "loop:  1420\n",
      "delta_pose:  [ 0.0235637  -0.03114164  0.00031607]\n",
      "max corr:  781.0\n",
      "N_eff:  1.0134754813246272\n",
      "resampling...\n",
      "loop:  1430\n",
      "delta_pose:  [ 0.01281373 -0.0039526   0.00055334]\n",
      "max corr:  723.0\n",
      "N_eff:  1.6482041897699216\n",
      "resampling...\n",
      "loop:  1440\n",
      "delta_pose:  [0.00476609 0.02633445 0.00055382]\n",
      "max corr:  783.0\n",
      "N_eff:  1.0366206978405528\n",
      "resampling...\n",
      "loop:  1450\n",
      "delta_pose:  [1.66240556e-03 4.24191261e-02 8.86501512e-06]\n",
      "max corr:  776.0\n",
      "N_eff:  1.0000000000013878\n",
      "resampling...\n",
      "loop:  1460\n",
      "delta_pose:  [ 0.00656666  0.01653399 -0.0002658 ]\n",
      "max corr:  794.0\n",
      "N_eff:  1.0006754606396926\n",
      "resampling...\n",
      "loop:  1470\n",
      "delta_pose:  [ 0.0158653  -0.01177458 -0.00027709]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0000002291940415\n",
      "resampling...\n",
      "loop:  1480\n",
      "delta_pose:  [ 0.02638283 -0.03429173 -0.00010365]\n",
      "max corr:  797.0\n",
      "N_eff:  1.0993279274447707\n",
      "resampling...\n",
      "loop:  1490\n",
      "delta_pose:  [ 0.02091265 -0.01615974  0.00013844]\n",
      "max corr:  792.0\n",
      "N_eff:  1.0366334254927752\n",
      "resampling...\n",
      "loop:  1500\n",
      "delta_pose:  [0.0125755  0.01396501 0.00013855]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0000045206588393\n",
      "resampling...\n",
      "loop:  1510\n",
      "delta_pose:  [9.41054803e-03 4.27746333e-02 9.33103191e-05]\n",
      "max corr:  801.0\n",
      "N_eff:  1.1135303539926964\n",
      "resampling...\n",
      "loop:  1520\n",
      "delta_pose:  [ 1.11219678e-02  3.24063037e-02 -6.64516629e-05]\n",
      "max corr:  828.0\n",
      "N_eff:  1.2658413731396025\n",
      "resampling...\n",
      "loop:  1530\n",
      "delta_pose:  [ 1.71381856e-02  2.96977072e-03 -6.92330796e-05]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0000000153279\n",
      "resampling...\n",
      "loop:  1540\n",
      "delta_pose:  [ 2.90119032e-02 -2.64239228e-02 -6.93734764e-05]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0000380202920347\n",
      "resampling...\n",
      "loop:  1550\n",
      "delta_pose:  [ 2.79727844e-02 -2.68346872e-02  3.23915898e-05]\n",
      "max corr:  817.0\n",
      "N_eff:  2.099428314721793\n",
      "resampling...\n",
      "loop:  1560\n",
      "delta_pose:  [1.66519660e-02 1.09148082e-03 3.46034758e-05]\n",
      "max corr:  830.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  1570\n",
      "delta_pose:  [1.00977426e-02 3.21044642e-02 3.45827830e-05]\n",
      "max corr:  800.0\n",
      "N_eff:  1.036618993484114\n",
      "resampling...\n",
      "loop:  1580\n",
      "delta_pose:  [ 8.40806671e-03  4.16670729e-02 -5.00564311e-06]\n",
      "max corr:  830.0\n",
      "N_eff:  1.0000334056812872\n",
      "resampling...\n",
      "loop:  1590\n",
      "delta_pose:  [ 1.31957586e-02  1.59316010e-02 -1.72998225e-05]\n",
      "max corr:  836.0\n",
      "N_eff:  1.6489719849781785\n",
      "resampling...\n",
      "loop:  1600\n",
      "delta_pose:  [ 2.30178222e-02 -1.36276128e-02 -1.73096614e-05]\n",
      "max corr:  828.0\n",
      "N_eff:  1.0134752822315911\n",
      "resampling...\n",
      "loop:  1610\n",
      "delta_pose:  [ 3.20689879e-02 -3.28427364e-02 -3.37286801e-06]\n",
      "max corr:  845.0\n",
      "N_eff:  1.001823794420715\n",
      "resampling...\n",
      "loop:  1620\n",
      "delta_pose:  [ 2.19511334e-02 -1.17266423e-02  8.65410220e-06]\n",
      "max corr:  846.0\n",
      "N_eff:  1.000000031976497\n",
      "resampling...\n",
      "loop:  1630\n",
      "delta_pose:  [1.24620198e-02 1.78606774e-02 8.65293987e-06]\n",
      "max corr:  829.0\n",
      "N_eff:  2.0002468427339006\n",
      "resampling...\n",
      "loop:  1640\n",
      "delta_pose:  [8.28825662e-03 4.43161370e-02 4.27762488e-06]\n",
      "max corr:  861.0\n",
      "N_eff:  1.037394436142116\n",
      "resampling...\n",
      "loop:  1650\n",
      "delta_pose:  [ 1.01165661e-02  2.81900675e-02 -4.15396562e-06]\n",
      "max corr:  770.0\n",
      "N_eff:  1.2678353534081912\n",
      "resampling...\n",
      "loop:  1660\n",
      "delta_pose:  [ 1.77428638e-02 -6.84755855e-04 -4.32528304e-06]\n",
      "max corr:  846.0\n",
      "N_eff:  1.654038487659653\n",
      "resampling...\n",
      "loop:  1670\n",
      "delta_pose:  [ 2.97159942e-02 -2.80938275e-02 -3.69745762e-06]\n",
      "max corr:  858.0\n",
      "N_eff:  1.138356671428962\n",
      "resampling...\n",
      "loop:  1680\n",
      "delta_pose:  [ 2.82486117e-02 -2.45976817e-02  2.16101876e-06]\n",
      "max corr:  855.0\n",
      "N_eff:  1.0000908000649602\n",
      "resampling...\n",
      "loop:  1690\n",
      "delta_pose:  [1.59133021e-02 4.66035209e-03 2.16369745e-06]\n",
      "max corr:  834.0\n",
      "N_eff:  1.0270402280866213\n",
      "resampling...\n",
      "loop:  1700\n",
      "delta_pose:  [9.56228232e-03 3.58546458e-02 2.16411081e-06]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0000912500487837\n",
      "resampling...\n",
      "loop:  1710\n",
      "delta_pose:  [ 8.25980487e-03  3.92786164e-02 -7.03972023e-07]\n",
      "max corr:  770.0\n",
      "N_eff:  1.0000168091215174\n",
      "resampling...\n",
      "loop:  1720\n",
      "delta_pose:  [ 1.38221743e-02  1.21930340e-02 -1.08123072e-06]\n",
      "max corr:  854.0\n",
      "N_eff:  1.0993280227592608\n",
      "resampling...\n",
      "loop:  1730\n",
      "delta_pose:  [ 2.46999971e-02 -1.72873149e-02 -1.08154381e-06]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0049574740993057\n",
      "resampling...\n",
      "loop:  1740\n",
      "delta_pose:  [ 3.18541267e-02 -3.20708431e-02 -1.52711894e-08]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0000168091113144\n",
      "resampling...\n",
      "loop:  1750\n",
      "delta_pose:  [ 2.05692352e-02 -8.11256715e-03  5.40861947e-07]\n",
      "max corr:  831.0\n",
      "N_eff:  1.0388195119585413\n",
      "resampling...\n",
      "loop:  1760\n",
      "delta_pose:  [1.17396149e-02 2.16832893e-02 5.41029749e-07]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0049620362756853\n",
      "resampling...\n",
      "loop:  1770\n",
      "delta_pose:  [8.11201558e-03 4.51710329e-02 1.69754361e-07]\n",
      "max corr:  826.0\n",
      "N_eff:  1.0024953927573483\n",
      "resampling...\n",
      "loop:  1780\n",
      "delta_pose:  [ 1.06265886e-02  2.43560504e-02 -2.59611852e-07]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0006955408277842\n",
      "resampling...\n",
      "loop:  1790\n",
      "delta_pose:  [ 1.90148997e-02 -4.17849434e-03 -2.70529966e-07]\n",
      "max corr:  895.0\n",
      "N_eff:  1.6483516442652548\n",
      "resampling...\n",
      "loop:  1800\n",
      "delta_pose:  [ 3.09261479e-02 -3.03295812e-02 -1.82334838e-07]\n",
      "max corr:  836.0\n",
      "N_eff:  1.0366315027714887\n",
      "resampling...\n",
      "loop:  1810\n",
      "delta_pose:  [ 2.66401381e-02 -2.12604560e-02  1.35194639e-07]\n",
      "max corr:  885.0\n",
      "N_eff:  1.2678353661477846\n",
      "resampling...\n",
      "loop:  1820\n",
      "delta_pose:  [1.48773951e-02 8.20828672e-03 1.35200523e-07]\n",
      "max corr:  878.0\n",
      "N_eff:  1.001823792902499\n",
      "resampling...\n",
      "loop:  1830\n",
      "delta_pose:  [9.12880723e-03 3.92557535e-02 1.29990329e-07]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0134752822229105\n",
      "resampling...\n",
      "loop:  1840\n",
      "delta_pose:  [ 8.55803274e-03  3.63629507e-02 -6.31655492e-08]\n",
      "max corr:  822.0\n",
      "N_eff:  1.2658022288346467\n",
      "resampling...\n",
      "loop:  1850\n",
      "delta_pose:  [ 1.47458686e-02  8.63135132e-03 -6.75446898e-08]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0000000041236903\n",
      "resampling...\n",
      "loop:  1860\n",
      "delta_pose:  [ 2.64015303e-02 -2.07990941e-02 -6.75447538e-08]\n",
      "max corr:  877.0\n",
      "N_eff:  1.0000000304629126\n",
      "resampling...\n",
      "loop:  1870\n",
      "delta_pose:  [ 3.10865644e-02 -3.05981207e-02  1.10928416e-08]\n",
      "max corr:  858.0\n",
      "N_eff:  1.0993296689738838\n",
      "resampling...\n",
      "loop:  1880\n",
      "delta_pose:  [ 1.91696823e-02 -4.61575059e-03  3.37943754e-08]\n",
      "max corr:  814.0\n",
      "N_eff:  1.265802321231828\n",
      "resampling...\n",
      "loop:  1890\n",
      "delta_pose:  [1.10551504e-02 2.55620376e-02 3.38120572e-08]\n",
      "max corr:  866.0\n",
      "N_eff:  1.0000000041325252\n",
      "resampling...\n",
      "loop:  1900\n",
      "delta_pose:  [8.12814702e-03 4.51028245e-02 4.55425109e-09]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0049574780907182\n",
      "resampling...\n",
      "loop:  1910\n",
      "delta_pose:  [ 1.12801068e-02  2.06004766e-02 -1.62178431e-08]\n",
      "max corr:  839.0\n",
      "N_eff:  1.0000908004172604\n",
      "resampling...\n",
      "loop:  1920\n",
      "delta_pose:  [ 2.03986748e-02 -7.67506984e-03 -1.69022876e-08]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0000000827987545\n",
      "resampling...\n",
      "loop:  1930\n",
      "delta_pose:  [ 3.18001684e-02 -3.19337265e-02 -8.36533526e-09]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0536732852619421\n",
      "resampling...\n",
      "loop:  1940\n",
      "delta_pose:  [ 2.49118724e-02 -1.77216979e-02  8.45119963e-09]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000456922372705\n",
      "resampling...\n",
      "loop:  1950\n",
      "delta_pose:  [1.39153864e-02 1.17620497e-02 8.44681114e-09]\n",
      "max corr:  865.0\n",
      "N_eff:  1.2660774083365485\n",
      "resampling...\n",
      "loop:  1960\n",
      "delta_pose:  [8.58375276e-03 4.08931283e-02 6.71581735e-09]\n",
      "max corr:  883.0\n",
      "N_eff:  1.311280176984486\n",
      "resampling...\n",
      "loop:  1970\n",
      "delta_pose:  [ 9.17066451e-03  3.43170949e-02 -4.05565093e-09]\n",
      "max corr:  848.0\n",
      "N_eff:  1.0000000000000093\n",
      "resampling...\n",
      "loop:  1980\n",
      "delta_pose:  [ 1.57919173e-02  5.11865746e-03 -4.22530366e-09]\n",
      "max corr:  839.0\n",
      "N_eff:  1.00000000076689\n",
      "resampling...\n",
      "loop:  1990\n",
      "delta_pose:  [ 2.81250987e-02 -2.41992074e-02 -4.22466417e-09]\n",
      "max corr:  861.0\n",
      "N_eff:  1.036636189077401\n",
      "resampling...\n",
      "loop:  2000\n",
      "delta_pose:  [ 2.99147726e-02 -2.84020384e-02  1.46090279e-09]\n",
      "max corr:  853.0\n",
      "N_eff:  1.0000000000005087\n",
      "resampling...\n",
      "loop:  2010\n",
      "delta_pose:  [ 1.78648955e-02 -1.09338047e-03  2.11316176e-09]\n",
      "max corr:  876.0\n",
      "N_eff:  1.375905835431002\n",
      "resampling...\n",
      "loop:  2020\n",
      "delta_pose:  [1.04279256e-02 2.95906749e-02 2.11400702e-09]\n",
      "max corr:  871.0\n",
      "N_eff:  2.000246812019091\n",
      "resampling...\n",
      "loop:  2030\n",
      "delta_pose:  [ 7.84250889e-03  4.25485426e-02 -5.72688563e-11]\n",
      "max corr:  855.0\n",
      "N_eff:  1.2966761532132711\n",
      "resampling...\n",
      "loop:  2040\n",
      "delta_pose:  [ 1.23883957e-02  1.83239856e-02 -1.05549525e-09]\n",
      "max corr:  884.0\n",
      "N_eff:  1.0000004501685007\n",
      "resampling...\n",
      "loop:  2050\n",
      "delta_pose:  [ 2.18976324e-02 -1.12112377e-02 -1.05600062e-09]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0000246073853174\n",
      "resampling...\n",
      "loop:  2060\n",
      "delta_pose:  [ 3.22727706e-02 -3.27745832e-02 -3.33235828e-10]\n",
      "max corr:  880.0\n",
      "N_eff:  1.0000123210625633\n",
      "resampling...\n",
      "loop:  2070\n",
      "delta_pose:  [ 2.31844259e-02 -1.40817816e-02  5.27843713e-10]\n",
      "max corr:  861.0\n",
      "N_eff:  1.648054274340589\n",
      "resampling...\n",
      "loop:  2080\n",
      "delta_pose:  [1.30414593e-02 1.53855436e-02 5.28041000e-10]\n",
      "max corr:  844.0\n",
      "N_eff:  1.05033482228938\n",
      "resampling...\n",
      "loop:  2090\n",
      "delta_pose:  [8.33546083e-03 4.32174087e-02 3.24660188e-10]\n",
      "max corr:  898.0\n",
      "N_eff:  1.0000000827988234\n",
      "resampling...\n",
      "loop:  2100\n",
      "delta_pose:  [ 9.66109813e-03  3.06738362e-02 -2.53534971e-10]\n",
      "max corr:  835.0\n",
      "N_eff:  1.000000000003759\n",
      "resampling...\n",
      "loop:  2110\n",
      "delta_pose:  [ 1.69245353e-02  1.60881473e-03 -2.64122946e-10]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0020847728562383\n",
      "resampling...\n",
      "loop:  2120\n",
      "delta_pose:  [ 2.97041497e-02 -2.72800151e-02 -2.53653987e-10]\n",
      "max corr:  883.0\n",
      "N_eff:  1.004991283919062\n",
      "resampling...\n",
      "loop:  2130\n",
      "delta_pose:  [ 2.88556527e-02 -2.69758851e-02  1.28463240e-10]\n",
      "max corr:  874.0\n",
      "N_eff:  1.005204903709813\n",
      "resampling...\n",
      "loop:  2140\n",
      "delta_pose:  [1.72473239e-02 4.24357200e-04 1.31867350e-10]\n",
      "max corr:  884.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  2150\n",
      "delta_pose:  [1.08608000e-02 3.00627493e-02 1.31828048e-10]\n",
      "max corr:  887.0\n",
      "N_eff:  1.001857196247917\n",
      "resampling...\n",
      "loop:  2160\n",
      "delta_pose:  [ 1.01009891e-02  3.69815164e-02 -2.93396973e-11]\n",
      "max corr:  862.0\n",
      "N_eff:  1.0000000005579046\n",
      "resampling...\n",
      "loop:  2170\n",
      "delta_pose:  [ 1.42700592e-02  8.72712705e-03 -6.33724184e-11]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0000000005788388\n",
      "resampling...\n",
      "loop:  2180\n",
      "delta_pose:  [ 2.53045435e-02 -2.05758698e-02 -6.59587940e-11]\n",
      "max corr:  899.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  2190\n",
      "delta_pose:  [ 3.43192589e-02 -3.95675907e-02 -8.92841356e-12]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0373026278943835\n",
      "resampling...\n",
      "loop:  2200\n",
      "delta_pose:  [ 2.32872708e-02 -1.59914317e-02  3.30016015e-11]\n",
      "max corr:  820.0\n",
      "N_eff:  1.03672397781684\n",
      "resampling...\n",
      "loop:  2210\n",
      "delta_pose:  [1.37704879e-02 1.41396843e-02 3.30026562e-11]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0002468196146375\n",
      "resampling...\n",
      "loop:  2220\n",
      "delta_pose:  [9.92671057e-03 3.90968973e-02 1.43711154e-11]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000907998598478\n",
      "resampling...\n",
      "loop:  2230\n",
      "delta_pose:  [ 1.17377156e-02  2.19499974e-02 -1.58415503e-11]\n",
      "max corr:  824.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  2240\n",
      "delta_pose:  [ 1.97318678e-02 -6.98385800e-03 -1.65121250e-11]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0000017458564487\n",
      "resampling...\n",
      "loop:  2250\n",
      "delta_pose:  [ 3.21958718e-02 -3.55022518e-02 -1.31048505e-11]\n",
      "max corr:  883.0\n",
      "N_eff:  1.000000004136285\n",
      "resampling...\n",
      "loop:  2260\n",
      "delta_pose:  [ 2.97477056e-02 -2.98505432e-02  8.25622903e-12]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0002474315600605\n",
      "resampling...\n",
      "loop:  2270\n",
      "delta_pose:  [1.70806240e-02 9.17551510e-04 8.24601498e-12]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0099271757785566\n",
      "resampling...\n",
      "loop:  2280\n",
      "delta_pose:  [1.10851082e-02 3.15857834e-02 8.25312041e-12]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0993286000738751\n",
      "resampling...\n",
      "loop:  2290\n",
      "delta_pose:  [ 9.93123696e-03  3.31038205e-02 -3.17501581e-12]\n",
      "max corr:  846.0\n",
      "N_eff:  1.0000000114108305\n",
      "resampling...\n",
      "loop:  2300\n",
      "delta_pose:  [ 1.56074777e-02  6.14608320e-03 -4.12558876e-12]\n",
      "max corr:  854.0\n",
      "N_eff:  1.1141434346897825\n",
      "resampling...\n",
      "loop:  2310\n",
      "delta_pose:  [ 2.70619614e-02 -2.43547282e-02 -4.12292422e-12]\n",
      "max corr:  878.0\n",
      "N_eff:  1.0000000016023052\n",
      "resampling...\n",
      "loop:  2320\n",
      "delta_pose:  [ 3.38419949e-02 -3.85952672e-02  1.76358927e-13]\n",
      "max corr:  872.0\n",
      "N_eff:  1.000000012722615\n",
      "resampling...\n",
      "loop:  2330\n",
      "delta_pose:  [ 2.17350489e-02 -1.22739090e-02  2.06146211e-12]\n",
      "max corr:  854.0\n",
      "N_eff:  1.0000000127221078\n",
      "resampling...\n",
      "loop:  2340\n",
      "delta_pose:  [1.30484750e-02 1.78531973e-02 2.06057393e-12]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0001030888419091\n",
      "resampling...\n",
      "loop:  2350\n",
      "delta_pose:  [9.88335639e-03 3.96896298e-02 5.33684208e-13]\n",
      "max corr:  876.0\n",
      "N_eff:  1.000002274862588\n",
      "resampling...\n",
      "loop:  2360\n",
      "delta_pose:  [ 1.29713522e-02  1.84066314e-02 -1.02762243e-12]\n",
      "max corr:  852.0\n",
      "N_eff:  1.2678726234746212\n",
      "resampling...\n",
      "loop:  2370\n",
      "delta_pose:  [ 2.04378695e-02 -1.07300709e-02 -9.84989867e-13]\n",
      "max corr:  844.0\n",
      "N_eff:  1.000000307869126\n",
      "resampling...\n",
      "loop:  2380\n",
      "delta_pose:  [ 3.33580999e-02 -3.77279507e-02 -6.29218899e-13]\n",
      "max corr:  825.0\n",
      "N_eff:  1.000852589993159\n",
      "resampling...\n",
      "loop:  2390\n",
      "delta_pose:  [ 2.79533766e-02 -2.61869102e-02  5.15865128e-13]\n",
      "max corr:  837.0\n",
      "N_eff:  1.6480542736973507\n",
      "resampling...\n",
      "loop:  2400\n",
      "delta_pose:  [1.60728725e-02 4.48237905e-03 5.15976151e-13]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0049574738937572\n",
      "resampling...\n",
      "loop:  2410\n",
      "delta_pose:  [1.04670227e-02 3.35721263e-02 4.71622741e-13]\n",
      "max corr:  847.0\n",
      "N_eff:  1.000000000233039\n",
      "resampling...\n",
      "loop:  2420\n",
      "delta_pose:  [ 1.10428111e-02  3.20142652e-02 -2.66453526e-13]\n",
      "max corr:  799.0\n",
      "N_eff:  1.0000000043553208\n",
      "resampling...\n",
      "loop:  2430\n",
      "delta_pose:  [ 1.60991334e-02  1.85444928e-03 -2.55795385e-13]\n",
      "max corr:  814.0\n",
      "N_eff:  1.9595887952635707\n",
      "resampling...\n",
      "loop:  2440\n",
      "delta_pose:  [ 2.89567962e-02 -2.82388469e-02 -2.66453526e-13]\n",
      "max corr:  801.0\n",
      "N_eff:  1.1123472155720946\n",
      "resampling...\n",
      "loop:  2450\n",
      "delta_pose:  [ 3.27536328e-02 -3.65789993e-02  5.71209746e-14]\n",
      "max corr:  842.0\n",
      "N_eff:  1.0000000005584022\n",
      "resampling...\n",
      "loop:  2460\n",
      "delta_pose:  [ 2.03278527e-02 -8.59665473e-03  1.28896893e-13]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0000000831072802\n",
      "resampling...\n",
      "loop:  2470\n",
      "delta_pose:  [1.24112011e-02 2.18102822e-02 1.28841382e-13]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0000000000141642\n",
      "resampling...\n",
      "loop:  2480\n",
      "delta_pose:  [9.45604420e-03 3.78930406e-02 1.09356968e-14]\n",
      "max corr:  815.0\n",
      "N_eff:  1.000000000003759\n",
      "resampling...\n",
      "loop:  2490\n",
      "delta_pose:  [ 1.34478193e-02  1.58622381e-02 -6.66133815e-14]\n",
      "max corr:  824.0\n",
      "N_eff:  1.0000006118251097\n",
      "resampling...\n",
      "loop:  2500\n",
      "delta_pose:  [ 2.25986455e-02 -1.43245401e-02 -6.66133815e-14]\n",
      "max corr:  829.0\n",
      "N_eff:  1.000000030665197\n",
      "resampling...\n",
      "loop:  2510\n",
      "delta_pose:  [ 3.40781234e-02 -3.91469135e-02 -2.91433544e-14]\n",
      "max corr:  834.0\n",
      "N_eff:  1.0000045816647989\n",
      "resampling...\n",
      "loop:  2520\n",
      "delta_pose:  [ 2.61422034e-02 -2.23508978e-02  3.23074900e-14]\n",
      "max corr:  767.0\n",
      "N_eff:  1.0002503717875666\n",
      "resampling...\n",
      "loop:  2530\n",
      "delta_pose:  [1.51309113e-02 8.08860917e-03 3.23074900e-14]\n",
      "max corr:  787.0\n",
      "N_eff:  1.0002803114553533\n",
      "resampling...\n",
      "loop:  2540\n",
      "delta_pose:  [9.79160131e-03 3.44833962e-02 2.40918396e-14]\n",
      "max corr:  823.0\n",
      "N_eff:  1.0000000827987672\n",
      "resampling...\n",
      "loop:  2550\n",
      "delta_pose:  [ 1.13031311e-02  2.97071784e-02 -2.22044605e-14]\n",
      "max corr:  805.0\n",
      "N_eff:  1.6480548178316963\n",
      "resampling...\n",
      "loop:  2560\n",
      "delta_pose:  [ 1.76731873e-02 -9.96264334e-04 -2.22044605e-14]\n",
      "max corr:  767.0\n",
      "N_eff:  1.0134752822213047\n",
      "resampling...\n",
      "loop:  2570\n",
      "delta_pose:  [ 3.06260867e-02 -3.16536885e-02 -2.22044605e-14]\n",
      "max corr:  796.0\n",
      "N_eff:  1.0000045623244618\n",
      "resampling...\n",
      "loop:  2580\n",
      "delta_pose:  [ 3.15080603e-02 -3.41150710e-02  6.27276009e-15]\n",
      "max corr:  798.0\n",
      "N_eff:  1.000000000000578\n",
      "resampling...\n",
      "loop:  2590\n",
      "delta_pose:  [ 1.90219007e-02 -5.05150033e-03  7.93809463e-15]\n",
      "max corr:  761.0\n",
      "N_eff:  1.000000000027776\n",
      "resampling...\n",
      "loop:  2600\n",
      "delta_pose:  [1.18679879e-02 2.55945913e-02 8.04911693e-15]\n",
      "max corr:  782.0\n",
      "N_eff:  1.3065472161378908\n",
      "resampling...\n",
      "loop:  2610\n",
      "delta_pose:  [9.58031377e-03 3.67585094e-02 1.88737914e-15]\n",
      "max corr:  791.0\n",
      "N_eff:  1.0000122886337055\n",
      "resampling...\n",
      "loop:  2620\n",
      "delta_pose:  [0.01418514 0.0121608  0.        ]\n",
      "max corr:  745.0\n",
      "N_eff:  1.0000175385187793\n",
      "resampling...\n",
      "loop:  2630\n",
      "delta_pose:  [ 0.02419279 -0.01804496  0.        ]\n",
      "max corr:  736.0\n",
      "N_eff:  1.0006832481962733\n",
      "resampling...\n",
      "loop:  2640\n",
      "delta_pose:  [ 3.44148837e-02 -3.97498811e-02  9.43689571e-16]\n",
      "max corr:  775.0\n",
      "N_eff:  1.000004830045651\n",
      "resampling...\n",
      "loop:  2650\n",
      "delta_pose:  [ 2.43909932e-02 -1.84983413e-02  2.10942375e-15]\n",
      "max corr:  739.0\n",
      "N_eff:  1.0000000000000253\n",
      "resampling...\n",
      "loop:  2660\n",
      "delta_pose:  [1.42842742e-02 1.17274199e-02 2.10942375e-15]\n",
      "max corr:  748.0\n",
      "N_eff:  1.0384755291496588\n",
      "resampling...\n",
      "loop:  2670\n",
      "delta_pose:  [9.58705971e-03 3.65162729e-02 1.49880108e-15]\n",
      "max corr:  771.0\n",
      "N_eff:  1.0000002251272841\n",
      "resampling...\n",
      "loop:  2680\n",
      "delta_pose:  [0.01178505 0.02606451 0.        ]\n",
      "max corr:  698.0\n",
      "N_eff:  1.0006709251816859\n",
      "resampling...\n",
      "loop:  2690\n",
      "delta_pose:  [ 0.01886124 -0.00456905  0.        ]\n",
      "max corr:  750.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  2700\n",
      "delta_pose:  [ 0.03135367 -0.03368765 -0.00094237]\n",
      "max corr:  765.0\n",
      "N_eff:  1.648055084178751\n",
      "resampling...\n",
      "loop:  2710\n",
      "delta_pose:  [ 0.03214538 -0.03114193 -0.02362686]\n",
      "max corr:  801.0\n",
      "N_eff:  1.037314487269781\n",
      "resampling...\n",
      "loop:  2720\n",
      "delta_pose:  [ 1.96658796e-02 -5.98038632e-05 -2.36410350e-02]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0018239879710196\n",
      "resampling...\n",
      "loop:  2730\n",
      "delta_pose:  [ 0.01389802  0.02981854 -0.02268402]\n",
      "max corr:  768.0\n",
      "N_eff:  1.0000017763278486\n",
      "resampling...\n",
      "loop:  2740\n",
      "delta_pose:  [ 0.01104846  0.03741624 -0.03244093]\n",
      "max corr:  793.0\n",
      "N_eff:  1.0000000015165122\n",
      "resampling...\n",
      "loop:  2750\n",
      "delta_pose:  [ 0.0130331   0.00748725 -0.03545284]\n",
      "max corr:  823.0\n",
      "N_eff:  1.0063028659159012\n",
      "resampling...\n",
      "loop:  2760\n",
      "delta_pose:  [ 0.02042929 -0.02524392 -0.03544046]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0189764520054099\n",
      "resampling...\n",
      "loop:  2770\n",
      "delta_pose:  [ 0.02853515 -0.04472545 -0.03098177]\n",
      "max corr:  861.0\n",
      "N_eff:  1.2659034641034361\n",
      "resampling...\n",
      "loop:  2780\n",
      "delta_pose:  [ 0.02267423 -0.01858475 -0.02950947]\n",
      "max corr:  866.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  2790\n",
      "delta_pose:  [ 0.01939827  0.0130132  -0.02952914]\n",
      "max corr:  855.0\n",
      "N_eff:  1.0366213092249608\n",
      "resampling...\n",
      "loop:  2800\n",
      "delta_pose:  [ 0.01830445  0.03675497 -0.0201852 ]\n",
      "max corr:  876.0\n",
      "N_eff:  1.03661907777108\n",
      "resampling...\n",
      "loop:  2810\n",
      "delta_pose:  [ 0.01348913  0.02212361 -0.00886318]\n",
      "max corr:  876.0\n",
      "N_eff:  1.0000000000279636\n",
      "resampling...\n",
      "loop:  2820\n",
      "delta_pose:  [ 0.01171634 -0.00846439 -0.00886183]\n",
      "max corr:  873.0\n",
      "N_eff:  1.7853920415078997\n",
      "resampling...\n",
      "loop:  2830\n",
      "delta_pose:  [ 0.01353199 -0.03678265 -0.00650804]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0366189961532992\n",
      "resampling...\n",
      "loop:  2840\n",
      "delta_pose:  [ 0.01249114 -0.02873081  0.00442987]\n",
      "max corr:  854.0\n",
      "N_eff:  1.0000006118815523\n",
      "resampling...\n",
      "loop:  2850\n",
      "delta_pose:  [0.01098097 0.00240274 0.00442948]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0000907998607937\n",
      "resampling...\n",
      "loop:  2860\n",
      "delta_pose:  [0.01300791 0.0316967  0.00425454]\n",
      "max corr:  862.0\n",
      "N_eff:  2.0016795800008125\n",
      "resampling...\n",
      "loop:  2870\n",
      "delta_pose:  [ 0.01371373  0.03451265 -0.00179693]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0000006118149316\n",
      "resampling...\n",
      "loop:  2880\n",
      "delta_pose:  [ 0.01131615  0.00491898 -0.00221418]\n",
      "max corr:  879.0\n",
      "N_eff:  1.306542002826989\n",
      "resampling...\n",
      "loop:  2890\n",
      "delta_pose:  [ 0.01263613 -0.0263486  -0.00221553]\n",
      "max corr:  907.0\n",
      "N_eff:  1.0000000304599594\n",
      "resampling...\n",
      "loop:  2900\n",
      "delta_pose:  [ 0.01570616 -0.03872277  0.00023299]\n",
      "max corr:  875.0\n",
      "N_eff:  1.0000000345822686\n",
      "resampling...\n",
      "loop:  2910\n",
      "delta_pose:  [ 0.01482817 -0.01117279  0.00110756]\n",
      "max corr:  859.0\n",
      "N_eff:  1.0993279276343575\n",
      "resampling...\n",
      "loop:  2920\n",
      "delta_pose:  [0.0169011  0.01835424 0.00106328]\n",
      "max corr:  871.0\n",
      "N_eff:  1.0049575874601628\n",
      "resampling...\n",
      "loop:  2930\n",
      "delta_pose:  [0.0227869  0.04073377 0.00028202]\n",
      "max corr:  871.0\n",
      "N_eff:  1.000000000075528\n",
      "resampling...\n",
      "loop:  2940\n",
      "delta_pose:  [ 0.01927043  0.01885701 -0.00055416]\n",
      "max corr:  735.0\n",
      "N_eff:  1.0134753655741684\n",
      "resampling...\n",
      "loop:  2950\n",
      "delta_pose:  [ 0.01746137 -0.0121731  -0.000554  ]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0387269861985216\n",
      "resampling...\n",
      "loop:  2960\n",
      "delta_pose:  [ 0.02019513 -0.03926456 -0.00030622]\n",
      "max corr:  908.0\n",
      "N_eff:  1.004958087214732\n",
      "resampling...\n",
      "loop:  2970\n",
      "delta_pose:  [ 0.01792286 -0.02550295  0.00027681]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0000000000000027\n",
      "resampling...\n",
      "loop:  2980\n",
      "delta_pose:  [0.01574762 0.00507796 0.00026574]\n",
      "max corr:  906.0\n",
      "N_eff:  1.0000002364814033\n",
      "resampling...\n",
      "loop:  2990\n",
      "delta_pose:  [0.02011425 0.03463337 0.00025334]\n",
      "max corr:  902.0\n",
      "N_eff:  1.0135095557363316\n",
      "resampling...\n",
      "loop:  3000\n",
      "delta_pose:  [ 0.0204992   0.03294852 -0.00013845]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0000457034463612\n",
      "resampling...\n",
      "loop:  3010\n",
      "delta_pose:  [ 0.01680449  0.00141559 -0.00013848]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0089547513334014\n",
      "resampling...\n",
      "loop:  3020\n",
      "delta_pose:  [ 0.01948159 -0.03024256 -0.0001385 ]\n",
      "max corr:  924.0\n",
      "N_eff:  1.0024952986358353\n",
      "resampling...\n",
      "loop:  3030\n",
      "delta_pose:  [ 2.00810138e-02 -3.67625642e-02  3.96219504e-05]\n",
      "max corr:  907.0\n",
      "N_eff:  1.013487747518264\n",
      "resampling...\n",
      "loop:  3040\n",
      "delta_pose:  [ 1.60256320e-02 -7.84332746e-03  6.64747131e-05]\n",
      "max corr:  912.0\n",
      "N_eff:  1.0000907998593411\n",
      "resampling...\n",
      "loop:  3050\n",
      "delta_pose:  [1.83123909e-02 2.25220546e-02 6.92812100e-05]\n",
      "max corr:  915.0\n",
      "N_eff:  1.0138168509117707\n",
      "resampling...\n",
      "loop:  3060\n",
      "delta_pose:  [ 0.02019536  0.0402043  -0.01418063]\n",
      "max corr:  909.0\n",
      "N_eff:  1.0000000416660706\n",
      "resampling...\n",
      "loop:  3070\n",
      "delta_pose:  [ 0.01550579  0.01472288 -0.02365641]\n",
      "max corr:  931.0\n",
      "N_eff:  1.0000000000038278\n",
      "resampling...\n",
      "loop:  3080\n",
      "delta_pose:  [ 0.01434464 -0.01652118 -0.02366664]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0289284388522928\n",
      "resampling...\n",
      "loop:  3090\n",
      "delta_pose:  [ 0.01766641 -0.04186708 -0.02773843]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0000340462392658\n",
      "resampling...\n",
      "loop:  3100\n",
      "delta_pose:  [ 0.01760731 -0.02325891 -0.03401941]\n",
      "max corr:  919.0\n",
      "N_eff:  1.0000000006372496\n",
      "resampling...\n",
      "loop:  3110\n",
      "delta_pose:  [ 0.02026029  0.00598721 -0.03542949]\n",
      "max corr:  916.0\n",
      "N_eff:  1.137646744596332\n",
      "resampling...\n",
      "loop:  3120\n",
      "delta_pose:  [ 0.02713553  0.03383678 -0.03357512]\n",
      "max corr:  947.0\n",
      "N_eff:  1.0000000000005091\n",
      "resampling...\n",
      "loop:  3130\n",
      "delta_pose:  [ 0.02156221  0.02578121 -0.02955629]\n",
      "max corr:  932.0\n",
      "N_eff:  1.0000000005616525\n",
      "resampling...\n",
      "loop:  3140\n",
      "delta_pose:  [ 0.0128574  -0.00513004 -0.0295678 ]\n",
      "max corr:  953.0\n",
      "N_eff:  1.0000045511188456\n",
      "resampling...\n",
      "loop:  3150\n",
      "delta_pose:  [ 0.00885599 -0.03499379 -0.02835713]\n",
      "max corr:  952.0\n",
      "N_eff:  1.1429212473524135\n",
      "resampling...\n",
      "loop:  3160\n",
      "delta_pose:  [ 0.0108725  -0.03920124 -0.00970963]\n",
      "max corr:  977.0\n",
      "N_eff:  1.0000004501408626\n",
      "resampling...\n",
      "loop:  3170\n",
      "delta_pose:  [ 0.01535019 -0.00962856 -0.00884679]\n",
      "max corr:  943.0\n",
      "N_eff:  1.0000334034017582\n",
      "resampling...\n",
      "loop:  3180\n",
      "delta_pose:  [ 0.02565827  0.02006976 -0.008856  ]\n",
      "max corr:  956.0\n",
      "N_eff:  1.000037946547688\n",
      "resampling...\n",
      "loop:  3190\n",
      "delta_pose:  [0.03019422 0.03162321 0.00093064]\n",
      "max corr:  942.0\n",
      "N_eff:  1.000001888687278\n",
      "resampling...\n",
      "loop:  3200\n",
      "delta_pose:  [0.01885902 0.00593355 0.00442775]\n",
      "max corr:  960.0\n",
      "N_eff:  1.0006709251803023\n",
      "resampling...\n",
      "loop:  3210\n",
      "delta_pose:  [ 0.01106638 -0.02436358  0.0044287 ]\n",
      "max corr:  942.0\n",
      "N_eff:  1.6480550295381062\n",
      "resampling...\n",
      "loop:  3220\n",
      "delta_pose:  [ 0.00805364 -0.04398305  0.00094725]\n",
      "max corr:  952.0\n",
      "N_eff:  1.001836144909298\n",
      "resampling...\n",
      "loop:  3230\n",
      "delta_pose:  [ 0.01173256 -0.02359687 -0.00221404]\n",
      "max corr:  945.0\n",
      "N_eff:  1.0000000828267865\n",
      "resampling...\n",
      "loop:  3240\n",
      "delta_pose:  [ 0.01999995  0.00656489 -0.00221534]\n",
      "max corr:  941.0\n",
      "N_eff:  1.0000334034053384\n",
      "resampling...\n",
      "loop:  3250\n",
      "delta_pose:  [ 0.03133549  0.03166963 -0.00122556]\n",
      "max corr:  955.0\n",
      "N_eff:  2.036457660034271\n",
      "resampling...\n",
      "loop:  3260\n",
      "delta_pose:  [0.02527476 0.01912939 0.00110797]\n",
      "max corr:  969.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  3270\n",
      "delta_pose:  [ 0.0137035  -0.00955981  0.00106337]\n",
      "max corr:  937.0\n",
      "N_eff:  1.036711425341067\n",
      "resampling...\n",
      "loop:  3280\n",
      "delta_pose:  [ 0.00878242 -0.03905401  0.00101085]\n",
      "max corr:  954.0\n",
      "N_eff:  1.0000000007633183\n",
      "resampling...\n",
      "loop:  3290\n",
      "delta_pose:  [ 0.00944104 -0.03760911 -0.00055379]\n",
      "max corr:  949.0\n",
      "N_eff:  1.0000350680794992\n",
      "resampling...\n",
      "loop:  3300\n",
      "delta_pose:  [ 0.01545286 -0.00632367 -0.00055296]\n",
      "max corr:  942.0\n",
      "N_eff:  1.099327939154366\n",
      "resampling...\n",
      "loop:  3310\n",
      "delta_pose:  [ 0.02752849  0.02311655 -0.00055311]\n",
      "max corr:  964.0\n",
      "N_eff:  1.6480550107808787\n",
      "resampling...\n",
      "loop:  3320\n",
      "delta_pose:  [0.03031957 0.02933428 0.00015766]\n",
      "max corr:  937.0\n",
      "N_eff:  1.2659185617425237\n",
      "resampling...\n",
      "loop:  3330\n",
      "delta_pose:  [0.01772534 0.00274461 0.00026614]\n",
      "max corr:  950.0\n",
      "N_eff:  1.0384755067446674\n",
      "resampling...\n",
      "loop:  3340\n",
      "delta_pose:  [ 0.01081464 -0.02699281  0.00027687]\n",
      "max corr:  965.0\n",
      "N_eff:  1.6480690790356511\n",
      "resampling...\n",
      "loop:  3350\n",
      "delta_pose:  [ 8.14482797e-03 -4.47721270e-02  1.97684124e-05]\n",
      "max corr:  933.0\n",
      "N_eff:  1.0000914116999684\n",
      "resampling...\n",
      "loop:  3360\n",
      "delta_pose:  [ 0.01215339 -0.01960117 -0.00013836]\n",
      "max corr:  946.0\n",
      "N_eff:  1.0000000000000002\n",
      "resampling...\n",
      "loop:  3370\n",
      "delta_pose:  [ 0.02142427  0.01007784 -0.00013849]\n",
      "max corr:  909.0\n",
      "N_eff:  1.0000016636153324\n",
      "resampling...\n",
      "loop:  3380\n",
      "delta_pose:  [ 3.08252766e-02  3.13090010e-02 -5.44512125e-05]\n",
      "max corr:  935.0\n",
      "N_eff:  1.099329755666025\n",
      "resampling...\n",
      "loop:  3390\n",
      "delta_pose:  [2.43262892e-02 1.65407404e-02 6.92033978e-05]\n",
      "max corr:  937.0\n",
      "N_eff:  1.0993279274194332\n",
      "resampling...\n",
      "loop:  3400\n",
      "delta_pose:  [ 1.36108450e-02 -1.29653045e-02  6.91748609e-05]\n",
      "max corr:  965.0\n",
      "N_eff:  1.000000308074538\n",
      "resampling...\n",
      "loop:  3410\n",
      "delta_pose:  [ 8.48494682e-03 -4.17336603e-02  5.08209894e-05]\n",
      "max corr:  940.0\n",
      "N_eff:  1.013566775153133\n",
      "resampling...\n",
      "loop:  3420\n",
      "delta_pose:  [ 9.81374330e-03 -3.38739398e-02 -3.45900485e-05]\n",
      "max corr:  925.0\n",
      "N_eff:  1.2658022288340836\n",
      "resampling...\n",
      "loop:  3430\n",
      "delta_pose:  [ 1.65413212e-02 -2.79299305e-03 -3.46154110e-05]\n",
      "max corr:  921.0\n",
      "N_eff:  1.265802228834647\n",
      "resampling...\n",
      "loop:  3440\n",
      "delta_pose:  [ 2.78238605e-02  2.48429001e-02 -3.32248254e-05]\n",
      "max corr:  920.0\n",
      "N_eff:  1.265835386266874\n",
      "resampling...\n",
      "loop:  3450\n",
      "delta_pose:  [2.94205709e-02 2.75234504e-02 1.40567322e-05]\n",
      "max corr:  910.0\n",
      "N_eff:  1.0018282871919475\n",
      "resampling...\n",
      "loop:  3460\n",
      "delta_pose:  [ 1.74548733e-02 -3.85355286e-05  1.72961860e-05]\n",
      "max corr:  940.0\n",
      "N_eff:  1.0117633355943627\n",
      "resampling...\n",
      "loop:  3470\n",
      "delta_pose:  [ 1.02351518e-02 -3.08380769e-02  1.72987223e-05]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0002591095454705\n",
      "resampling...\n",
      "loop:  3480\n",
      "delta_pose:  [ 8.30710073e-03 -4.34313915e-02 -1.82954199e-06]\n",
      "max corr:  921.0\n",
      "N_eff:  1.2688595201313653\n",
      "resampling...\n",
      "loop:  3490\n",
      "delta_pose:  [ 1.29502527e-02 -1.58369023e-02 -8.65261736e-06]\n",
      "max corr:  929.0\n",
      "N_eff:  1.0000334035086922\n",
      "resampling...\n",
      "loop:  3500\n",
      "delta_pose:  [ 2.17902117e-02  1.25277499e-02 -8.30147746e-06]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0006711508842192\n",
      "resampling...\n",
      "loop:  3510\n",
      "delta_pose:  [ 3.22570921e-02  3.27992171e-02 -2.19340486e-06]\n",
      "max corr:  914.0\n",
      "N_eff:  1.000671008212639\n",
      "resampling...\n",
      "loop:  3520\n",
      "delta_pose:  [2.26484088e-02 1.28748390e-02 4.32593233e-06]\n",
      "max corr:  919.0\n",
      "N_eff:  2.0864649977633203\n",
      "resampling...\n",
      "loop:  3530\n",
      "delta_pose:  [ 1.27620200e-02 -1.66520177e-02  4.32500783e-06]\n",
      "max corr:  923.0\n",
      "N_eff:  1.0000122889826253\n",
      "resampling...\n",
      "loop:  3540\n",
      "delta_pose:  [ 8.25772715e-03 -4.37720796e-02  2.39392538e-06]\n",
      "max corr:  904.0\n",
      "N_eff:  1.282859271115444\n",
      "resampling...\n",
      "loop:  3550\n",
      "delta_pose:  [ 1.03517697e-02 -2.99941254e-02 -2.16132783e-06]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0000000000013833\n",
      "resampling...\n",
      "loop:  3560\n",
      "delta_pose:  [ 1.67952237e-02  1.07775497e-04 -2.07634501e-06]\n",
      "max corr:  915.0\n",
      "N_eff:  2.000012292528151\n",
      "resampling...\n",
      "loop:  3570\n",
      "delta_pose:  [ 2.92810560e-02  2.72209084e-02 -1.97685994e-06]\n",
      "max corr:  924.0\n",
      "N_eff:  1.000125013323106\n",
      "resampling...\n",
      "loop:  3580\n",
      "delta_pose:  [2.88704432e-02 2.56350956e-02 1.08164671e-06]\n",
      "max corr:  906.0\n",
      "N_eff:  1.0000000304877354\n",
      "resampling...\n",
      "loop:  3590\n",
      "delta_pose:  [ 1.62886458e-02 -3.55184593e-03  1.08144831e-06]\n",
      "max corr:  946.0\n",
      "N_eff:  1.0000000112160672\n",
      "resampling...\n",
      "loop:  3600\n",
      "delta_pose:  [ 9.69930208e-03 -3.46449789e-02  1.08043688e-06]\n",
      "max corr:  927.0\n",
      "N_eff:  1.0000908047449986\n",
      "resampling...\n",
      "loop:  3610\n",
      "delta_pose:  [ 0.00966879 -0.04201074 -0.01985478]\n",
      "max corr:  915.0\n",
      "N_eff:  1.0003710743713699\n",
      "resampling...\n",
      "loop:  3620\n",
      "delta_pose:  [ 0.01480973 -0.01350221 -0.02269853]\n",
      "max corr:  907.0\n",
      "N_eff:  1.0000045206588393\n",
      "resampling...\n",
      "loop:  3630\n",
      "delta_pose:  [ 0.02706592  0.01399734 -0.02363818]\n",
      "max corr:  914.0\n",
      "N_eff:  1.6920249341367177\n",
      "resampling...\n",
      "loop:  3640\n",
      "delta_pose:  [ 0.03383125  0.02989649 -0.03007115]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0000000093604064\n",
      "resampling...\n",
      "loop:  3650\n",
      "delta_pose:  [ 0.01956819  0.0080668  -0.03543808]\n",
      "max corr:  923.0\n",
      "N_eff:  1.0018578086214467\n",
      "resampling...\n",
      "loop:  3660\n",
      "delta_pose:  [ 0.00703272 -0.02050839 -0.03543161]\n",
      "max corr:  898.0\n",
      "N_eff:  1.0000334903995884\n",
      "resampling...\n",
      "loop:  3670\n",
      "delta_pose:  [ 0.00087387 -0.04552571 -0.03219452]\n",
      "max corr:  883.0\n",
      "N_eff:  1.0367241643181742\n",
      "resampling...\n",
      "loop:  3680\n",
      "delta_pose:  [ 0.00784921 -0.02848231 -0.02835574]\n",
      "max corr:  901.0\n",
      "N_eff:  1.0049574738935698\n",
      "resampling...\n",
      "loop:  3690\n",
      "delta_pose:  [ 0.02118415 -0.0026239  -0.02952986]\n",
      "max corr:  903.0\n",
      "N_eff:  1.0002468198198968\n",
      "resampling...\n",
      "loop:  3700\n",
      "delta_pose:  [ 0.03790232  0.02025671 -0.02923411]\n",
      "max corr:  905.0\n",
      "N_eff:  1.000246819604415\n",
      "resampling...\n",
      "loop:  3710\n",
      "delta_pose:  [ 0.02950419  0.01516561 -0.03248198]\n",
      "max corr:  887.0\n",
      "N_eff:  1.000280227128224\n",
      "resampling...\n",
      "loop:  3720\n",
      "delta_pose:  [ 0.00978702 -0.00977194 -0.03254038]\n",
      "max corr:  892.0\n",
      "N_eff:  1.2658022541423248\n",
      "resampling...\n",
      "loop:  3730\n",
      "delta_pose:  [-0.00528321 -0.035629   -0.03119886]\n",
      "max corr:  877.0\n",
      "N_eff:  1.099423110486428\n",
      "resampling...\n",
      "loop:  3740\n",
      "delta_pose:  [-0.00401552 -0.04218761 -0.03096909]\n",
      "max corr:  872.0\n",
      "N_eff:  1.0000006118046412\n",
      "resampling...\n",
      "loop:  3750\n",
      "delta_pose:  [ 0.01170781 -0.01609926 -0.03030906]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  3760\n",
      "delta_pose:  [ 0.033751    0.00527378 -0.03118194]\n",
      "max corr:  868.0\n",
      "N_eff:  1.000246819810195\n",
      "resampling...\n",
      "loop:  3770\n",
      "delta_pose:  [ 0.04097676  0.0138318  -0.01353542]\n",
      "max corr:  860.0\n",
      "N_eff:  1.0000006118801477\n",
      "resampling...\n",
      "loop:  3780\n",
      "delta_pose:  [ 0.01885907 -0.00282526 -0.00779881]\n",
      "max corr:  859.0\n",
      "N_eff:  1.0049574738935618\n",
      "resampling...\n",
      "loop:  3790\n",
      "delta_pose:  [-0.00071963 -0.02551004 -0.00812997]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000000304701777\n",
      "resampling...\n",
      "loop:  3800\n",
      "delta_pose:  [-0.01345812 -0.04419813 -0.00205406]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0000000043275628\n",
      "resampling...\n",
      "loop:  3810\n",
      "delta_pose:  [-0.0003617  -0.02666887  0.00406412]\n",
      "max corr:  832.0\n",
      "N_eff:  1.2660774416785114\n",
      "resampling...\n",
      "loop:  3820\n",
      "delta_pose:  [ 0.02079946 -0.00409066  0.00406215]\n",
      "max corr:  811.0\n",
      "N_eff:  1.0996823656492651\n",
      "resampling...\n",
      "loop:  3830\n",
      "delta_pose:  [0.04232273 0.01251861 0.00224705]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0000000000000107\n",
      "resampling...\n",
      "loop:  3840\n",
      "delta_pose:  [ 0.03020368  0.00475874 -0.00195073]\n",
      "max corr:  780.0\n",
      "N_eff:  1.0018237929778833\n",
      "resampling...\n",
      "loop:  3850\n",
      "delta_pose:  [ 0.00812948 -0.01516354 -0.00203067]\n",
      "max corr:  810.0\n",
      "N_eff:  1.8948549321344768\n",
      "resampling...\n",
      "loop:  3860\n",
      "delta_pose:  [-0.01075962 -0.03843287 -0.00185468]\n",
      "max corr:  789.0\n",
      "N_eff:  1.0049637589756835\n",
      "resampling...\n",
      "loop:  3870\n",
      "delta_pose:  [-0.00934677 -0.03743775  0.00101472]\n",
      "max corr:  768.0\n",
      "N_eff:  1.2658539000293911\n",
      "resampling...\n",
      "loop:  3880\n",
      "delta_pose:  [ 0.0106768  -0.01299011  0.00101537]\n",
      "max corr:  767.0\n",
      "N_eff:  1.0000017458562653\n",
      "resampling...\n",
      "loop:  3890\n",
      "delta_pose:  [0.03337333 0.00643146 0.00097532]\n",
      "max corr:  784.0\n",
      "N_eff:  1.1045187427462162\n",
      "resampling...\n",
      "loop:  3900\n",
      "delta_pose:  [ 0.04103787  0.01151174 -0.00022892]\n",
      "max corr:  772.0\n",
      "N_eff:  1.0000007265817952\n",
      "resampling...\n",
      "loop:  3910\n",
      "delta_pose:  [ 0.01800033 -0.00593684 -0.00050759]\n",
      "max corr:  776.0\n",
      "N_eff:  1.0000024999337274\n",
      "resampling...\n",
      "loop:  3920\n",
      "delta_pose:  [-0.00335637 -0.02879628 -0.00050806]\n",
      "max corr:  793.0\n",
      "N_eff:  1.0000045206590011\n",
      "resampling...\n",
      "loop:  3930\n",
      "delta_pose:  [-1.42215205e-02 -4.32709643e-02 -3.77116406e-05]\n",
      "max corr:  781.0\n",
      "N_eff:  1.0503348337749776\n",
      "resampling...\n",
      "loop:  3940\n",
      "delta_pose:  [ 0.00137689 -0.02301018  0.00025416]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0000336590154144\n",
      "resampling...\n",
      "loop:  3950\n",
      "delta_pose:  [ 0.02223265 -0.0017259   0.00024393]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0000334034016\n",
      "resampling...\n",
      "loop:  3960\n",
      "delta_pose:  [0.0434135  0.01296778 0.00010952]\n",
      "max corr:  789.0\n",
      "N_eff:  1.000671539343696\n",
      "resampling...\n",
      "loop:  3970\n",
      "delta_pose:  [ 0.02920749  0.00281368 -0.00012687]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0366236839095744\n",
      "resampling...\n",
      "loop:  3980\n",
      "delta_pose:  [ 0.00572028 -0.01792527 -0.00012695]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0007094746620744\n",
      "resampling...\n",
      "loop:  3990\n",
      "delta_pose:  [-1.25286897e-02 -4.06602333e-02 -9.31808803e-05]\n",
      "max corr:  799.0\n",
      "N_eff:  1.000033600979875\n",
      "resampling...\n",
      "loop:  4000\n",
      "delta_pose:  [-7.59006413e-03 -3.44022952e-02  6.34107009e-05]\n",
      "max corr:  812.0\n",
      "N_eff:  1.0000334340788821\n",
      "resampling...\n",
      "loop:  4010\n",
      "delta_pose:  [ 1.21801351e-02 -1.03642769e-02  6.08826238e-05]\n",
      "max corr:  812.0\n",
      "N_eff:  1.0139848553516777\n",
      "resampling...\n",
      "loop:  4020\n",
      "delta_pose:  [3.72585193e-02 8.40301341e-03 6.34965389e-05]\n",
      "max corr:  846.0\n",
      "N_eff:  1.0000045319066952\n",
      "resampling...\n",
      "loop:  4030\n",
      "delta_pose:  [ 3.90678926e-02  1.00563707e-02 -2.56838076e-05]\n",
      "max corr:  838.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  4040\n",
      "delta_pose:  [ 1.52910081e-02 -8.41705035e-03 -3.17365342e-05]\n",
      "max corr:  827.0\n",
      "N_eff:  1.000000694604825\n",
      "resampling...\n",
      "loop:  4050\n",
      "delta_pose:  [-5.81349749e-03 -3.19986674e-02 -3.17434673e-05]\n",
      "max corr:  837.0\n",
      "N_eff:  1.000000225276309\n",
      "resampling...\n",
      "loop:  4060\n",
      "delta_pose:  [-1.35054377e-02 -4.20503284e-02  3.38131819e-06]\n",
      "max corr:  833.0\n",
      "N_eff:  2.0000000000000284\n",
      "resampling...\n",
      "loop:  4070\n",
      "delta_pose:  [ 3.21984076e-03 -1.97250734e-02  1.52302302e-05]\n",
      "max corr:  807.0\n",
      "N_eff:  2.0018567660919353\n",
      "resampling...\n",
      "loop:  4080\n",
      "delta_pose:  [2.56624536e-02 1.61388227e-04 1.58572673e-05]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000000830077511\n",
      "resampling...\n",
      "loop:  4090\n",
      "delta_pose:  [4.40545511e-02 1.33212302e-02 4.03387555e-06]\n",
      "max corr:  815.0\n",
      "N_eff:  1.2458723565223302\n",
      "resampling...\n",
      "loop:  4100\n",
      "delta_pose:  [ 2.60286227e-02  4.46451990e-04 -7.92633011e-06]\n",
      "max corr:  814.0\n",
      "N_eff:  1.0000000827987545\n",
      "resampling...\n",
      "loop:  4110\n",
      "delta_pose:  [ 3.23467756e-03 -2.07202520e-02 -7.93599438e-06]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0010209748893382\n",
      "resampling...\n",
      "loop:  4120\n",
      "delta_pose:  [-1.31286192e-02 -4.05799928e-02 -4.55550081e-06]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0134758981203027\n",
      "resampling...\n",
      "loop:  4130\n",
      "delta_pose:  [-6.08417321e-03 -3.23423021e-02  3.96502213e-06]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0007617557798312\n",
      "resampling...\n",
      "loop:  4140\n",
      "delta_pose:  [ 1.49696673e-02 -8.71086279e-03  3.96658282e-06]\n",
      "max corr:  797.0\n",
      "N_eff:  1.0000000310456556\n",
      "resampling...\n",
      "loop:  4150\n",
      "delta_pose:  [3.87453798e-02 9.84873001e-03 3.62654268e-06]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0000670330736854\n",
      "resampling...\n",
      "loop:  4160\n",
      "delta_pose:  [ 3.76299569e-02  8.65504063e-03 -1.98431373e-06]\n",
      "max corr:  799.0\n",
      "N_eff:  1.00024681961588\n",
      "resampling...\n",
      "loop:  4170\n",
      "delta_pose:  [ 1.25896909e-02 -1.09371768e-02 -1.98437564e-06]\n",
      "max corr:  801.0\n",
      "N_eff:  1.2659553401980363\n",
      "resampling...\n",
      "loop:  4180\n",
      "delta_pose:  [-7.46731397e-03 -3.32307150e-02 -1.90375438e-06]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0000008383915766\n",
      "resampling...\n",
      "loop:  4190\n",
      "delta_pose:  [-1.26946318e-02 -4.08283567e-02  4.49336622e-07]\n",
      "max corr:  821.0\n",
      "N_eff:  1.0000000002052376\n",
      "resampling...\n",
      "loop:  4200\n",
      "delta_pose:  [ 5.41635304e-03 -1.82696553e-02  9.91893314e-07]\n",
      "max corr:  834.0\n",
      "N_eff:  1.000280227156191\n",
      "resampling...\n",
      "loop:  4210\n",
      "delta_pose:  [2.88867661e-02 2.53766845e-03 9.92022746e-07]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0000000000000107\n",
      "resampling...\n",
      "loop:  4220\n",
      "delta_pose:  [0.04452638 0.01263009 0.01417939]\n",
      "max corr:  848.0\n",
      "N_eff:  1.000091024940092\n",
      "resampling...\n",
      "loop:  4230\n",
      "delta_pose:  [ 0.02473904 -0.00286458  0.02363922]\n",
      "max corr:  819.0\n",
      "N_eff:  1.000000000000587\n",
      "resampling...\n",
      "loop:  4240\n",
      "delta_pose:  [ 0.00382175 -0.02358493  0.02268113]\n",
      "max corr:  827.0\n",
      "N_eff:  1.1002892875299017\n",
      "resampling...\n",
      "loop:  4250\n",
      "delta_pose:  [-0.01076901 -0.04431313  0.02725975]\n",
      "max corr:  826.0\n",
      "N_eff:  1.0367121343161\n",
      "resampling...\n",
      "loop:  4260\n",
      "delta_pose:  [-0.00266572 -0.02773943  0.0354449 ]\n",
      "max corr:  842.0\n",
      "N_eff:  1.000004551119449\n",
      "resampling...\n",
      "loop:  4270\n",
      "delta_pose:  [ 0.01624184 -0.00251628  0.03540681]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0993629078370595\n",
      "resampling...\n",
      "loop:  4280\n",
      "delta_pose:  [0.03736453 0.01803036 0.02983182]\n",
      "max corr:  837.0\n",
      "N_eff:  1.2658029449046773\n",
      "resampling...\n",
      "loop:  4290\n",
      "delta_pose:  [0.03354393 0.01173125 0.00590943]\n",
      "max corr:  805.0\n",
      "N_eff:  1.6481757483519754\n",
      "resampling...\n",
      "loop:  4300\n",
      "delta_pose:  [ 0.01245545 -0.01088321  0.00566829]\n",
      "max corr:  803.0\n",
      "N_eff:  1.00000513658862\n",
      "resampling...\n",
      "loop:  4310\n",
      "delta_pose:  [-0.00237836 -0.03803897  0.00590256]\n",
      "max corr:  813.0\n",
      "N_eff:  1.0000336286922356\n",
      "resampling...\n",
      "loop:  4320\n",
      "delta_pose:  [-0.00406659 -0.03941424 -0.00238891]\n",
      "max corr:  842.0\n",
      "N_eff:  1.0000924744046635\n",
      "resampling...\n",
      "loop:  4330\n",
      "delta_pose:  [ 0.01050829 -0.01324031 -0.00295092]\n",
      "max corr:  802.0\n",
      "N_eff:  1.0000000000013831\n",
      "resampling...\n",
      "loop:  4340\n",
      "delta_pose:  [ 0.0305183   0.01122631 -0.00295333]\n",
      "max corr:  799.0\n",
      "N_eff:  2.380585785698013\n",
      "resampling...\n",
      "loop:  4350\n",
      "delta_pose:  [0.03959383 0.02030492 0.00030733]\n",
      "max corr:  784.0\n",
      "N_eff:  2.640661942191432\n",
      "resampling...\n",
      "loop:  4360\n",
      "delta_pose:  [2.01894340e-02 2.95123755e-05 1.41911724e-03]\n",
      "max corr:  814.0\n",
      "N_eff:  1.0000000828279134\n",
      "resampling...\n",
      "loop:  4370\n",
      "delta_pose:  [ 0.00416299 -0.02539442  0.00147675]\n",
      "max corr:  816.0\n",
      "N_eff:  1.563734172595197\n",
      "resampling...\n",
      "loop:  4380\n",
      "delta_pose:  [-0.00587127 -0.04555321  0.00037418]\n",
      "max corr:  780.0\n",
      "N_eff:  1.0000000000015794\n",
      "resampling...\n",
      "loop:  4390\n",
      "delta_pose:  [ 0.00380886 -0.02566356 -0.00073866]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0384778239222874\n",
      "resampling...\n",
      "loop:  4400\n",
      "delta_pose:  [ 0.02095072  0.00040026 -0.00073894]\n",
      "max corr:  789.0\n",
      "N_eff:  1.6503755341763562\n",
      "resampling...\n",
      "loop:  4410\n",
      "delta_pose:  [ 0.03907759  0.02013413 -0.0004084 ]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0006709556612072\n",
      "resampling...\n",
      "loop:  4420\n",
      "delta_pose:  [0.02762382 0.00818705 0.00035429]\n",
      "max corr:  813.0\n",
      "N_eff:  1.3065441410534717\n",
      "resampling...\n",
      "loop:  4430\n",
      "delta_pose:  [ 0.00862106 -0.01702213  0.00036977]\n",
      "max corr:  846.0\n",
      "N_eff:  1.0366236091149499\n",
      "resampling...\n",
      "loop:  4440\n",
      "delta_pose:  [-0.00728375 -0.04582472  0.00033699]\n",
      "max corr:  828.0\n",
      "N_eff:  1.0077066778893846\n",
      "resampling...\n",
      "loop:  4450\n",
      "delta_pose:  [-0.00706212 -0.04559181 -0.00018448]\n",
      "max corr:  866.0\n",
      "N_eff:  1.0000045206625734\n",
      "resampling...\n",
      "loop:  4460\n",
      "delta_pose:  [ 0.00931959 -0.01575776 -0.00018473]\n",
      "max corr:  841.0\n",
      "N_eff:  1.013475369800081\n",
      "resampling...\n",
      "loop:  4470\n",
      "delta_pose:  [ 0.02804912  0.00799059 -0.00017726]\n",
      "max corr:  823.0\n",
      "N_eff:  1.266077534006302\n",
      "resampling...\n",
      "loop:  4480\n",
      "delta_pose:  [3.48569990e-02 1.46171779e-02 4.17200128e-05]\n",
      "max corr:  817.0\n",
      "N_eff:  1.000565050039712\n",
      "resampling...\n",
      "loop:  4490\n",
      "delta_pose:  [ 1.60262756e-02 -6.47801968e-03  9.22884055e-05]\n",
      "max corr:  863.0\n",
      "N_eff:  1.000246903047556\n",
      "resampling...\n",
      "loop:  4500\n",
      "delta_pose:  [-1.04130127e-03 -3.39496783e-02  9.23710878e-05]\n",
      "max corr:  864.0\n",
      "N_eff:  1.6084147921627554\n",
      "resampling...\n",
      "loop:  4510\n",
      "delta_pose:  [-9.56463920e-03 -5.11957225e-02  6.78009273e-06]\n",
      "max corr:  878.0\n",
      "N_eff:  1.0366536510925743\n",
      "resampling...\n",
      "loop:  4520\n",
      "delta_pose:  [ 2.59088225e-03 -2.69645050e-02 -4.61236850e-05]\n",
      "max corr:  881.0\n",
      "N_eff:  1.0006754473551858\n",
      "resampling...\n",
      "loop:  4530\n",
      "delta_pose:  [ 1.92159205e-02 -1.44482986e-03 -4.42821933e-05]\n",
      "max corr:  856.0\n",
      "N_eff:  1.038477998962647\n",
      "resampling...\n",
      "loop:  4540\n",
      "delta_pose:  [ 3.67992320e-02  1.65215738e-02 -2.00643797e-05]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0368703331895424\n",
      "resampling...\n",
      "loop:  4550\n",
      "delta_pose:  [2.50807897e-02 4.14912809e-03 2.30560582e-05]\n",
      "max corr:  887.0\n",
      "N_eff:  1.0000000000102267\n",
      "resampling...\n",
      "loop:  4560\n",
      "delta_pose:  [ 6.13562024e-03 -2.08413263e-02  2.30578044e-05]\n",
      "max corr:  896.0\n",
      "N_eff:  1.000033403401571\n",
      "resampling...\n",
      "loop:  4570\n",
      "delta_pose:  [-8.17998778e-03 -4.81808042e-02  1.69705029e-05]\n",
      "max corr:  860.0\n",
      "N_eff:  2.0002723929732764\n",
      "resampling...\n",
      "loop:  4580\n",
      "delta_pose:  [-4.32645220e-03 -4.06307447e-02 -1.15343045e-05]\n",
      "max corr:  855.0\n",
      "N_eff:  1.0000907998607302\n",
      "resampling...\n",
      "loop:  4590\n",
      "delta_pose:  [ 1.12234731e-02 -1.18073231e-02 -1.10819095e-05]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0000123316728073\n",
      "resampling...\n",
      "loop:  4600\n",
      "delta_pose:  [ 3.16485408e-02  1.09656743e-02 -1.15384190e-05]\n",
      "max corr:  844.0\n",
      "N_eff:  2.015282344398527\n",
      "resampling...\n",
      "loop:  4610\n",
      "delta_pose:  [3.45159547e-02 1.50363584e-02 4.68728783e-06]\n",
      "max corr:  838.0\n",
      "N_eff:  1.3761907152903192\n",
      "resampling...\n",
      "loop:  4620\n",
      "delta_pose:  [ 1.59302469e-02 -6.29317579e-03  5.77205250e-06]\n",
      "max corr:  844.0\n",
      "N_eff:  1.099423247743544\n",
      "resampling...\n",
      "loop:  4630\n",
      "delta_pose:  [ 7.10713519e-04 -3.24398689e-02  5.77051367e-06]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0366189940633104\n",
      "resampling...\n",
      "loop:  4640\n",
      "delta_pose:  [-2.61671843e-03 -4.25042286e-02 -5.04411367e-07]\n",
      "max corr:  833.0\n",
      "N_eff:  1.0373162117952557\n",
      "resampling...\n",
      "loop:  4650\n",
      "delta_pose:  [ 1.03953772e-02 -2.12959648e-02 -2.88307136e-06]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0366189978247071\n",
      "resampling...\n",
      "loop:  4660\n",
      "delta_pose:  [ 2.98381266e-02  2.15064975e-03 -2.88324326e-06]\n",
      "max corr:  813.0\n",
      "N_eff:  1.6481866845716233\n",
      "resampling...\n",
      "loop:  4670\n",
      "delta_pose:  [ 4.72981585e-02  1.64768776e-02 -7.33639058e-07]\n",
      "max corr:  822.0\n",
      "N_eff:  1.1329635550503465\n",
      "resampling...\n",
      "loop:  4680\n",
      "delta_pose:  [3.11867813e-02 1.05832903e-03 1.44272664e-06]\n",
      "max corr:  812.0\n",
      "N_eff:  1.6919841629294217\n",
      "resampling...\n",
      "loop:  4690\n",
      "delta_pose:  [ 1.21741504e-02 -2.31755299e-02  1.44225735e-06]\n",
      "max corr:  851.0\n",
      "N_eff:  1.0003521964269109\n",
      "resampling...\n",
      "loop:  4700\n",
      "delta_pose:  [ 3.40703033e-04 -4.56224235e-02  8.27517133e-07]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0000908228304777\n",
      "resampling...\n",
      "loop:  4710\n",
      "delta_pose:  [ 5.16783838e-03 -3.57608568e-02 -7.21203023e-07]\n",
      "max corr:  850.0\n",
      "N_eff:  1.0000000000000013\n",
      "resampling...\n",
      "loop:  4720\n",
      "delta_pose:  [ 2.08451798e-02 -8.45678248e-03 -7.21583641e-07]\n",
      "max corr:  831.0\n",
      "N_eff:  1.6642788461111733\n",
      "resampling...\n",
      "loop:  4730\n",
      "delta_pose:  [ 4.15718114e-02  1.34532928e-02 -6.58771298e-07]\n",
      "max corr:  842.0\n",
      "N_eff:  1.6483523999899155\n",
      "resampling...\n",
      "loop:  4740\n",
      "delta_pose:  [4.09542521e-02 1.17767335e-02 3.60694620e-07]\n",
      "max corr:  849.0\n",
      "N_eff:  1.00000000000006\n",
      "resampling...\n",
      "loop:  4750\n",
      "delta_pose:  [ 1.87459147e-02 -1.05381138e-02  3.46156539e-07]\n",
      "max corr:  824.0\n",
      "N_eff:  1.0049575631238603\n",
      "resampling...\n",
      "loop:  4760\n",
      "delta_pose:  [ 4.84650895e-03 -3.84306076e-02  3.60425529e-07]\n",
      "max corr:  859.0\n",
      "N_eff:  1.000000000219362\n",
      "resampling...\n",
      "loop:  4770\n",
      "delta_pose:  [ 1.15807847e-03 -4.62864741e-02 -8.14693946e-08]\n",
      "max corr:  843.0\n",
      "N_eff:  1.000671038683014\n",
      "resampling...\n",
      "loop:  4780\n",
      "delta_pose:  [ 1.35224004e-02 -1.98667115e-02 -1.80333669e-07]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000924629922845\n",
      "resampling...\n",
      "loop:  4790\n",
      "delta_pose:  [ 3.28488587e-02  4.80373207e-03 -1.80290696e-07]\n",
      "max corr:  821.0\n",
      "N_eff:  1.000428480661558\n",
      "resampling...\n",
      "loop:  4800\n",
      "delta_pose:  [ 4.60158224e-02  1.74176369e-02 -1.32552442e-08]\n",
      "max corr:  825.0\n",
      "N_eff:  1.0001242104920038\n",
      "resampling...\n",
      "loop:  4810\n",
      "delta_pose:  [ 2.69975222e-02 -2.11024859e-04  8.65952379e-08]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0002468203681614\n",
      "resampling...\n",
      "loop:  4820\n",
      "delta_pose:  [ 1.08075923e-02 -2.52023018e-02  9.01707561e-08]\n",
      "max corr:  829.0\n",
      "N_eff:  1.000000612362596\n",
      "resampling...\n",
      "loop:  4830\n",
      "delta_pose:  [ 3.40964648e-04 -4.89868526e-02  3.90350233e-08]\n",
      "max corr:  812.0\n",
      "N_eff:  1.0000006162076969\n",
      "resampling...\n",
      "loop:  4840\n",
      "delta_pose:  [ 7.20754379e-03 -3.27349954e-02 -4.50510180e-08]\n",
      "max corr:  806.0\n",
      "N_eff:  1.2713280821719157\n",
      "resampling...\n",
      "loop:  4850\n",
      "delta_pose:  [ 2.32593932e-02 -5.76970509e-03 -4.50859314e-08]\n",
      "max corr:  774.0\n",
      "N_eff:  1.1103115536174772\n",
      "resampling...\n",
      "loop:  4860\n",
      "delta_pose:  [ 0.04144562  0.01470928 -0.00283607]\n",
      "max corr:  807.0\n",
      "N_eff:  2.0000174252107894\n",
      "resampling...\n",
      "loop:  4870\n",
      "delta_pose:  [ 0.03726826  0.01115704 -0.02363285]\n",
      "max corr:  802.0\n",
      "N_eff:  1.014163297343683\n",
      "resampling...\n",
      "loop:  4880\n",
      "delta_pose:  [ 0.0153467  -0.01246029 -0.02364615]\n",
      "max corr:  821.0\n",
      "N_eff:  2.3941913118826816\n",
      "resampling...\n",
      "loop:  4890\n",
      "delta_pose:  [-0.00048338 -0.04042631 -0.02363332]\n",
      "max corr:  851.0\n",
      "N_eff:  1.0416662766175815\n",
      "resampling...\n",
      "loop:  4900\n",
      "delta_pose:  [-0.0001221  -0.04509446 -0.03386519]\n",
      "max corr:  830.0\n",
      "N_eff:  1.6503605954456457\n",
      "resampling...\n",
      "loop:  4910\n",
      "delta_pose:  [ 0.01555295 -0.01995934 -0.03547645]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  4920\n",
      "delta_pose:  [ 0.03632055  0.00090032 -0.03402353]\n",
      "max corr:  827.0\n",
      "N_eff:  1.6540237574613874\n",
      "resampling...\n",
      "loop:  4930\n",
      "delta_pose:  [ 0.04749778  0.00950667 -0.01440457]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0000000000014115\n",
      "resampling...\n",
      "loop:  4940\n",
      "delta_pose:  [ 0.02459908 -0.00654303 -0.00591187]\n",
      "max corr:  803.0\n",
      "N_eff:  2.657648784558573\n",
      "resampling...\n",
      "loop:  4950\n",
      "delta_pose:  [ 0.00342558 -0.02969706 -0.00590655]\n",
      "max corr:  867.0\n",
      "N_eff:  1.038522060926045\n",
      "resampling...\n",
      "loop:  4960\n",
      "delta_pose:  [-0.00895672 -0.04927034 -0.00149643]\n",
      "max corr:  843.0\n",
      "N_eff:  1.0368702495448512\n",
      "resampling...\n",
      "loop:  4970\n",
      "delta_pose:  [ 0.00291809 -0.03017966  0.00283437]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0006715377482043\n",
      "resampling...\n",
      "loop:  4980\n",
      "delta_pose:  [ 0.02365448 -0.00898653  0.00295227]\n",
      "max corr:  805.0\n",
      "N_eff:  1.0006709267728509\n",
      "resampling...\n",
      "loop:  4990\n",
      "delta_pose:  [0.04682379 0.00726018 0.00181711]\n",
      "max corr:  856.0\n",
      "N_eff:  1.6548342367102202\n",
      "resampling...\n",
      "loop:  5000\n",
      "delta_pose:  [ 0.03658097  0.00083465 -0.0014769 ]\n",
      "max corr:  802.0\n",
      "N_eff:  1.2658023678300143\n",
      "resampling...\n",
      "loop:  5010\n",
      "delta_pose:  [ 0.01207159 -0.01910612 -0.00147632]\n",
      "max corr:  820.0\n",
      "N_eff:  1.649160000114976\n",
      "resampling...\n",
      "loop:  5020\n",
      "delta_pose:  [-0.00618064 -0.04321846 -0.00135065]\n",
      "max corr:  818.0\n",
      "N_eff:  1.00184226676853\n",
      "resampling...\n",
      "loop:  5030\n",
      "delta_pose:  [-0.00498192 -0.04107494  0.0007084 ]\n",
      "max corr:  848.0\n",
      "N_eff:  1.000012301710003\n",
      "resampling...\n",
      "loop:  5040\n",
      "delta_pose:  [ 0.01358972 -0.01782659  0.00073736]\n",
      "max corr:  764.0\n",
      "N_eff:  1.6480597202618412\n",
      "resampling...\n",
      "loop:  5050\n",
      "delta_pose:  [0.03859032 0.00165466 0.00073774]\n",
      "max corr:  831.0\n",
      "N_eff:  2.3846182716905386\n",
      "resampling...\n",
      "loop:  5060\n",
      "delta_pose:  [ 0.04602247  0.00665928 -0.00016422]\n",
      "max corr:  786.0\n",
      "N_eff:  1.1376418572263354\n",
      "resampling...\n",
      "loop:  5070\n",
      "delta_pose:  [ 0.0219384  -0.00996979 -0.00036915]\n",
      "max corr:  798.0\n",
      "N_eff:  1.036631503552346\n",
      "resampling...\n",
      "loop:  5080\n",
      "delta_pose:  [ 0.00089719 -0.03313109 -0.00036912]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0006725950235986\n",
      "resampling...\n",
      "loop:  5090\n",
      "delta_pose:  [-0.00882722 -0.04751069 -0.01325873]\n",
      "max corr:  816.0\n",
      "N_eff:  1.0993635595660596\n",
      "resampling...\n",
      "loop:  5100\n",
      "delta_pose:  [ 0.00533283 -0.03004818 -0.0234407 ]\n",
      "max corr:  788.0\n",
      "N_eff:  1.03661902623457\n",
      "resampling...\n",
      "loop:  5110\n",
      "delta_pose:  [ 0.02782286 -0.00936093 -0.02343875]\n",
      "max corr:  791.0\n",
      "N_eff:  1.0612146331613292\n",
      "resampling...\n",
      "loop:  5120\n",
      "delta_pose:  [ 0.04922963  0.00420321 -0.02720526]\n",
      "max corr:  832.0\n",
      "N_eff:  1.0049580984721191\n",
      "resampling...\n",
      "loop:  5130\n",
      "delta_pose:  [ 0.03166256 -0.00285881 -0.03553316]\n",
      "max corr:  805.0\n",
      "N_eff:  1.203099004668356\n",
      "resampling...\n",
      "loop:  5140\n",
      "delta_pose:  [ 0.00551369 -0.02073143 -0.03554345]\n",
      "max corr:  797.0\n",
      "N_eff:  1.9675350463527805\n",
      "resampling...\n",
      "loop:  5150\n",
      "delta_pose:  [-0.01418333 -0.04041678 -0.03246627]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0203982864218988\n",
      "resampling...\n",
      "loop:  5160\n",
      "delta_pose:  [-0.00945163 -0.04108573 -0.02947293]\n",
      "max corr:  809.0\n",
      "N_eff:  2.000000000014486\n",
      "resampling...\n",
      "loop:  5170\n",
      "delta_pose:  [ 0.01406648 -0.02074484 -0.02947084]\n",
      "max corr:  790.0\n",
      "N_eff:  1.0018757314032452\n",
      "resampling...\n",
      "loop:  5180\n",
      "delta_pose:  [ 0.0425964  -0.0085162  -0.02948732]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0052056872603712\n",
      "resampling...\n",
      "loop:  5190\n",
      "delta_pose:  [ 0.04270518 -0.00594481 -0.00980226]\n",
      "max corr:  790.0\n",
      "N_eff:  1.0001033140000422\n",
      "resampling...\n",
      "loop:  5200\n",
      "delta_pose:  [ 0.01454613 -0.01662457 -0.00888484]\n",
      "max corr:  814.0\n",
      "N_eff:  1.0002514541700294\n",
      "resampling...\n",
      "loop:  5210\n",
      "delta_pose:  [-0.01061614 -0.03265825 -0.00852464]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0018572080224066\n",
      "resampling...\n",
      "loop:  5220\n",
      "delta_pose:  [-0.02170703 -0.04371949  0.00040288]\n",
      "max corr:  819.0\n",
      "N_eff:  1.000001663090392\n",
      "resampling...\n",
      "loop:  5230\n",
      "delta_pose:  [-0.0003464  -0.0267606   0.00444567]\n",
      "max corr:  783.0\n",
      "N_eff:  1.0000909673919574\n",
      "resampling...\n",
      "loop:  5240\n",
      "delta_pose:  [ 0.02718502 -0.012947    0.00443909]\n",
      "max corr:  792.0\n",
      "N_eff:  1.1180031360739149\n",
      "resampling...\n",
      "loop:  5250\n",
      "delta_pose:  [ 0.0486602  -0.00641811  0.00112701]\n",
      "max corr:  799.0\n",
      "N_eff:  1.0000006497495408\n",
      "resampling...\n",
      "loop:  5260\n",
      "delta_pose:  [ 0.02732539 -0.01235973 -0.00222068]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0000001132589287\n",
      "resampling...\n",
      "loop:  5270\n",
      "delta_pose:  [ 6.64053983e-05 -2.43796415e-02 -2.13210430e-03]\n",
      "max corr:  795.0\n",
      "N_eff:  1.0000381605525377\n",
      "resampling...\n",
      "loop:  5280\n",
      "delta_pose:  [-0.02170899 -0.04228829 -0.00136419]\n",
      "max corr:  781.0\n",
      "N_eff:  1.0000247506302813\n",
      "resampling...\n",
      "loop:  5290\n",
      "delta_pose:  [-0.01215347 -0.03490273  0.00111117]\n",
      "max corr:  801.0\n",
      "N_eff:  1.0000000000000742\n",
      "resampling...\n",
      "loop:  5300\n",
      "delta_pose:  [ 0.01437807 -0.01777347  0.00111129]\n",
      "max corr:  776.0\n",
      "N_eff:  1.1045205750043023\n",
      "resampling...\n",
      "loop:  5310\n",
      "delta_pose:  [ 0.04278186 -0.0079798   0.00101396]\n",
      "max corr:  823.0\n",
      "N_eff:  1.0006725888070527\n",
      "resampling...\n",
      "loop:  5320\n",
      "delta_pose:  [ 0.04022782 -0.00824437 -0.00053264]\n",
      "max corr:  749.0\n",
      "N_eff:  1.0000000000770741\n",
      "resampling...\n",
      "loop:  5330\n",
      "delta_pose:  [ 0.01236672 -0.01850701 -0.00055485]\n",
      "max corr:  796.0\n",
      "N_eff:  1.0000045816583298\n",
      "resampling...\n",
      "loop:  5340\n",
      "delta_pose:  [-0.0140451  -0.03600946 -0.0005546 ]\n",
      "max corr:  789.0\n",
      "N_eff:  1.1141821372163403\n",
      "resampling...\n",
      "loop:  5350\n",
      "delta_pose:  [-0.02106019 -0.04154478  0.00012379]\n",
      "max corr:  790.0\n",
      "N_eff:  1.0000000000037879\n",
      "resampling...\n",
      "loop:  5360\n",
      "delta_pose:  [ 0.00242724 -0.02408101  0.00027789]\n",
      "max corr:  787.0\n",
      "N_eff:  1.0000123303458208\n",
      "resampling...\n",
      "loop:  5370\n",
      "delta_pose:  [ 0.03112934 -0.01154889  0.00027767]\n",
      "max corr:  760.0\n",
      "N_eff:  1.0993327483647546\n",
      "resampling...\n",
      "loop:  5380\n",
      "delta_pose:  [ 4.69998664e-02 -6.31837451e-03  2.59583898e-05]\n",
      "max corr:  681.0\n",
      "N_eff:  2.0613973292121326\n",
      "resampling...\n",
      "loop:  5390\n",
      "delta_pose:  [ 0.02515648 -0.01338583 -0.00013879]\n",
      "max corr:  692.0\n",
      "N_eff:  1.001823773705997\n",
      "resampling...\n",
      "loop:  5400\n",
      "delta_pose:  [-0.00257343 -0.02725923 -0.00013885]\n",
      "max corr:  736.0\n",
      "N_eff:  2.0190984409824155\n",
      "resampling...\n",
      "loop:  5410\n",
      "delta_pose:  [-2.31575102e-02 -4.32355584e-02 -6.02900340e-05]\n",
      "max corr:  780.0\n",
      "N_eff:  2.0018278723506224\n",
      "resampling...\n",
      "loop:  5420\n",
      "delta_pose:  [-9.32599428e-03 -3.22428584e-02  6.94048388e-05]\n",
      "max corr:  749.0\n",
      "N_eff:  1.0134752822226964\n",
      "resampling...\n",
      "loop:  5430\n",
      "delta_pose:  [ 1.63953304e-02 -1.57914307e-02  6.66767120e-05]\n",
      "max corr:  720.0\n",
      "N_eff:  2.050044565013497\n",
      "resampling...\n",
      "loop:  5440\n",
      "delta_pose:  [ 4.47968052e-02 -7.53088387e-03  5.50898840e-05]\n",
      "max corr:  787.0\n",
      "N_eff:  1.000000088670606\n",
      "resampling...\n",
      "loop:  5450\n",
      "delta_pose:  [ 3.91418439e-02 -9.36738163e-03 -3.46937531e-05]\n",
      "max corr:  654.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  5460\n",
      "delta_pose:  [ 9.14013279e-03 -2.01834159e-02 -3.47022881e-05]\n",
      "max corr:  762.0\n",
      "N_eff:  1.0000016742638096\n",
      "resampling...\n",
      "loop:  5470\n",
      "delta_pose:  [-1.70006047e-02 -3.84636734e-02 -3.47017300e-05]\n",
      "max corr:  762.0\n",
      "N_eff:  1.0134968517701997\n",
      "resampling...\n",
      "loop:  5480\n",
      "delta_pose:  [-1.90974626e-02 -3.96517581e-02  1.40845974e-05]\n",
      "max corr:  734.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  5490\n",
      "delta_pose:  [ 4.81983747e-03 -2.15309440e-02  1.66623664e-05]\n",
      "max corr:  747.0\n",
      "N_eff:  1.10646874913845\n",
      "resampling...\n",
      "loop:  5500\n",
      "delta_pose:  [ 3.37342455e-02 -1.08030217e-02  1.73554772e-05]\n",
      "max corr:  747.0\n",
      "N_eff:  1.0000000134927551\n",
      "resampling...\n",
      "loop:  5510\n",
      "delta_pose:  [ 4.78442094e-02 -6.84442438e-03 -8.10726972e-07]\n",
      "max corr:  752.0\n",
      "N_eff:  1.7709376780016983\n",
      "resampling...\n",
      "loop:  5520\n",
      "delta_pose:  [ 2.15635904e-02 -1.46716245e-02 -8.67339723e-06]\n",
      "max corr:  746.0\n",
      "N_eff:  2.3711235295862343\n",
      "resampling...\n",
      "loop:  5530\n",
      "delta_pose:  [-5.75188645e-03 -2.95021417e-02 -8.67274890e-06]\n",
      "max corr:  744.0\n",
      "N_eff:  2.0101623700630644\n",
      "resampling...\n",
      "loop:  5540\n",
      "delta_pose:  [-2.28411064e-02 -4.20200735e-02 -2.38473676e-06]\n",
      "max corr:  740.0\n",
      "N_eff:  1.0000000001134972\n",
      "resampling...\n",
      "loop:  5550\n",
      "delta_pose:  [-7.22383395e-03 -3.05858903e-02  4.33441303e-06]\n",
      "max corr:  737.0\n",
      "N_eff:  1.0002470865787108\n",
      "resampling...\n",
      "loop:  5560\n",
      "delta_pose:  [ 1.99415681e-02 -1.52973115e-02  4.33794194e-06]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0010543841252015\n",
      "resampling...\n",
      "loop:  5570\n",
      "delta_pose:  [ 0.04688023 -0.00673893 -0.00566238]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0000045206601968\n",
      "resampling...\n",
      "loop:  5580\n",
      "delta_pose:  [ 0.03428926 -0.00897224 -0.02363616]\n",
      "max corr:  701.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  5590\n",
      "delta_pose:  [ 0.00416826 -0.01991609 -0.02364893]\n",
      "max corr:  736.0\n",
      "N_eff:  1.0000000828012756\n",
      "resampling...\n",
      "loop:  5600\n",
      "delta_pose:  [-0.02125001 -0.03560281 -0.02300965]\n",
      "max corr:  755.0\n",
      "N_eff:  1.0135666903471825\n",
      "resampling...\n",
      "loop:  5610\n",
      "delta_pose:  [-0.02001605 -0.03847138 -0.03447456]\n",
      "max corr:  758.0\n",
      "N_eff:  1.6488625949240165\n",
      "resampling...\n",
      "loop:  5620\n",
      "delta_pose:  [ 0.00629197 -0.0240576  -0.03547817]\n",
      "max corr:  756.0\n",
      "N_eff:  1.0000460045879789\n",
      "resampling...\n",
      "loop:  5630\n",
      "delta_pose:  [ 0.03687641 -0.01696521 -0.03544374]\n",
      "max corr:  745.0\n",
      "N_eff:  1.0000041975840228\n",
      "resampling...\n",
      "loop:  5640\n",
      "delta_pose:  [ 0.04337112 -0.01319309 -0.02976144]\n",
      "max corr:  762.0\n",
      "N_eff:  1.0000000001510099\n",
      "resampling...\n",
      "loop:  5650\n",
      "delta_pose:  [ 0.01367759 -0.01637247 -0.02949101]\n",
      "max corr:  752.0\n",
      "N_eff:  1.3791983415684579\n",
      "resampling...\n",
      "loop:  5660\n",
      "delta_pose:  [-0.01526988 -0.02500934 -0.02835041]\n",
      "max corr:  798.0\n",
      "N_eff:  1.0134766807355828\n",
      "resampling...\n",
      "loop:  5670\n",
      "delta_pose:  [-0.03403919 -0.03675832 -0.03046834]\n",
      "max corr:  784.0\n",
      "N_eff:  1.0000457247454735\n",
      "resampling...\n",
      "loop:  5680\n",
      "delta_pose:  [-0.01167919 -0.02898953 -0.03251516]\n",
      "max corr:  809.0\n",
      "N_eff:  1.6643737255835533\n",
      "resampling...\n",
      "loop:  5690\n",
      "delta_pose:  [ 0.01826475 -0.02345996 -0.03249868]\n",
      "max corr:  788.0\n",
      "N_eff:  1.0000006466968863\n",
      "resampling...\n",
      "loop:  5700\n",
      "delta_pose:  [ 0.04306663 -0.02204288 -0.03958368]\n",
      "max corr:  795.0\n",
      "N_eff:  2.036457431410911\n",
      "resampling...\n",
      "loop:  5710\n",
      "delta_pose:  [ 0.02373402 -0.01479598 -0.05246779]\n",
      "max corr:  752.0\n",
      "N_eff:  2.371077899441096\n",
      "resampling...\n",
      "loop:  5720\n",
      "delta_pose:  [-0.00659766 -0.01386816 -0.05461689]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0049574851584766\n",
      "resampling...\n",
      "loop:  5730\n",
      "delta_pose:  [-0.0367198  -0.01736992 -0.05477812]\n",
      "max corr:  797.0\n",
      "N_eff:  1.3479160830730155\n",
      "resampling...\n",
      "loop:  5740\n",
      "delta_pose:  [-0.03354207 -0.02270805 -0.06721527]\n",
      "max corr:  815.0\n",
      "N_eff:  1.648095255892865\n",
      "resampling...\n",
      "loop:  5750\n",
      "delta_pose:  [-0.00285465 -0.0234072  -0.0672187 ]\n",
      "max corr:  763.0\n",
      "N_eff:  1.0002591924304378\n",
      "resampling...\n",
      "loop:  5760\n",
      "delta_pose:  [ 0.02631389 -0.03293393 -0.06721953]\n",
      "max corr:  772.0\n",
      "N_eff:  2.2643809338852545\n",
      "resampling...\n",
      "loop:  5770\n",
      "delta_pose:  [ 0.02669229 -0.02833197 -0.03635938]\n",
      "max corr:  772.0\n",
      "N_eff:  1.0000045210719928\n",
      "resampling...\n",
      "loop:  5780\n",
      "delta_pose:  [ 0.00037798 -0.0184768  -0.03730382]\n",
      "max corr:  785.0\n",
      "N_eff:  1.0000000112334382\n",
      "resampling...\n",
      "loop:  5790\n",
      "delta_pose:  [-0.03107415 -0.01235402 -0.03729581]\n",
      "max corr:  790.0\n",
      "N_eff:  1.0503745419507953\n",
      "resampling...\n",
      "loop:  5800\n",
      "delta_pose:  [-0.04827693 -0.0139029  -0.03041201]\n",
      "max corr:  826.0\n",
      "N_eff:  1.0134752864477228\n",
      "resampling...\n",
      "loop:  5810\n",
      "delta_pose:  [-0.02264936 -0.01975524 -0.0286111 ]\n",
      "max corr:  763.0\n",
      "N_eff:  1.2810909856561028\n",
      "resampling...\n",
      "loop:  5820\n",
      "delta_pose:  [ 0.00403545 -0.03030484 -0.02746042]\n",
      "max corr:  752.0\n",
      "N_eff:  1.0417463271339455\n",
      "resampling...\n",
      "loop:  5830\n",
      "delta_pose:  [ 0.02280677 -0.04266454 -0.02978659]\n",
      "max corr:  809.0\n",
      "N_eff:  1.2658022334472305\n",
      "resampling...\n",
      "loop:  5840\n",
      "delta_pose:  [ 0.00717545 -0.02706354 -0.03293585]\n",
      "max corr:  763.0\n",
      "N_eff:  1.0000668185670534\n",
      "resampling...\n",
      "loop:  5850\n",
      "delta_pose:  [-0.01949714 -0.0110144  -0.03295969]\n",
      "max corr:  788.0\n",
      "N_eff:  1.0000122889869232\n",
      "resampling...\n",
      "loop:  5860\n",
      "delta_pose:  [-0.0469232  -0.00170888 -0.03158172]\n",
      "max corr:  796.0\n",
      "N_eff:  1.000672602081481\n",
      "resampling...\n",
      "loop:  5870\n",
      "delta_pose:  [-0.03851505 -0.00838877 -0.03077917]\n",
      "max corr:  760.0\n",
      "N_eff:  1.0142547486288276\n",
      "resampling...\n",
      "loop:  5880\n",
      "delta_pose:  [-0.01145058 -0.02183678 -0.02954025]\n",
      "max corr:  760.0\n",
      "N_eff:  1.0993285680959732\n",
      "resampling...\n",
      "loop:  5890\n",
      "delta_pose:  [ 0.00906408 -0.04432569 -0.03082048]\n",
      "max corr:  766.0\n",
      "N_eff:  1.0000006118046474\n",
      "resampling...\n",
      "loop:  5900\n",
      "delta_pose:  [ 0.00970086 -0.03815025 -0.03105834]\n",
      "max corr:  685.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  5910\n",
      "delta_pose:  [-0.01086694 -0.01560642 -0.0318655 ]\n",
      "max corr:  768.0\n",
      "N_eff:  1.0000002251463707\n",
      "resampling...\n",
      "loop:  5920\n",
      "delta_pose:  [-0.03686464  0.00308639 -0.0318737 ]\n",
      "max corr:  764.0\n",
      "N_eff:  1.000108269083652\n",
      "resampling...\n",
      "loop:  5930\n",
      "delta_pose:  [-0.04615215  0.00664627 -0.01168552]\n",
      "max corr:  782.0\n",
      "N_eff:  1.1000352404325247\n",
      "resampling...\n",
      "loop:  5940\n",
      "delta_pose:  [-0.02240422 -0.00933042 -0.00738944]\n",
      "max corr:  763.0\n",
      "N_eff:  2.373614061408494\n",
      "resampling...\n",
      "loop:  5950\n",
      "delta_pose:  [-0.00315943 -0.03221961 -0.00770581]\n",
      "max corr:  781.0\n",
      "N_eff:  1.0000000000155727\n",
      "resampling...\n",
      "loop:  5960\n",
      "delta_pose:  [ 0.00907762 -0.04671855 -0.00102624]\n",
      "max corr:  770.0\n",
      "N_eff:  1.64809461950157\n",
      "resampling...\n",
      "loop:  5970\n",
      "delta_pose:  [-0.00249971 -0.02424152  0.00384883]\n",
      "max corr:  754.0\n",
      "N_eff:  1.0002490947586269\n",
      "resampling...\n",
      "loop:  5980\n",
      "delta_pose:  [-2.19769354e-02 -5.49118623e-05  3.84779351e-03]\n",
      "max corr:  771.0\n",
      "N_eff:  1.0006710192161874\n",
      "resampling...\n",
      "loop:  5990\n",
      "delta_pose:  [-0.0377229   0.01793796  0.00930389]\n",
      "max corr:  772.0\n",
      "N_eff:  2.967526512196224\n",
      "resampling...\n",
      "loop:  6000\n",
      "delta_pose:  [-0.02364418  0.01105665  0.02169893]\n",
      "max corr:  771.0\n",
      "N_eff:  1.0000016692863904\n",
      "resampling...\n",
      "loop:  6010\n",
      "delta_pose:  [ 0.00029491 -0.00979777  0.02172805]\n",
      "max corr:  773.0\n",
      "N_eff:  1.0049582011172002\n",
      "resampling...\n",
      "loop:  6020\n",
      "delta_pose:  [ 0.02125614 -0.03070742  0.02288452]\n",
      "max corr:  822.0\n",
      "N_eff:  1.0000045206601973\n",
      "resampling...\n",
      "loop:  6030\n",
      "delta_pose:  [ 0.01825046 -0.02602942  0.03640477]\n",
      "max corr:  839.0\n",
      "N_eff:  1.000670927827732\n",
      "resampling...\n",
      "loop:  6040\n",
      "delta_pose:  [-0.00327646 -0.00362456  0.03492571]\n",
      "max corr:  810.0\n",
      "N_eff:  1.0049603999065162\n",
      "resampling...\n",
      "loop:  6050\n",
      "delta_pose:  [-0.02622811  0.01695805  0.03639393]\n",
      "max corr:  841.0\n",
      "N_eff:  1.0049574754175907\n",
      "resampling...\n",
      "loop:  6060\n",
      "delta_pose:  [-0.02652797  0.02387907  0.02903919]\n",
      "max corr:  838.0\n",
      "N_eff:  1.000000011209446\n",
      "resampling...\n",
      "loop:  6070\n",
      "delta_pose:  [-0.00295627  0.00624314  0.02906766]\n",
      "max corr:  856.0\n",
      "N_eff:  1.00000004373996\n",
      "resampling...\n",
      "loop:  6080\n",
      "delta_pose:  [ 0.02241295 -0.0120491   0.02904495]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000000002052376\n",
      "resampling...\n",
      "loop:  6090\n",
      "delta_pose:  [ 0.03266567 -0.02260693  0.03077378]\n",
      "max corr:  861.0\n",
      "N_eff:  1.000033403401571\n",
      "resampling...\n",
      "loop:  6100\n",
      "delta_pose:  [ 0.00946999 -0.00923957  0.03141063]\n",
      "max corr:  874.0\n",
      "N_eff:  1.0134752863717211\n",
      "resampling...\n",
      "loop:  6110\n",
      "delta_pose:  [-0.01609514  0.00571967  0.03275196]\n",
      "max corr:  876.0\n",
      "N_eff:  1.000033416124085\n",
      "resampling...\n",
      "loop:  6120\n",
      "delta_pose:  [-0.03565705  0.01867776  0.03108783]\n",
      "max corr:  881.0\n",
      "N_eff:  1.0018238494151057\n",
      "resampling...\n",
      "loop:  6130\n",
      "delta_pose:  [-0.01652441  0.0115144   0.03089958]\n",
      "max corr:  879.0\n",
      "N_eff:  1.0000002265869317\n",
      "resampling...\n",
      "loop:  6140\n",
      "delta_pose:  [ 0.01137439 -0.00170604  0.03088012]\n",
      "max corr:  860.0\n",
      "N_eff:  1.013736743643274\n",
      "resampling...\n",
      "loop:  6150\n",
      "delta_pose:  [ 0.03487368 -0.01294902  0.0290391 ]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0000123037540833\n",
      "resampling...\n",
      "loop:  6160\n",
      "delta_pose:  [ 0.02546837 -0.01275235  0.03183083]\n",
      "max corr:  897.0\n",
      "N_eff:  1.0013560363452843\n",
      "resampling...\n",
      "loop:  6170\n",
      "delta_pose:  [-0.00402185 -0.00192638  0.03182551]\n",
      "max corr:  878.0\n",
      "N_eff:  1.036631502778611\n",
      "resampling...\n",
      "loop:  6180\n",
      "delta_pose:  [-0.03346749  0.00775522  0.03179124]\n",
      "max corr:  883.0\n",
      "N_eff:  1.2808193515849278\n",
      "resampling...\n",
      "loop:  6190\n",
      "delta_pose:  [-0.03050127  0.01118805  0.03050375]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0366315675429292\n",
      "resampling...\n",
      "loop:  6200\n",
      "delta_pose:  [-0.00156276  0.00364183  0.03136171]\n",
      "max corr:  876.0\n",
      "N_eff:  1.0000000077132551\n",
      "resampling...\n",
      "loop:  6210\n",
      "delta_pose:  [ 0.02734899 -0.00296396  0.03009326]\n",
      "max corr:  880.0\n",
      "N_eff:  1.00000605222052\n",
      "resampling...\n",
      "loop:  6220\n",
      "delta_pose:  [ 0.03730083 -0.00910643  0.01276638]\n",
      "max corr:  893.0\n",
      "N_eff:  1.6664714587167881\n",
      "resampling...\n",
      "loop:  6230\n",
      "delta_pose:  [ 0.00915403 -0.00605183  0.00795531]\n",
      "max corr:  877.0\n",
      "N_eff:  1.0004936809743157\n",
      "resampling...\n",
      "loop:  6240\n",
      "delta_pose:  [-0.02180261 -0.00301849  0.00794171]\n",
      "max corr:  883.0\n",
      "N_eff:  1.0135667790276546\n",
      "resampling...\n",
      "loop:  6250\n",
      "delta_pose:  [-0.04166962 -0.00395869  0.00106213]\n",
      "max corr:  874.0\n",
      "N_eff:  2.0982644708453675\n",
      "resampling...\n",
      "loop:  6260\n",
      "delta_pose:  [-0.01728915 -0.00766498 -0.00381646]\n",
      "max corr:  886.0\n",
      "N_eff:  1.0000336284812366\n",
      "resampling...\n",
      "loop:  6270\n",
      "delta_pose:  [ 0.01185408 -0.01383929 -0.00397095]\n",
      "max corr:  853.0\n",
      "N_eff:  1.0384763629037352\n",
      "resampling...\n",
      "loop:  6280\n",
      "delta_pose:  [ 0.03734752 -0.02262869 -0.00195931]\n",
      "max corr:  858.0\n",
      "N_eff:  1.0049909599624753\n",
      "resampling...\n",
      "loop:  6290\n",
      "delta_pose:  [ 0.02182809 -0.02085935  0.00198822]\n",
      "max corr:  881.0\n",
      "N_eff:  1.0993288054675703\n",
      "resampling...\n",
      "loop:  6300\n",
      "delta_pose:  [-0.00926777 -0.01550184  0.00199082]\n",
      "max corr:  839.0\n",
      "N_eff:  1.2658023557471179\n",
      "resampling...\n",
      "loop:  6310\n",
      "delta_pose:  [-0.03893262 -0.01549626  0.00157698]\n",
      "max corr:  856.0\n",
      "N_eff:  1.1396200315721463\n",
      "resampling...\n",
      "loop:  6320\n",
      "delta_pose:  [-0.03239714 -0.01518519 -0.00095464]\n",
      "max corr:  864.0\n",
      "N_eff:  1.000704340065083\n",
      "resampling...\n",
      "loop:  6330\n",
      "delta_pose:  [-0.00237613 -0.01654722 -0.00099414]\n",
      "max corr:  843.0\n",
      "N_eff:  1.000013962698172\n",
      "resampling...\n",
      "loop:  6340\n",
      "delta_pose:  [ 0.0287182  -0.023557   -0.00099424]\n",
      "max corr:  861.0\n",
      "N_eff:  1.000124204777396\n",
      "resampling...\n",
      "loop:  6350\n",
      "delta_pose:  [ 0.03314689 -0.02442629  0.00034427]\n",
      "max corr:  844.0\n",
      "N_eff:  1.8118674225172455\n",
      "resampling...\n",
      "loop:  6360\n",
      "delta_pose:  [ 0.00417549 -0.01732356  0.00049718]\n",
      "max corr:  846.0\n",
      "N_eff:  1.0000017473727751\n",
      "resampling...\n",
      "loop:  6370\n",
      "delta_pose:  [-0.0256186  -0.01464237  0.00047722]\n",
      "max corr:  869.0\n",
      "N_eff:  1.7663525368935882\n",
      "resampling...\n",
      "loop:  6380\n",
      "delta_pose:  [-4.24662400e-02 -1.56897252e-02  6.91209109e-06]\n",
      "max corr:  860.0\n",
      "N_eff:  2.0020948628970006\n",
      "resampling...\n",
      "loop:  6390\n",
      "delta_pose:  [-0.01598949 -0.01538325 -0.00024854]\n",
      "max corr:  852.0\n",
      "N_eff:  1.0000188696174488\n",
      "resampling...\n",
      "loop:  6400\n",
      "delta_pose:  [ 0.01482427 -0.01970113 -0.00024863]\n",
      "max corr:  836.0\n",
      "N_eff:  1.0384898096253583\n",
      "resampling...\n",
      "loop:  6410\n",
      "delta_pose:  [ 3.77846396e-02 -2.61630476e-02 -7.79529672e-05]\n",
      "max corr:  875.0\n",
      "N_eff:  1.6480600068506395\n",
      "resampling...\n",
      "loop:  6420\n",
      "delta_pose:  [ 0.0177267  -0.01975047  0.0001193 ]\n",
      "max corr:  826.0\n",
      "N_eff:  1.1001402350980065\n",
      "resampling...\n",
      "loop:  6430\n",
      "delta_pose:  [-0.01174256 -0.01553848  0.00012434]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0134753658087667\n",
      "resampling...\n",
      "loop:  6440\n",
      "delta_pose:  [-4.04211804e-02 -1.54868182e-02  8.36574395e-05]\n",
      "max corr:  874.0\n",
      "N_eff:  1.000090800158322\n",
      "resampling...\n",
      "loop:  6450\n",
      "delta_pose:  [-3.04494241e-02 -1.53940180e-02 -6.21160518e-05]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0013437398640082\n",
      "resampling...\n",
      "loop:  6460\n",
      "delta_pose:  [ 1.26172592e-03 -1.69593608e-02 -6.21653627e-05]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  6470\n",
      "delta_pose:  [ 3.02429689e-02 -2.35209900e-02 -5.96664904e-05]\n",
      "max corr:  880.0\n",
      "N_eff:  1.0006760593677704\n",
      "resampling...\n",
      "loop:  6480\n",
      "delta_pose:  [ 3.11796471e-02 -2.40121044e-02  2.89698216e-05]\n",
      "max corr:  878.0\n",
      "N_eff:  1.1024952990127952\n",
      "resampling...\n",
      "loop:  6490\n",
      "delta_pose:  [ 1.68892169e-03 -1.70237864e-02  3.11004310e-05]\n",
      "max corr:  874.0\n",
      "N_eff:  1.0000002265870525\n",
      "resampling...\n",
      "loop:  6500\n",
      "delta_pose:  [-3.00433747e-02 -1.53796282e-02  3.10897342e-05]\n",
      "max corr:  889.0\n",
      "N_eff:  1.101975903960514\n",
      "resampling...\n",
      "loop:  6510\n",
      "delta_pose:  [-4.06253064e-02 -1.54926591e-02 -5.22729328e-06]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0366193182849304\n",
      "resampling...\n",
      "loop:  6520\n",
      "delta_pose:  [-1.22470995e-02 -1.48485186e-02 -1.49161230e-05]\n",
      "max corr:  824.0\n",
      "N_eff:  1.1001264955736594\n",
      "resampling...\n",
      "loop:  6530\n",
      "delta_pose:  [ 1.73794230e-02 -2.03418833e-02 -1.55283958e-05]\n",
      "max corr:  859.0\n",
      "N_eff:  1.0000006120904141\n",
      "resampling...\n",
      "loop:  6540\n",
      "delta_pose:  [ 3.75893944e-02 -2.75881538e-02 -3.00817689e-06]\n",
      "max corr:  856.0\n",
      "N_eff:  1.03661973315192\n",
      "resampling...\n",
      "loop:  6550\n",
      "delta_pose:  [ 1.48429175e-02 -2.30336910e-02  7.76579949e-06]\n",
      "max corr:  843.0\n",
      "N_eff:  1.0000000304599594\n",
      "resampling...\n",
      "loop:  6560\n",
      "delta_pose:  [-1.61249227e-02 -2.04647906e-02  7.75890095e-06]\n",
      "max corr:  873.0\n",
      "N_eff:  1.0000908005043665\n",
      "resampling...\n",
      "loop:  6570\n",
      "delta_pose:  [-0.04358885 -0.02427262 -0.00754595]\n",
      "max corr:  863.0\n",
      "N_eff:  1.000000005714322\n",
      "resampling...\n",
      "loop:  6580\n",
      "delta_pose:  [-0.02789457 -0.02364305 -0.02269694]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0000000000000047\n",
      "resampling...\n",
      "loop:  6590\n",
      "delta_pose:  [ 0.00156153 -0.02578174 -0.02363124]\n",
      "max corr:  822.0\n",
      "N_eff:  1.0049620058057962\n",
      "resampling...\n",
      "loop:  6600\n",
      "delta_pose:  [ 0.02970978 -0.03441988 -0.02395827]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0000045206987827\n",
      "resampling...\n",
      "loop:  6610\n",
      "delta_pose:  [ 0.02592433 -0.02949088 -0.03543386]\n",
      "max corr:  709.0\n",
      "N_eff:  1.0049697927023495\n",
      "resampling...\n",
      "loop:  6620\n",
      "delta_pose:  [-0.00427344 -0.01869347 -0.03546313]\n",
      "max corr:  839.0\n",
      "N_eff:  1.0000000000857932\n",
      "resampling...\n",
      "loop:  6630\n",
      "delta_pose:  [-0.0342026  -0.01436391 -0.03401998]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0006710080068328\n",
      "resampling...\n",
      "loop:  6640\n",
      "delta_pose:  [-0.04296678 -0.01623224 -0.00971765]\n",
      "max corr:  813.0\n",
      "N_eff:  1.6483516394544726\n",
      "resampling...\n",
      "loop:  6650\n",
      "delta_pose:  [-0.01404444 -0.02002176 -0.0059116 ]\n",
      "max corr:  810.0\n",
      "N_eff:  1.027041833939712\n",
      "resampling...\n",
      "loop:  6660\n",
      "delta_pose:  [ 0.01494378 -0.03101184 -0.0059094 ]\n",
      "max corr:  831.0\n",
      "N_eff:  1.2660047002198342\n",
      "resampling...\n",
      "loop:  6670\n",
      "delta_pose:  [ 2.90318284e-02 -3.80999384e-02 -7.61241007e-05]\n",
      "max corr:  818.0\n",
      "N_eff:  1.0006725888058587\n",
      "resampling...\n",
      "loop:  6680\n",
      "delta_pose:  [ 0.00600744 -0.02459139  0.00283613]\n",
      "max corr:  821.0\n",
      "N_eff:  1.000000611832417\n",
      "resampling...\n",
      "loop:  6690\n",
      "delta_pose:  [-0.02272089 -0.01665679  0.00295578]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0000381590480443\n",
      "resampling...\n",
      "loop:  6700\n",
      "delta_pose:  [-0.04768203 -0.0138106   0.00110392]\n",
      "max corr:  813.0\n",
      "N_eff:  1.0367460545984506\n",
      "resampling...\n",
      "loop:  6710\n",
      "delta_pose:  [-0.02841427 -0.01635235 -0.00147664]\n",
      "max corr:  813.0\n",
      "N_eff:  1.0366530298301768\n",
      "resampling...\n",
      "loop:  6720\n",
      "delta_pose:  [ 0.0018307 -0.0245786 -0.0014778]\n",
      "max corr:  823.0\n",
      "N_eff:  1.1032443288069322\n",
      "resampling...\n",
      "loop:  6730\n",
      "delta_pose:  [ 0.02735319 -0.03813704 -0.00099528]\n",
      "max corr:  826.0\n",
      "N_eff:  1.000000225098126\n",
      "resampling...\n",
      "loop:  6740\n",
      "delta_pose:  [ 0.01836242 -0.03202719  0.00070909]\n",
      "max corr:  699.0\n",
      "N_eff:  1.0000045206588142\n",
      "resampling...\n",
      "loop:  6750\n",
      "delta_pose:  [-0.0092456  -0.02012857  0.00073851]\n",
      "max corr:  822.0\n",
      "N_eff:  1.2658029201377603\n",
      "resampling...\n",
      "loop:  6760\n",
      "delta_pose:  [-0.04069889 -0.01450007  0.00073898]\n",
      "max corr:  807.0\n",
      "N_eff:  1.6489720934022407\n",
      "resampling...\n",
      "loop:  6770\n",
      "delta_pose:  [-0.04076969 -0.01409718 -0.00034475]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0134752822213047\n",
      "resampling...\n",
      "loop:  6780\n",
      "delta_pose:  [-0.01089194 -0.01981793 -0.00036951]\n",
      "max corr:  802.0\n",
      "N_eff:  1.0000045206588142\n",
      "resampling...\n",
      "loop:  6790\n",
      "delta_pose:  [ 0.01683092 -0.03143943 -0.00035481]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0000041641877615\n",
      "resampling...\n",
      "loop:  6800\n",
      "delta_pose:  [ 2.80171188e-02 -3.87141755e-02  3.97543204e-05]\n",
      "max corr:  800.0\n",
      "N_eff:  1.0000000002090006\n",
      "resampling...\n",
      "loop:  6810\n",
      "delta_pose:  [ 0.00337388 -0.02511153  0.00018461]\n",
      "max corr:  803.0\n",
      "N_eff:  1.0000000000000253\n",
      "resampling...\n",
      "loop:  6820\n",
      "delta_pose:  [-0.0264924  -0.01619     0.00018447]\n",
      "max corr:  807.0\n",
      "N_eff:  1.000012514054336\n",
      "resampling...\n",
      "loop:  6830\n",
      "delta_pose:  [-4.78014447e-02 -1.34697372e-02  3.59037922e-05]\n",
      "max corr:  774.0\n",
      "N_eff:  1.0052191283078526\n",
      "resampling...\n",
      "loop:  6840\n",
      "delta_pose:  [-2.40097743e-02 -1.58113317e-02 -8.86782557e-05]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000000000278448\n",
      "resampling...\n",
      "loop:  6850\n",
      "delta_pose:  [ 4.10906388e-03 -2.55235201e-02 -9.23347632e-05]\n",
      "max corr:  784.0\n",
      "N_eff:  1.004958092951541\n",
      "resampling...\n",
      "loop:  6860\n",
      "delta_pose:  [ 2.82986793e-02 -3.89859686e-02 -5.10948033e-05]\n",
      "max corr:  803.0\n",
      "N_eff:  1.0000000112810956\n",
      "resampling...\n",
      "loop:  6870\n",
      "delta_pose:  [ 1.61633923e-02 -3.19423890e-02  4.61688662e-05]\n",
      "max corr:  749.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  6880\n",
      "delta_pose:  [-1.2809154e-02 -1.9191217e-02  4.6181834e-05]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0000334055695588\n",
      "resampling...\n",
      "loop:  6890\n",
      "delta_pose:  [-4.02631930e-02 -1.32949548e-02  4.03244402e-05]\n",
      "max corr:  763.0\n",
      "N_eff:  1.0000002251588709\n",
      "resampling...\n",
      "loop:  6900\n",
      "delta_pose:  [-3.98822594e-02 -1.45615810e-02 -2.30783858e-05]\n",
      "max corr:  709.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  6910\n",
      "delta_pose:  [-8.53141403e-03 -2.04958763e-02 -2.30878825e-05]\n",
      "max corr:  755.0\n",
      "N_eff:  1.000124429862187\n",
      "resampling...\n",
      "loop:  6920\n",
      "delta_pose:  [ 2.02136885e-02 -3.44088652e-02 -2.30850662e-05]\n",
      "max corr:  758.0\n",
      "N_eff:  1.002070807063758\n",
      "resampling...\n",
      "loop:  6930\n",
      "delta_pose:  [ 2.60839668e-02 -3.75535332e-02  6.60682857e-06]\n",
      "max corr:  728.0\n",
      "N_eff:  1.0000000000000027\n",
      "resampling...\n",
      "loop:  6940\n",
      "delta_pose:  [ 4.64952168e-04 -2.29161079e-02  1.10874345e-05]\n",
      "max corr:  754.0\n",
      "N_eff:  1.391638514421515\n",
      "resampling...\n",
      "loop:  6950\n",
      "delta_pose:  [-2.91611078e-02 -1.57967894e-02  1.15286592e-05]\n",
      "max corr:  784.0\n",
      "N_eff:  1.0024953405663424\n",
      "resampling...\n",
      "loop:  6960\n",
      "delta_pose:  [-4.72942455e-02 -1.34696185e-02  8.58267831e-07]\n",
      "max corr:  761.0\n",
      "N_eff:  1.0184675282455786\n",
      "resampling...\n",
      "loop:  6970\n",
      "delta_pose:  [-2.18080324e-02 -1.70327339e-02 -5.76501729e-06]\n",
      "max corr:  760.0\n",
      "N_eff:  1.000000000027776\n",
      "resampling...\n",
      "loop:  6980\n",
      "delta_pose:  [ 7.48275004e-03 -2.71396830e-02 -5.76364191e-06]\n",
      "max corr:  767.0\n",
      "N_eff:  1.0002513520558334\n",
      "resampling...\n",
      "loop:  6990\n",
      "delta_pose:  [ 2.93816805e-02 -3.97890617e-02 -2.17451549e-06]\n",
      "max corr:  770.0\n",
      "N_eff:  1.0000000058441125\n",
      "resampling...\n",
      "loop:  7000\n",
      "delta_pose:  [ 1.26538254e-02 -2.99340220e-02  2.88460447e-06]\n",
      "max corr:  675.0\n",
      "N_eff:  1.0000000000001872\n",
      "resampling...\n",
      "loop:  7010\n",
      "delta_pose:  [-1.51126855e-02 -1.76343646e-02  2.76871216e-06]\n",
      "max corr:  747.0\n",
      "N_eff:  1.0155645057361031\n",
      "resampling...\n",
      "loop:  7020\n",
      "delta_pose:  [-4.41785435e-02 -1.37202323e-02  2.12053666e-06]\n",
      "max corr:  739.0\n",
      "N_eff:  1.0270402165240093\n",
      "resampling...\n",
      "loop:  7030\n",
      "delta_pose:  [-3.62137920e-02 -1.49304144e-02 -1.44207846e-06]\n",
      "max corr:  711.0\n",
      "N_eff:  1.6480542736638855\n",
      "resampling...\n",
      "loop:  7040\n",
      "delta_pose:  [-5.05886267e-03 -2.17042365e-02 -1.44363941e-06]\n",
      "max corr:  752.0\n",
      "N_eff:  1.6480562773572853\n",
      "resampling...\n",
      "loop:  7050\n",
      "delta_pose:  [ 2.33005932e-02 -3.63628862e-02 -1.44439123e-06]\n",
      "max corr:  770.0\n",
      "N_eff:  1.6480608418080616\n",
      "resampling...\n",
      "loop:  7060\n",
      "delta_pose:  [ 2.31332459e-02 -3.47635292e-02  6.45882110e-07]\n",
      "max corr:  686.0\n",
      "N_eff:  1.001836062240027\n",
      "resampling...\n",
      "loop:  7070\n",
      "delta_pose:  [-2.36343616e-03 -2.27083560e-02  7.21190686e-07]\n",
      "max corr:  745.0\n",
      "N_eff:  1.01347528222151\n",
      "resampling...\n",
      "loop:  7080\n",
      "delta_pose:  [-3.31808358e-02 -1.52901346e-02  7.21353740e-07]\n",
      "max corr:  753.0\n",
      "N_eff:  1.0000006428364914\n",
      "resampling...\n",
      "loop:  7090\n",
      "delta_pose:  [-0.04663019 -0.01447989 -0.01701214]\n",
      "max corr:  779.0\n",
      "N_eff:  1.000000000206621\n",
      "resampling...\n",
      "loop:  7100\n",
      "delta_pose:  [-0.01944469 -0.01947698 -0.02363829]\n",
      "max corr:  765.0\n",
      "N_eff:  1.00067092677292\n",
      "resampling...\n",
      "loop:  7110\n",
      "delta_pose:  [ 0.00788163 -0.03008519 -0.02269648]\n",
      "max corr:  768.0\n",
      "N_eff:  1.0000908000673507\n",
      "resampling...\n",
      "loop:  7120\n",
      "delta_pose:  [ 0.026588   -0.04188799 -0.02866101]\n",
      "max corr:  782.0\n",
      "N_eff:  1.0134752905216156\n",
      "resampling...\n",
      "loop:  7130\n",
      "delta_pose:  [ 0.00848915 -0.02726277 -0.03545758]\n",
      "max corr:  771.0\n",
      "N_eff:  1.0000061837593888\n",
      "resampling...\n",
      "loop:  7140\n",
      "delta_pose:  [-0.01952787 -0.01297656 -0.03545235]\n",
      "max corr:  808.0\n",
      "N_eff:  1.000000000000051\n",
      "resampling...\n",
      "loop:  7150\n",
      "delta_pose:  [-0.04700584 -0.00577484 -0.03283688]\n",
      "max corr:  817.0\n",
      "N_eff:  1.6496765365943686\n",
      "resampling...\n",
      "loop:  7160\n",
      "delta_pose:  [-0.03519688 -0.01094237 -0.02833134]\n",
      "max corr:  810.0\n",
      "N_eff:  1.0000135620928443\n",
      "resampling...\n",
      "loop:  7170\n",
      "delta_pose:  [-0.00911742 -0.02384041 -0.02952761]\n",
      "max corr:  778.0\n",
      "N_eff:  1.0002591095561657\n",
      "resampling...\n",
      "loop:  7180\n",
      "delta_pose:  [ 0.01351599 -0.04276247 -0.02893339]\n",
      "max corr:  805.0\n",
      "N_eff:  1.2658029126349506\n",
      "resampling...\n",
      "loop:  7190\n",
      "delta_pose:  [ 0.01305256 -0.03789596 -0.03249645]\n",
      "max corr:  807.0\n",
      "N_eff:  1.0000122996303713\n",
      "resampling...\n",
      "loop:  7200\n",
      "delta_pose:  [-0.01031839 -0.01611285 -0.03250432]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0002474322484702\n",
      "resampling...\n",
      "loop:  7210\n",
      "delta_pose:  [-0.03609671 -0.00028347 -0.031212  ]\n",
      "max corr:  843.0\n",
      "N_eff:  1.000033405127109\n",
      "resampling...\n",
      "loop:  7220\n",
      "delta_pose:  [-0.04766848  0.0016088  -0.03043783]\n",
      "max corr:  826.0\n",
      "N_eff:  1.0001030888432918\n",
      "resampling...\n",
      "loop:  7230\n",
      "delta_pose:  [-0.02365745 -0.01326624 -0.03102014]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0049622618928096\n",
      "resampling...\n",
      "loop:  7240\n",
      "delta_pose:  [-0.00233212 -0.03508468 -0.03104757]\n",
      "max corr:  793.0\n",
      "N_eff:  1.0000047461503672\n",
      "resampling...\n",
      "loop:  7250\n",
      "delta_pose:  [ 0.00842421 -0.04799706 -0.01641991]\n",
      "max corr:  793.0\n",
      "N_eff:  1.0153589536670302\n",
      "resampling...\n",
      "loop:  7260\n",
      "delta_pose:  [-0.00503638 -0.02545828 -0.00779665]\n",
      "max corr:  802.0\n",
      "N_eff:  1.0000016630590336\n",
      "resampling...\n",
      "loop:  7270\n",
      "delta_pose:  [-0.02659309 -0.00499397 -0.00812398]\n",
      "max corr:  833.0\n",
      "N_eff:  1.0000000112158836\n",
      "resampling...\n",
      "loop:  7280\n",
      "delta_pose:  [-0.04839885  0.00971524 -0.00352617]\n",
      "max corr:  824.0\n",
      "N_eff:  1.0134753133023044\n",
      "resampling...\n",
      "loop:  7290\n",
      "delta_pose:  [-0.0342712  -0.00050382  0.00405774]\n",
      "max corr:  808.0\n",
      "N_eff:  1.0135215071727102\n",
      "resampling...\n",
      "loop:  7300\n",
      "delta_pose:  [-0.01126027 -0.02151851  0.00406032]\n",
      "max corr:  834.0\n",
      "N_eff:  1.2658022288340798\n",
      "resampling...\n",
      "loop:  7310\n",
      "delta_pose:  [ 0.00507656 -0.04558414  0.00298575]\n",
      "max corr:  803.0\n",
      "N_eff:  1.0049622362659336\n",
      "resampling...\n",
      "loop:  7320\n",
      "delta_pose:  [ 0.00132028 -0.03759057 -0.00194962]\n",
      "max corr:  756.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  7330\n",
      "delta_pose:  [-0.01690374 -0.01405016 -0.00203001]\n",
      "max corr:  800.0\n",
      "N_eff:  1.0000008673366705\n",
      "resampling...\n",
      "loop:  7340\n",
      "delta_pose:  [-0.04157167  0.00587934 -0.00202983]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0000000827987545\n",
      "resampling...\n",
      "loop:  7350\n",
      "delta_pose:  [-0.04339634  0.00737819  0.00082202]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000334034293474\n",
      "resampling...\n",
      "loop:  7360\n",
      "delta_pose:  [-0.01994366 -0.01144092  0.00101564]\n",
      "max corr:  776.0\n",
      "N_eff:  1.0993279274194332\n",
      "resampling...\n",
      "loop:  7370\n",
      "delta_pose:  [-0.00106252 -0.03439234  0.00097373]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0000000006347791\n",
      "resampling...\n",
      "loop:  7380\n",
      "delta_pose:  [ 6.19373349e-03 -4.78027203e-02 -4.48502182e-05]\n",
      "max corr:  806.0\n",
      "N_eff:  1.000091411691754\n",
      "resampling...\n",
      "loop:  7390\n",
      "delta_pose:  [-0.00835426 -0.02459133 -0.00050734]\n",
      "max corr:  740.0\n",
      "N_eff:  1.0000002250703495\n",
      "resampling...\n",
      "loop:  7400\n",
      "delta_pose:  [-0.02995024 -0.00237471 -0.00050768]\n",
      "max corr:  768.0\n",
      "N_eff:  1.0056300574413077\n",
      "resampling...\n",
      "loop:  7410\n",
      "delta_pose:  [-0.0484226   0.01098901 -0.00012965]\n",
      "max corr:  777.0\n",
      "N_eff:  1.2658022628253103\n",
      "resampling...\n",
      "loop:  7420\n",
      "delta_pose:  [-0.03036662 -0.00215999  0.000254  ]\n",
      "max corr:  786.0\n",
      "N_eff:  1.648054275554309\n",
      "resampling...\n",
      "loop:  7430\n",
      "delta_pose:  [-0.00863522 -0.02289285  0.0002437 ]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0006711630530798\n",
      "resampling...\n",
      "loop:  7440\n",
      "delta_pose:  [ 0.00581513 -0.04718928  0.00015571]\n",
      "max corr:  799.0\n",
      "N_eff:  1.0000000005584029\n",
      "resampling...\n",
      "loop:  7450\n",
      "delta_pose:  [-0.00049498 -0.0368557  -0.00012694]\n",
      "max corr:  430.0\n",
      "N_eff:  1.0000000056388194\n",
      "resampling...\n",
      "loop:  7460\n",
      "delta_pose:  [-0.01955401 -0.01154829 -0.00012688]\n",
      "max corr:  742.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  7470\n",
      "delta_pose:  [-0.04289771  0.00767467 -0.00011603]\n",
      "max corr:  818.0\n",
      "N_eff:  1.0000016630574389\n",
      "resampling...\n",
      "loop:  7480\n",
      "delta_pose:  [-3.82936815e-02  8.69784754e-03  6.09240242e-05]\n",
      "max corr:  651.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  7490\n",
      "delta_pose:  [-1.44657109e-02 -9.65713989e-03  6.34305536e-05]\n",
      "max corr:  804.0\n",
      "N_eff:  1.0993280160076393\n",
      "resampling...\n",
      "loop:  7500\n",
      "delta_pose:  [ 6.78469074e-03 -3.30825127e-02  6.34550444e-05]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0000046034652739\n",
      "resampling...\n",
      "loop:  7510\n",
      "delta_pose:  [ 0.01617023 -0.03606792 -0.01892951]\n",
      "max corr:  779.0\n",
      "N_eff:  1.0000000015165122\n",
      "resampling...\n",
      "loop:  7520\n",
      "delta_pose:  [ 0.00022598 -0.01143066 -0.02364876]\n",
      "max corr:  785.0\n",
      "N_eff:  1.0002593667010722\n",
      "resampling...\n",
      "loop:  7530\n",
      "delta_pose:  [-0.01840743  0.01199845 -0.02272782]\n",
      "max corr:  780.0\n",
      "N_eff:  1.306542695492048\n",
      "resampling...\n",
      "loop:  7540\n",
      "delta_pose:  [-0.0322566   0.02692248 -0.03843075]\n",
      "max corr:  816.0\n",
      "N_eff:  1.0000045247913745\n",
      "resampling...\n",
      "loop:  7550\n",
      "delta_pose:  [-0.01665909  0.00887526 -0.05109842]\n",
      "max corr:  792.0\n",
      "N_eff:  1.6549683045072994\n",
      "resampling...\n",
      "loop:  7560\n",
      "delta_pose:  [ 0.00199902 -0.01537403 -0.05108484]\n",
      "max corr:  820.0\n",
      "N_eff:  1.0006832482000385\n",
      "resampling...\n",
      "loop:  7570\n",
      "delta_pose:  [ 0.01849016 -0.0347306  -0.05330632]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0000926928294622\n",
      "resampling...\n",
      "loop:  7580\n",
      "delta_pose:  [ 0.01460868 -0.01711368 -0.05860409]\n",
      "max corr:  811.0\n",
      "N_eff:  1.0006894035578302\n",
      "resampling...\n",
      "loop:  7590\n",
      "delta_pose:  [ 0.00174425  0.00910082 -0.06103125]\n",
      "max corr:  858.0\n",
      "N_eff:  1.0049574739214142\n",
      "resampling...\n",
      "loop:  7600\n",
      "delta_pose:  [-0.01044453  0.03529971 -0.05933432]\n",
      "max corr:  832.0\n",
      "N_eff:  1.000000000000069\n",
      "resampling...\n",
      "loop:  7610\n",
      "delta_pose:  [-0.01463119  0.02780648 -0.06098018]\n",
      "max corr:  811.0\n",
      "N_eff:  1.0134752935032842\n",
      "resampling...\n",
      "loop:  7620\n",
      "delta_pose:  [-0.00541152 -0.00179759 -0.06097897]\n",
      "max corr:  845.0\n",
      "N_eff:  1.2658394707115403\n",
      "resampling...\n",
      "loop:  7630\n",
      "delta_pose:  [ 0.00164373 -0.03172661 -0.06105716]\n",
      "max corr:  857.0\n",
      "N_eff:  1.6480690840434113\n",
      "resampling...\n",
      "loop:  7640\n",
      "delta_pose:  [ 0.00905389 -0.03195822 -0.05695794]\n",
      "max corr:  837.0\n",
      "N_eff:  1.015991821245533\n",
      "resampling...\n",
      "loop:  7650\n",
      "delta_pose:  [ 0.00638935 -0.00505182 -0.06103442]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0000908000961493\n",
      "resampling...\n",
      "loop:  7660\n",
      "delta_pose:  [ 0.00460511  0.02564949 -0.06097291]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0018369069171846\n",
      "resampling...\n",
      "loop:  7670\n",
      "delta_pose:  [-0.00095679  0.03996779 -0.05947086]\n",
      "max corr:  847.0\n",
      "N_eff:  1.036657661841522\n",
      "resampling...\n",
      "loop:  7680\n",
      "delta_pose:  [-0.0046816   0.01351098 -0.06100193]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0002802271569575\n",
      "resampling...\n",
      "loop:  7690\n",
      "delta_pose:  [-0.00772658 -0.01526896 -0.05855036]\n",
      "max corr:  786.0\n",
      "N_eff:  2.103378672506658\n",
      "resampling...\n",
      "loop:  7700\n",
      "delta_pose:  [-0.00832042 -0.03854941 -0.05940594]\n",
      "max corr:  825.0\n",
      "N_eff:  1.0368702530910379\n",
      "resampling...\n",
      "loop:  7710\n",
      "delta_pose:  [ 0.00056869 -0.0201523  -0.06102617]\n",
      "max corr:  769.0\n",
      "N_eff:  1.0134804532601924\n",
      "resampling...\n",
      "loop:  7720\n",
      "delta_pose:  [ 0.00923725  0.00891771 -0.06099132]\n",
      "max corr:  781.0\n",
      "N_eff:  1.000035292882388\n",
      "resampling...\n",
      "loop:  7730\n",
      "delta_pose:  [ 0.01697883  0.03532927 -0.0594113 ]\n",
      "max corr:  773.0\n",
      "N_eff:  1.0160015845287595\n",
      "resampling...\n",
      "loop:  7740\n",
      "delta_pose:  [ 0.00675116  0.02698128 -0.060941  ]\n",
      "max corr:  781.0\n",
      "N_eff:  1.000033403411815\n",
      "resampling...\n",
      "loop:  7750\n",
      "delta_pose:  [-6.51982966e-03 -2.34354417e-05 -5.85333938e-02]\n",
      "max corr:  763.0\n",
      "N_eff:  1.7663505008595048\n",
      "resampling...\n",
      "loop:  7760\n",
      "delta_pose:  [-0.02190157 -0.02577224 -0.06101625]\n",
      "max corr:  773.0\n",
      "N_eff:  1.0000000047081652\n",
      "resampling...\n",
      "loop:  7770\n",
      "delta_pose:  [-0.01438806 -0.02879731 -0.05954438]\n",
      "max corr:  733.0\n",
      "N_eff:  1.9591550294127367\n",
      "resampling...\n",
      "loop:  7780\n",
      "delta_pose:  [ 0.00345156 -0.00533241 -0.06094994]\n",
      "max corr:  763.0\n",
      "N_eff:  1.0001250690583119\n",
      "resampling...\n",
      "loop:  7790\n",
      "delta_pose:  [ 0.02381876  0.0179197  -0.06096246]\n",
      "max corr:  773.0\n",
      "N_eff:  1.0000000000007219\n",
      "resampling...\n",
      "loop:  7800\n",
      "delta_pose:  [ 0.02451361  0.02782343 -0.05700665]\n",
      "max corr:  759.0\n",
      "N_eff:  1.0000045229388368\n",
      "resampling...\n",
      "loop:  7810\n",
      "delta_pose:  [ 0.00420252  0.01140203 -0.06097631]\n",
      "max corr:  757.0\n",
      "N_eff:  1.265807988664898\n",
      "resampling...\n",
      "loop:  7820\n",
      "delta_pose:  [-0.0194366  -0.00763389 -0.06099715]\n",
      "max corr:  743.0\n",
      "N_eff:  1.0006710162659955\n",
      "resampling...\n",
      "loop:  7830\n",
      "delta_pose:  [-0.03228214 -0.02255643 -0.05947247]\n",
      "max corr:  739.0\n",
      "N_eff:  2.1357743554831066\n",
      "resampling...\n",
      "loop:  7840\n",
      "delta_pose:  [-0.01040012 -0.01289739 -0.0610032 ]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0134753962485188\n",
      "resampling...\n",
      "loop:  7850\n",
      "delta_pose:  [ 0.01617988  0.00155802 -0.06105641]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0000334157231605\n",
      "resampling...\n",
      "loop:  7860\n",
      "delta_pose:  [ 0.03638426  0.01408472 -0.05697058]\n",
      "max corr:  719.0\n",
      "N_eff:  1.0000334164150426\n",
      "resampling...\n",
      "loop:  7870\n",
      "delta_pose:  [ 0.02127523  0.013695   -0.06100315]\n",
      "max corr:  729.0\n",
      "N_eff:  1.2658395171663377\n",
      "resampling...\n",
      "loop:  7880\n",
      "delta_pose:  [-0.0077969   0.00388355 -0.06100026]\n",
      "max corr:  733.0\n",
      "N_eff:  1.1097265080780996\n",
      "resampling...\n",
      "loop:  7890\n",
      "delta_pose:  [-0.0351633  -0.00436132 -0.05942873]\n",
      "max corr:  749.0\n",
      "N_eff:  1.000670938698038\n",
      "resampling...\n",
      "loop:  7900\n",
      "delta_pose:  [-0.02813815 -0.01026575 -0.06100776]\n",
      "max corr:  743.0\n",
      "N_eff:  1.0050485100673507\n",
      "resampling...\n",
      "loop:  7910\n",
      "delta_pose:  [ 0.00163067 -0.00566365 -0.05856871]\n",
      "max corr:  752.0\n",
      "N_eff:  1.0002468805318516\n",
      "resampling...\n",
      "loop:  7920\n",
      "delta_pose:  [ 0.03199146 -0.00373883 -0.06098018]\n",
      "max corr:  778.0\n",
      "N_eff:  1.0002469441132713\n",
      "resampling...\n",
      "loop:  7930\n",
      "delta_pose:  [ 0.03632574  0.00356824 -0.05943404]\n",
      "max corr:  808.0\n",
      "N_eff:  1.0018237639604808\n",
      "resampling...\n",
      "loop:  7940\n",
      "delta_pose:  [ 0.00733103  0.0054425  -0.06099201]\n",
      "max corr:  778.0\n",
      "N_eff:  1.664263810183118\n",
      "resampling...\n",
      "loop:  7950\n",
      "delta_pose:  [-0.0230965   0.00867171 -0.06102617]\n",
      "max corr:  697.0\n",
      "N_eff:  1.0138277714676032\n",
      "resampling...\n",
      "loop:  7960\n",
      "delta_pose:  [-0.03679198  0.00524938 -0.05698795]\n",
      "max corr:  777.0\n",
      "N_eff:  1.0385680328469689\n",
      "resampling...\n",
      "loop:  7970\n",
      "delta_pose:  [-0.01401882 -0.00254259 -0.0609882 ]\n",
      "max corr:  761.0\n",
      "N_eff:  1.00563460343079\n",
      "resampling...\n",
      "loop:  7980\n",
      "delta_pose:  [ 0.01503747 -0.01098301 -0.06100557]\n",
      "max corr:  756.0\n",
      "N_eff:  1.0006838298163883\n",
      "resampling...\n",
      "loop:  7990\n",
      "delta_pose:  [ 0.03813858 -0.01542977 -0.05943768]\n",
      "max corr:  712.0\n",
      "N_eff:  1.272157849429617\n",
      "resampling...\n",
      "loop:  8000\n",
      "delta_pose:  [ 0.02122073 -0.0035036  -0.06102669]\n",
      "max corr:  730.0\n",
      "N_eff:  1.0993281674279982\n",
      "resampling...\n",
      "loop:  8010\n",
      "delta_pose:  [-0.00530437  0.00926821 -0.05857742]\n",
      "max corr:  705.0\n",
      "N_eff:  1.000000646391606\n",
      "resampling...\n",
      "loop:  8020\n",
      "delta_pose:  [-0.02983835  0.02174042 -0.05940138]\n",
      "max corr:  742.0\n",
      "N_eff:  1.000004562534241\n",
      "resampling...\n",
      "loop:  8030\n",
      "delta_pose:  [-0.02530244  0.01097057 -0.06102398]\n",
      "max corr:  720.0\n",
      "N_eff:  1.0417352312422077\n",
      "resampling...\n",
      "loop:  8040\n",
      "delta_pose:  [-0.00056754 -0.00727622 -0.06101434]\n",
      "max corr:  706.0\n",
      "N_eff:  2.0420056983369537\n",
      "resampling...\n",
      "loop:  8050\n",
      "delta_pose:  [ 0.02290992 -0.02712071 -0.06047588]\n",
      "max corr:  688.0\n",
      "N_eff:  1.013522403433492\n",
      "resampling...\n",
      "loop:  8060\n",
      "delta_pose:  [ 0.02750778 -0.01908614 -0.03925565]\n",
      "max corr:  669.0\n",
      "N_eff:  2.508609890657125\n",
      "resampling...\n",
      "loop:  8070\n",
      "delta_pose:  [ 0.00773941  0.00247466 -0.03878378]\n",
      "max corr:  669.0\n",
      "N_eff:  2.416793215009559\n",
      "resampling...\n",
      "loop:  8080\n",
      "delta_pose:  [-0.01031633  0.02702137 -0.04042599]\n",
      "max corr:  709.0\n",
      "N_eff:  1.5346924064859497\n",
      "resampling...\n",
      "loop:  8090\n",
      "delta_pose:  [-0.01730287  0.03439901 -0.01124059]\n",
      "max corr:  725.0\n",
      "N_eff:  2.000006864165465\n",
      "resampling...\n",
      "loop:  8100\n",
      "delta_pose:  [-0.00171688  0.01082317 -0.00343882]\n",
      "max corr:  753.0\n",
      "N_eff:  1.0031716706767708\n",
      "resampling...\n",
      "loop:  8110\n",
      "delta_pose:  [ 0.0159501  -0.0128916  -0.00329959]\n",
      "max corr:  744.0\n",
      "N_eff:  1.6480752083794519\n",
      "resampling...\n",
      "loop:  8120\n",
      "delta_pose:  [ 0.0295881  -0.0288778  -0.00066211]\n",
      "max corr:  713.0\n",
      "N_eff:  1.0660210608519691\n",
      "resampling...\n",
      "loop:  8130\n",
      "delta_pose:  [ 0.01540234 -0.0106917   0.00171925]\n",
      "max corr:  748.0\n",
      "N_eff:  1.0002802282474896\n",
      "resampling...\n",
      "loop:  8140\n",
      "delta_pose:  [-0.00276808  0.01437094  0.00171727]\n",
      "max corr:  732.0\n",
      "N_eff:  1.0000017055636465\n",
      "resampling...\n",
      "loop:  8150\n",
      "delta_pose:  [-0.0171514  0.0365283  0.0008498]\n",
      "max corr:  740.0\n",
      "N_eff:  1.0153125037908208\n",
      "resampling...\n",
      "loop:  8160\n",
      "delta_pose:  [-0.00898412  0.02320903 -0.00085881]\n",
      "max corr:  717.0\n",
      "N_eff:  1.00076341944025\n",
      "resampling...\n",
      "loop:  8170\n",
      "delta_pose:  [ 0.00788422 -0.00214275 -0.00082475]\n",
      "max corr:  748.0\n",
      "N_eff:  1.2678355510043227\n",
      "resampling...\n",
      "loop:  8180\n",
      "delta_pose:  [ 0.02599038 -0.02532532 -0.00261972]\n",
      "max corr:  750.0\n",
      "N_eff:  1.0003376937479362\n",
      "resampling...\n",
      "loop:  8190\n",
      "delta_pose:  [ 0.02527405 -0.02161093 -0.02319797]\n",
      "max corr:  774.0\n",
      "N_eff:  1.64851624070181\n",
      "resampling...\n",
      "loop:  8200\n",
      "delta_pose:  [ 0.00696581  0.00393864 -0.02318895]\n",
      "max corr:  786.0\n",
      "N_eff:  1.0003393250669146\n",
      "resampling...\n",
      "loop:  8210\n",
      "delta_pose:  [-0.0087507   0.03110502 -0.02321351]\n",
      "max corr:  777.0\n",
      "N_eff:  1.0366192536356145\n",
      "resampling...\n",
      "loop:  8220\n",
      "delta_pose:  [-0.01315241  0.03238393 -0.03212429]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000000000001874\n",
      "resampling...\n",
      "loop:  8230\n",
      "delta_pose:  [-0.0008933   0.00788717 -0.0356687 ]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0001024908267377\n",
      "resampling...\n",
      "loop:  8240\n",
      "delta_pose:  [ 0.01417405 -0.0196002  -0.03567487]\n",
      "max corr:  871.0\n",
      "N_eff:  1.0000245769251028\n",
      "resampling...\n",
      "loop:  8250\n",
      "delta_pose:  [ 0.02441368 -0.03287809 -0.030732  ]\n",
      "max corr:  817.0\n",
      "N_eff:  1.0060274030761869\n",
      "resampling...\n",
      "loop:  8260\n",
      "delta_pose:  [ 0.01362376 -0.00937413 -0.02943251]\n",
      "max corr:  827.0\n",
      "N_eff:  1.0000008414941424\n",
      "resampling...\n",
      "loop:  8270\n",
      "delta_pose:  [ 0.00188305  0.01753605 -0.02824692]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0000357284389754\n",
      "resampling...\n",
      "loop:  8280\n",
      "delta_pose:  [-0.0064986   0.04032597 -0.02046065]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0739799605928089\n",
      "resampling...\n",
      "loop:  8290\n",
      "delta_pose:  [-0.00215441  0.02175814 -0.00891819]\n",
      "max corr:  859.0\n",
      "N_eff:  1.30734665696292\n",
      "resampling...\n",
      "loop:  8300\n",
      "delta_pose:  [ 0.00801402 -0.00755564 -0.00891625]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0018363709499303\n",
      "resampling...\n",
      "loop:  8310\n",
      "delta_pose:  [ 0.01876692 -0.03378302 -0.00600537]\n",
      "max corr:  863.0\n",
      "N_eff:  1.2755438533756076\n",
      "resampling...\n",
      "loop:  8320\n",
      "delta_pose:  [ 0.01527634 -0.02395958  0.00428138]\n",
      "max corr:  887.0\n",
      "N_eff:  1.0366530108792655\n",
      "resampling...\n",
      "loop:  8330\n",
      "delta_pose:  [0.00505606 0.00399743 0.00445278]\n",
      "max corr:  884.0\n",
      "N_eff:  1.0134800597487656\n",
      "resampling...\n",
      "loop:  8340\n",
      "delta_pose:  [-0.0037776   0.0340481   0.00445655]\n",
      "max corr:  901.0\n",
      "N_eff:  1.0522035528190994\n",
      "resampling...\n",
      "loop:  8350\n",
      "delta_pose:  [-0.00182457  0.03490998 -0.00207334]\n",
      "max corr:  915.0\n",
      "N_eff:  1.0000000000000266\n",
      "resampling...\n",
      "loop:  8360\n",
      "delta_pose:  [ 0.00767323  0.00645279 -0.00222902]\n",
      "max corr:  903.0\n",
      "N_eff:  1.018715385702805\n",
      "resampling...\n",
      "loop:  8370\n",
      "delta_pose:  [ 0.02075845 -0.02243555 -0.00222844]\n",
      "max corr:  905.0\n",
      "N_eff:  1.0018239877947561\n",
      "resampling...\n",
      "loop:  8380\n",
      "delta_pose:  [ 0.02582254 -0.03081826  0.00032457]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0018237625184803\n",
      "resampling...\n",
      "loop:  8390\n",
      "delta_pose:  [ 0.01542782 -0.00690958  0.00111339]\n",
      "max corr:  877.0\n",
      "N_eff:  1.0000004323373883\n",
      "resampling...\n",
      "loop:  8400\n",
      "delta_pose:  [0.00557181 0.02254061 0.00111479]\n",
      "max corr:  872.0\n",
      "N_eff:  1.0000000112552585\n",
      "resampling...\n",
      "loop:  8410\n",
      "delta_pose:  [0.00029368 0.04282574 0.00021679]\n",
      "max corr:  859.0\n",
      "N_eff:  1.0000908308813652\n",
      "resampling...\n",
      "loop:  8420\n",
      "delta_pose:  [ 0.00521466  0.02013483 -0.00055725]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0036846237362982\n",
      "resampling...\n",
      "loop:  8430\n",
      "delta_pose:  [ 0.01399169 -0.00839368 -0.00053469]\n",
      "max corr:  911.0\n",
      "N_eff:  1.2658029155401982\n",
      "resampling...\n",
      "loop:  8440\n",
      "delta_pose:  [ 0.02615549 -0.03300048 -0.00030897]\n",
      "max corr:  906.0\n",
      "N_eff:  1.0000046050020504\n",
      "resampling...\n",
      "loop:  8450\n",
      "delta_pose:  [ 0.02295648 -0.01954173  0.00027857]\n",
      "max corr:  902.0\n",
      "N_eff:  1.6480563771152588\n",
      "resampling...\n",
      "loop:  8460\n",
      "delta_pose:  [0.0133394  0.01039826 0.00027838]\n",
      "max corr:  893.0\n",
      "N_eff:  1.0367114647416975\n",
      "resampling...\n",
      "loop:  8470\n",
      "delta_pose:  [0.00907544 0.04020019 0.00023822]\n",
      "max corr:  914.0\n",
      "N_eff:  1.000253615969515\n",
      "resampling...\n",
      "loop:  8480\n",
      "delta_pose:  [ 0.01030689  0.03596094 -0.00013371]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  8490\n",
      "delta_pose:  [ 0.0159846   0.00657317 -0.00013913]\n",
      "max corr:  881.0\n",
      "N_eff:  1.0000016682963069\n",
      "resampling...\n",
      "loop:  8500\n",
      "delta_pose:  [ 0.02751705 -0.02290311 -0.00013913]\n",
      "max corr:  914.0\n",
      "N_eff:  1.005053030296039\n",
      "resampling...\n",
      "loop:  8510\n",
      "delta_pose:  [ 3.19913912e-02 -2.85768616e-02  3.93532055e-05]\n",
      "max corr:  933.0\n",
      "N_eff:  1.0000002860180548\n",
      "resampling...\n",
      "loop:  8520\n",
      "delta_pose:  [ 2.14399340e-02 -1.21069841e-03  6.95675263e-05]\n",
      "max corr:  916.0\n",
      "N_eff:  1.0001076103972035\n",
      "resampling...\n",
      "loop:  8530\n",
      "delta_pose:  [1.63416473e-02 3.00191135e-02 6.95924291e-05]\n",
      "max corr:  910.0\n",
      "N_eff:  1.0366575994608953\n",
      "resampling...\n",
      "loop:  8540\n",
      "delta_pose:  [1.59402414e-02 4.58388175e-02 2.62455896e-06]\n",
      "max corr:  918.0\n",
      "N_eff:  1.073884563057228\n",
      "resampling...\n",
      "loop:  8550\n",
      "delta_pose:  [ 1.89683868e-02  2.18491262e-02 -3.48307689e-05]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000000528989907\n",
      "resampling...\n",
      "loop:  8560\n",
      "delta_pose:  [ 2.72315848e-02 -8.07325495e-03 -3.48014521e-05]\n",
      "max corr:  911.0\n",
      "N_eff:  1.0994277468263152\n",
      "resampling...\n",
      "loop:  8570\n",
      "delta_pose:  [ 0.03888571 -0.03057659 -0.0094643 ]\n",
      "max corr:  869.0\n",
      "N_eff:  1.1664370454700044\n",
      "resampling...\n",
      "loop:  8580\n",
      "delta_pose:  [ 0.03068578 -0.0137306  -0.02362435]\n",
      "max corr:  870.0\n",
      "N_eff:  1.0000246597351354\n",
      "resampling...\n",
      "loop:  8590\n",
      "delta_pose:  [ 0.02052605  0.01444469 -0.02265551]\n",
      "max corr:  851.0\n",
      "N_eff:  1.6923983974551775\n",
      "resampling...\n",
      "loop:  8600\n",
      "delta_pose:  [ 0.0190999   0.04328883 -0.02488397]\n",
      "max corr:  880.0\n",
      "N_eff:  1.0191431532471318\n",
      "resampling...\n",
      "loop:  8610\n",
      "delta_pose:  [ 0.01722145  0.03390255 -0.03548827]\n",
      "max corr:  780.0\n",
      "N_eff:  1.0000000000755032\n",
      "resampling...\n",
      "loop:  8620\n",
      "delta_pose:  [ 0.01973588  0.00172352 -0.03543465]\n",
      "max corr:  886.0\n",
      "N_eff:  1.014242366360603\n",
      "resampling...\n",
      "loop:  8630\n",
      "delta_pose:  [ 0.02954763 -0.02873905 -0.0354434 ]\n",
      "max corr:  899.0\n",
      "N_eff:  1.0006745621086335\n",
      "resampling...\n",
      "loop:  8640\n",
      "delta_pose:  [ 0.03125027 -0.02973814 -0.00616444]\n",
      "max corr:  861.0\n",
      "N_eff:  1.2808141842686676\n",
      "resampling...\n",
      "loop:  8650\n",
      "delta_pose:  [ 0.02218126 -0.00137295 -0.00567093]\n",
      "max corr:  899.0\n",
      "N_eff:  1.5575514782495228\n",
      "resampling...\n",
      "loop:  8660\n",
      "delta_pose:  [ 0.02199959  0.02921927 -0.00589988]\n",
      "max corr:  885.0\n",
      "N_eff:  1.6505709876961279\n",
      "resampling...\n",
      "loop:  8670\n",
      "delta_pose:  [0.02248336 0.04144923 0.00062552]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0993280142051716\n",
      "resampling...\n",
      "loop:  8680\n",
      "delta_pose:  [0.02086566 0.01339919 0.00295191]\n",
      "max corr:  891.0\n",
      "N_eff:  1.0993407959627557\n",
      "resampling...\n",
      "loop:  8690\n",
      "delta_pose:  [ 0.02579093 -0.0173742   0.00295224]\n",
      "max corr:  908.0\n",
      "N_eff:  1.0134769564188622\n",
      "resampling...\n",
      "loop:  8700\n",
      "delta_pose:  [ 0.03212303 -0.03657999 -0.01069851]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0008665600834532\n",
      "resampling...\n",
      "loop:  8710\n",
      "delta_pose:  [ 0.02778536 -0.01687379 -0.02509778]\n",
      "max corr:  880.0\n",
      "N_eff:  1.0018283188551713\n",
      "resampling...\n",
      "loop:  8720\n",
      "delta_pose:  [ 0.02439658  0.01368291 -0.02511053]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0000334340672852\n",
      "resampling...\n",
      "loop:  8730\n",
      "delta_pose:  [ 0.02694288  0.04064127 -0.0271539 ]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0000000013350288\n",
      "resampling...\n",
      "loop:  8740\n",
      "delta_pose:  [ 0.02209121  0.02591252 -0.0347219 ]\n",
      "max corr:  855.0\n",
      "N_eff:  1.2658022288340798\n",
      "resampling...\n",
      "loop:  8750\n",
      "delta_pose:  [ 0.01869654 -0.00512733 -0.03332569]\n",
      "max corr:  912.0\n",
      "N_eff:  2.0077922817451084\n",
      "resampling...\n",
      "loop:  8760\n",
      "delta_pose:  [ 0.02317437 -0.03504138 -0.03264456]\n",
      "max corr:  880.0\n",
      "N_eff:  1.0454865064054426\n",
      "resampling...\n",
      "loop:  8770\n",
      "delta_pose:  [ 0.02542858 -0.03442657 -0.00626917]\n",
      "max corr:  900.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  8780\n",
      "delta_pose:  [ 0.02260775 -0.00303333 -0.0062714 ]\n",
      "max corr:  848.0\n",
      "N_eff:  1.0018237624146007\n",
      "resampling...\n",
      "loop:  8790\n",
      "delta_pose:  [ 0.02838124  0.02788232 -0.00627154]\n",
      "max corr:  892.0\n",
      "N_eff:  1.4183072555676262\n",
      "resampling...\n",
      "loop:  8800\n",
      "delta_pose:  [0.02834539 0.03328437 0.0016512 ]\n",
      "max corr:  867.0\n",
      "N_eff:  1.0000457224935484\n",
      "resampling...\n",
      "loop:  8810\n",
      "delta_pose:  [0.02259035 0.00653869 0.00313993]\n",
      "max corr:  907.0\n",
      "N_eff:  1.0002592154043533\n",
      "resampling...\n",
      "loop:  8820\n",
      "delta_pose:  [ 0.02207195 -0.0248443   0.00313781]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0050819857637419\n",
      "resampling...\n",
      "loop:  8830\n",
      "delta_pose:  [ 0.02538912 -0.04341887 -0.0139324 ]\n",
      "max corr:  916.0\n",
      "N_eff:  1.0000000000000255\n",
      "resampling...\n",
      "loop:  8840\n",
      "delta_pose:  [ 0.02378169 -0.01818508 -0.02520928]\n",
      "max corr:  904.0\n",
      "N_eff:  1.6480542736638901\n",
      "resampling...\n",
      "loop:  8850\n",
      "delta_pose:  [ 0.02632948  0.01115545 -0.02419251]\n",
      "max corr:  886.0\n",
      "N_eff:  1.0000139562490613\n",
      "resampling...\n",
      "loop:  8860\n",
      "delta_pose:  [ 0.03452581  0.03530568 -0.02794905]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0000340167329682\n",
      "resampling...\n",
      "loop:  8870\n",
      "delta_pose:  [ 0.02574746  0.01849846 -0.03465243]\n",
      "max corr:  883.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  8880\n",
      "delta_pose:  [ 0.01757279 -0.01218043 -0.03466781]\n",
      "max corr:  920.0\n",
      "N_eff:  1.0002468537730076\n",
      "resampling...\n",
      "loop:  8890\n",
      "delta_pose:  [ 0.01622114 -0.04207992 -0.0329961 ]\n",
      "max corr:  926.0\n",
      "N_eff:  1.0000016630588304\n",
      "resampling...\n",
      "loop:  8900\n",
      "delta_pose:  [ 0.01878364 -0.03546848 -0.02873327]\n",
      "max corr:  900.0\n",
      "N_eff:  1.005049117262366\n",
      "resampling...\n",
      "loop:  8910\n",
      "delta_pose:  [ 0.02421512 -0.00666807 -0.02992807]\n",
      "max corr:  870.0\n",
      "N_eff:  1.6480543870183335\n",
      "resampling...\n",
      "loop:  8920\n",
      "delta_pose:  [ 0.0379398   0.02122723 -0.02992405]\n",
      "max corr:  879.0\n",
      "N_eff:  3.0000168934409883\n",
      "resampling...\n",
      "loop:  8930\n",
      "delta_pose:  [ 0.03473303  0.02345502 -0.03132672]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0027424578699495\n",
      "resampling...\n",
      "loop:  8940\n",
      "delta_pose:  [ 0.01954441 -0.00284912 -0.03228585]\n",
      "max corr:  877.0\n",
      "N_eff:  1.000670937907183\n",
      "resampling...\n",
      "loop:  8950\n",
      "delta_pose:  [ 0.00947372 -0.03122713 -0.03098893]\n",
      "max corr:  842.0\n",
      "N_eff:  1.0068785189713823\n",
      "resampling...\n",
      "loop:  8960\n",
      "delta_pose:  [ 0.00810247 -0.04760174 -0.01461478]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0000914945323136\n",
      "resampling...\n",
      "loop:  8970\n",
      "delta_pose:  [ 0.01569824 -0.02177692 -0.00748205]\n",
      "max corr:  871.0\n",
      "N_eff:  1.0000000002052376\n",
      "resampling...\n",
      "loop:  8980\n",
      "delta_pose:  [ 0.02982939  0.00544586 -0.00747789]\n",
      "max corr:  876.0\n",
      "N_eff:  1.0000006120896663\n",
      "resampling...\n",
      "loop:  8990\n",
      "delta_pose:  [ 0.04317334  0.02320335 -0.00190652]\n",
      "max corr:  840.0\n",
      "N_eff:  1.6667852992429164\n",
      "resampling...\n",
      "loop:  9000\n",
      "delta_pose:  [0.02813573 0.00600734 0.00359258]\n",
      "max corr:  870.0\n",
      "N_eff:  1.0006709293319644\n",
      "resampling...\n",
      "loop:  9010\n",
      "delta_pose:  [ 0.01444563 -0.02035497  0.00374235]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0018237736582025\n",
      "resampling...\n",
      "loop:  9020\n",
      "delta_pose:  [ 0.00608605 -0.04752352  0.00229476]\n",
      "max corr:  834.0\n",
      "N_eff:  1.0120996390499826\n",
      "resampling...\n",
      "loop:  9030\n",
      "delta_pose:  [ 0.00992774 -0.03594224 -0.00187094]\n",
      "max corr:  872.0\n",
      "N_eff:  1.000951248404163\n",
      "resampling...\n",
      "loop:  9040\n",
      "delta_pose:  [ 0.02192613 -0.00644421 -0.00186984]\n",
      "max corr:  870.0\n",
      "N_eff:  1.2658159296050977\n",
      "resampling...\n",
      "loop:  9050\n",
      "delta_pose:  [ 0.03909636  0.01774357 -0.00172302]\n",
      "max corr:  898.0\n",
      "N_eff:  1.0000908110756925\n",
      "resampling...\n",
      "loop:  9060\n",
      "delta_pose:  [0.03840098 0.01687263 0.00091099]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  9070\n",
      "delta_pose:  [ 0.02065392 -0.008075    0.00093527]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0258518830926127\n",
      "resampling...\n",
      "loop:  9080\n",
      "delta_pose:  [ 0.00888447 -0.03778524  0.00093508]\n",
      "max corr:  873.0\n",
      "N_eff:  1.0000006946521511\n",
      "resampling...\n",
      "loop:  9090\n",
      "delta_pose:  [ 0.00628461 -0.04627357 -0.00021143]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0993280178859497\n",
      "resampling...\n",
      "loop:  9100\n",
      "delta_pose:  [ 0.01479601 -0.01827158 -0.00044906]\n",
      "max corr:  884.0\n",
      "N_eff:  1.0366537085804655\n",
      "resampling...\n",
      "loop:  9110\n",
      "delta_pose:  [ 0.03132628  0.00723056 -0.0004677 ]\n",
      "max corr:  903.0\n",
      "N_eff:  1.014661970730362\n",
      "resampling...\n",
      "loop:  9120\n",
      "delta_pose:  [ 4.39899584e-02  2.25751619e-02 -6.21678084e-05]\n",
      "max corr:  883.0\n",
      "N_eff:  1.000000000000534\n",
      "resampling...\n",
      "loop:  9130\n",
      "delta_pose:  [0.02830562 0.00341452 0.00023382]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0000908112707558\n",
      "resampling...\n",
      "loop:  9140\n",
      "delta_pose:  [ 0.01339001 -0.02386283  0.00023378]\n",
      "max corr:  888.0\n",
      "N_eff:  1.004959228406245\n",
      "resampling...\n",
      "loop:  9150\n",
      "delta_pose:  [ 0.00532513 -0.04682829  0.00010615]\n",
      "max corr:  874.0\n",
      "N_eff:  1.6551717173739833\n",
      "resampling...\n",
      "loop:  9160\n",
      "delta_pose:  [ 0.01027737 -0.03316425 -0.00011689]\n",
      "max corr:  906.0\n",
      "N_eff:  2.0000000066827597\n",
      "resampling...\n",
      "loop:  9170\n",
      "delta_pose:  [ 0.02309421 -0.00433519 -0.00011697]\n",
      "max corr:  883.0\n",
      "N_eff:  1.0000001244745365\n",
      "resampling...\n",
      "loop:  9180\n",
      "delta_pose:  [ 4.11160311e-02  1.93593992e-02 -9.28109609e-05]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0000003094225163\n",
      "resampling...\n",
      "loop:  9190\n",
      "delta_pose:  [3.75205127e-02 1.46510683e-02 5.84345182e-05]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0000352916369781\n",
      "resampling...\n",
      "loop:  9200\n",
      "delta_pose:  [ 1.85106271e-02 -1.03867327e-02  5.61437816e-05]\n",
      "max corr:  861.0\n",
      "N_eff:  1.708404364922683\n",
      "resampling...\n",
      "loop:  9210\n",
      "delta_pose:  [ 8.24011278e-03 -4.01603531e-02  5.84512171e-05]\n",
      "max corr:  850.0\n",
      "N_eff:  1.0001031017728996\n",
      "resampling...\n",
      "loop:  9220\n",
      "delta_pose:  [ 6.62769511e-03 -4.44001564e-02 -2.02144067e-05]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0002468612765005\n",
      "resampling...\n",
      "loop:  9230\n",
      "delta_pose:  [ 1.66336801e-02 -1.61850533e-02 -2.92192221e-05]\n",
      "max corr:  846.0\n",
      "N_eff:  1.0000000345924944\n",
      "resampling...\n",
      "loop:  9240\n",
      "delta_pose:  [ 3.37946573e-02  1.02765732e-02 -2.91962472e-05]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0366207183164504\n",
      "resampling...\n",
      "loop:  9250\n",
      "delta_pose:  [4.18823817e-02 2.11504536e-02 7.04472829e-07]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0993280264763725\n",
      "resampling...\n",
      "loop:  9260\n",
      "delta_pose:  [2.68261380e-02 1.27396700e-03 1.46154584e-05]\n",
      "max corr:  855.0\n",
      "N_eff:  1.0049581121687832\n",
      "resampling...\n",
      "loop:  9270\n",
      "delta_pose:  [ 1.25136898e-02 -2.63177515e-02  1.46177255e-05]\n",
      "max corr:  825.0\n",
      "N_eff:  1.00520494548075\n",
      "resampling...\n",
      "loop:  9280\n",
      "delta_pose:  [ 5.44168532e-03 -4.92529621e-02  4.58650772e-06]\n",
      "max corr:  790.0\n",
      "N_eff:  3.0007984868689603\n",
      "resampling...\n",
      "loop:  9290\n",
      "delta_pose:  [ 1.14961721e-02 -2.92681934e-02 -7.30663023e-06]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0018363178068104\n",
      "resampling...\n",
      "loop:  9300\n",
      "delta_pose:  [ 2.37557244e-02 -1.64052252e-03 -7.01638299e-06]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0006848813512947\n",
      "resampling...\n",
      "loop:  9310\n",
      "delta_pose:  [ 4.22269234e-02  2.05446557e-02 -4.92555089e-06]\n",
      "max corr:  846.0\n",
      "N_eff:  1.000685193483993\n",
      "resampling...\n",
      "loop:  9320\n",
      "delta_pose:  [3.58724759e-02 1.26996454e-02 3.65351901e-06]\n",
      "max corr:  846.0\n",
      "N_eff:  1.000000000000069\n",
      "resampling...\n",
      "loop:  9330\n",
      "delta_pose:  [ 1.79188183e-02 -1.35987429e-02  3.65918323e-06]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0374337103916862\n",
      "resampling...\n",
      "loop:  9340\n",
      "delta_pose:  [ 7.34397305e-03 -4.35510491e-02  3.50256114e-06]\n",
      "max corr:  907.0\n",
      "N_eff:  1.0000046978728216\n",
      "resampling...\n",
      "loop:  9350\n",
      "delta_pose:  [ 6.92659899e-03 -4.02073867e-02 -1.70267230e-06]\n",
      "max corr:  823.0\n",
      "N_eff:  1.0000924629922754\n",
      "resampling...\n",
      "loop:  9360\n",
      "delta_pose:  [ 1.77048854e-02 -1.39492918e-02 -1.82662991e-06]\n",
      "max corr:  864.0\n",
      "N_eff:  1.2580733545804685\n",
      "resampling...\n",
      "loop:  9370\n",
      "delta_pose:  [ 3.55511441e-02  1.23325439e-02 -1.82609079e-06]\n",
      "max corr:  899.0\n",
      "N_eff:  1.00000000000157\n",
      "resampling...\n",
      "loop:  9380\n",
      "delta_pose:  [4.24541060e-02 2.07545591e-02 3.02834147e-07]\n",
      "max corr:  864.0\n",
      "N_eff:  1.0049581758686115\n",
      "resampling...\n",
      "loop:  9390\n",
      "delta_pose:  [ 2.46601318e-02 -1.87994958e-03  9.13448007e-07]\n",
      "max corr:  870.0\n",
      "N_eff:  1.9670334127642213\n",
      "resampling...\n",
      "loop:  9400\n",
      "delta_pose:  [ 1.09594470e-02 -2.82706099e-02  8.77094529e-07]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0018617213079355\n",
      "resampling...\n",
      "loop:  9410\n",
      "delta_pose:  [ 5.42971344e-03 -4.92669590e-02  1.76254974e-07]\n",
      "max corr:  886.0\n",
      "N_eff:  1.0018243747766835\n",
      "resampling...\n",
      "loop:  9420\n",
      "delta_pose:  [ 1.23608338e-02 -2.67407849e-02 -4.56726164e-07]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0392525269974908\n",
      "resampling...\n",
      "loop:  9430\n",
      "delta_pose:  [ 2.65540014e-02  8.99350420e-04 -4.56535657e-07]\n",
      "max corr:  864.0\n",
      "N_eff:  1.099368775541629\n",
      "resampling...\n",
      "loop:  9440\n",
      "delta_pose:  [ 0.04299514  0.02202063 -0.007559  ]\n",
      "max corr:  854.0\n",
      "N_eff:  1.0000016631533786\n",
      "resampling...\n",
      "loop:  9450\n",
      "delta_pose:  [ 0.03069655  0.01020916 -0.02271185]\n",
      "max corr:  824.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  9460\n",
      "delta_pose:  [ 0.01417459 -0.01513289 -0.0236544 ]\n",
      "max corr:  889.0\n",
      "N_eff:  1.0000003119965666\n",
      "resampling...\n",
      "loop:  9470\n",
      "delta_pose:  [ 0.00260261 -0.0430798  -0.0238988 ]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0000045360752619\n",
      "resampling...\n",
      "loop:  9480\n",
      "delta_pose:  [ 0.0062929  -0.04236307 -0.03543451]\n",
      "max corr:  893.0\n",
      "N_eff:  1.0036491960768736\n",
      "resampling...\n",
      "loop:  9490\n",
      "delta_pose:  [ 0.02016979 -0.01419903 -0.0354206 ]\n",
      "max corr:  874.0\n",
      "N_eff:  1.09984512523056\n",
      "resampling...\n",
      "loop:  9500\n",
      "delta_pose:  [ 0.03972305  0.00795864 -0.03402715]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0000002560885803\n",
      "resampling...\n",
      "loop:  9510\n",
      "delta_pose:  [ 0.04247154  0.01342469 -0.02961226]\n",
      "max corr:  856.0\n",
      "N_eff:  2.5041637288563665\n",
      "resampling...\n",
      "loop:  9520\n",
      "delta_pose:  [ 0.0197001  -0.00663055 -0.02954911]\n",
      "max corr:  897.0\n",
      "N_eff:  1.0052385073777905\n",
      "resampling...\n",
      "loop:  9530\n",
      "delta_pose:  [ 0.00065809 -0.03245068 -0.02959295]\n",
      "max corr:  905.0\n",
      "N_eff:  1.0006849948540641\n",
      "resampling...\n",
      "loop:  9540\n",
      "delta_pose:  [-0.00697245 -0.04812561 -0.01545183]\n",
      "max corr:  894.0\n",
      "N_eff:  1.0375533164389983\n",
      "resampling...\n",
      "loop:  9550\n",
      "delta_pose:  [ 0.00689331 -0.02592479 -0.00850057]\n",
      "max corr:  910.0\n",
      "N_eff:  1.0000023882085625\n",
      "resampling...\n",
      "loop:  9560\n",
      "delta_pose:  [ 0.02799789 -0.00517801 -0.00885339]\n",
      "max corr:  880.0\n",
      "N_eff:  1.037985181092002\n",
      "resampling...\n",
      "loop:  9570\n",
      "delta_pose:  [ 0.0482034   0.00939517 -0.00333481]\n",
      "max corr:  902.0\n",
      "N_eff:  2.1537297021923187\n",
      "resampling...\n",
      "loop:  9580\n",
      "delta_pose:  [ 0.03166364 -0.00142348  0.0044333 ]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0366190092874343\n",
      "resampling...\n",
      "loop:  9590\n",
      "delta_pose:  [ 0.00858001 -0.02273202  0.00443148]\n",
      "max corr:  890.0\n",
      "N_eff:  1.4408284898419144\n",
      "resampling...\n",
      "loop:  9600\n",
      "delta_pose:  [-0.00758743 -0.04452908  0.00306911]\n",
      "max corr:  872.0\n",
      "N_eff:  1.0105439577131814\n",
      "resampling...\n",
      "loop:  9610\n",
      "delta_pose:  [-0.00267312 -0.03953908 -0.00221606]\n",
      "max corr:  926.0\n",
      "N_eff:  1.0993303139533124\n",
      "resampling...\n",
      "loop:  9620\n",
      "delta_pose:  [ 0.01721105 -0.0143234  -0.00221388]\n",
      "max corr:  882.0\n",
      "N_eff:  2.0417396688825677\n",
      "resampling...\n",
      "loop:  9630\n",
      "delta_pose:  [ 0.04290959  0.00473171 -0.00221581]\n",
      "max corr:  893.0\n",
      "N_eff:  1.2193113629376908\n",
      "resampling...\n",
      "loop:  9640\n",
      "delta_pose:  [0.04265607 0.00538988 0.00103239]\n",
      "max corr:  827.0\n",
      "N_eff:  1.648094794905441\n",
      "resampling...\n",
      "loop:  9650\n",
      "delta_pose:  [ 0.01796645 -0.01202434  0.00106384]\n",
      "max corr:  872.0\n",
      "N_eff:  2.0018408916211703\n",
      "resampling...\n",
      "loop:  9660\n",
      "delta_pose:  [-0.00126384 -0.03655387  0.00110787]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0001264813841033\n",
      "resampling...\n",
      "loop:  9670\n",
      "delta_pose:  [-0.008452   -0.04727427 -0.00011772]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0504278614717544\n",
      "resampling...\n",
      "loop:  9680\n",
      "delta_pose:  [ 0.00785124 -0.02423387 -0.00055358]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0001031722042433\n",
      "resampling...\n",
      "loop:  9690\n",
      "delta_pose:  [ 0.03087567 -0.00314029 -0.00055333]\n",
      "max corr:  839.0\n",
      "N_eff:  1.3158391316343359\n",
      "resampling...\n",
      "loop:  9700\n",
      "delta_pose:  [ 0.04719678  0.00845574 -0.00011915]\n",
      "max corr:  852.0\n",
      "N_eff:  1.6480542908357911\n",
      "resampling...\n",
      "loop:  9710\n",
      "delta_pose:  [ 0.03019696 -0.00354174  0.00027673]\n",
      "max corr:  806.0\n",
      "N_eff:  2.377891417904661\n",
      "resampling...\n",
      "loop:  9720\n",
      "delta_pose:  [ 0.00734527 -0.02475294  0.00027699]\n",
      "max corr:  872.0\n",
      "N_eff:  1.018465964244785\n",
      "resampling...\n",
      "loop:  9730\n",
      "delta_pose:  [-0.00863916 -0.04745347  0.00015347]\n",
      "max corr:  830.0\n",
      "N_eff:  1.9590213596106028\n",
      "resampling...\n",
      "loop:  9740\n",
      "delta_pose:  [-0.00075168 -0.03584033 -0.00013839]\n",
      "max corr:  878.0\n",
      "N_eff:  1.0000004516576375\n",
      "resampling...\n",
      "loop:  9750\n",
      "delta_pose:  [ 0.01854172 -0.01169418 -0.00013284]\n",
      "max corr:  835.0\n",
      "N_eff:  1.586267302178179\n",
      "resampling...\n",
      "loop:  9760\n",
      "delta_pose:  [ 0.04338017  0.00536227 -0.00012676]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0007256330870102\n",
      "resampling...\n",
      "loop:  9770\n",
      "delta_pose:  [4.22330041e-02 4.17689851e-03 6.91780997e-05]\n",
      "max corr:  832.0\n",
      "N_eff:  1.0000336742643092\n",
      "resampling...\n",
      "loop:  9780\n",
      "delta_pose:  [ 1.65663620e-02 -1.47299306e-02  6.91800642e-05]\n",
      "max corr:  861.0\n",
      "N_eff:  1.2811337782552483\n",
      "resampling...\n",
      "loop:  9790\n",
      "delta_pose:  [-3.29256505e-03 -3.96724147e-02  6.91676878e-05]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0135106981929882\n",
      "resampling...\n",
      "loop:  9800\n",
      "delta_pose:  [-7.29179789e-03 -4.53049102e-02 -1.96289285e-05]\n",
      "max corr:  860.0\n",
      "N_eff:  1.2678726574740335\n",
      "resampling...\n",
      "loop:  9810\n",
      "delta_pose:  [ 9.48425253e-03 -2.08616211e-02 -3.32323886e-05]\n",
      "max corr:  860.0\n",
      "N_eff:  1.005296170589256\n",
      "resampling...\n",
      "loop:  9820\n",
      "delta_pose:  [ 3.31355450e-02 -1.62673485e-03 -3.46021139e-05]\n",
      "max corr:  861.0\n",
      "N_eff:  1.036888166634648\n",
      "resampling...\n",
      "loop:  9830\n",
      "delta_pose:  [ 4.84950788e-02  8.34117817e-03 -2.56749653e-06]\n",
      "max corr:  801.0\n",
      "N_eff:  1.0015942081886686\n",
      "resampling...\n",
      "loop:  9840\n",
      "delta_pose:  [ 2.70306513e-02 -5.93417424e-03  1.73081292e-05]\n",
      "max corr:  819.0\n",
      "N_eff:  1.036619024491541\n",
      "resampling...\n",
      "loop:  9850\n",
      "delta_pose:  [ 4.96616255e-03 -2.77856407e-02  1.73061319e-05]\n",
      "max corr:  835.0\n",
      "N_eff:  2.000670899631539\n",
      "resampling...\n",
      "loop:  9860\n",
      "delta_pose:  [-8.92368077e-03 -4.65870815e-02  6.82210863e-06]\n",
      "max corr:  824.0\n",
      "N_eff:  2.371325982831463\n",
      "resampling...\n",
      "loop:  9870\n",
      "delta_pose:  [ 7.80645603e-04 -3.35630821e-02 -8.65052847e-06]\n",
      "max corr:  846.0\n",
      "N_eff:  1.1000305352200932\n",
      "resampling...\n",
      "loop:  9880\n",
      "delta_pose:  [ 2.17329320e-02 -1.01581466e-02 -8.66058024e-06]\n",
      "max corr:  834.0\n",
      "N_eff:  1.000071606680172\n",
      "resampling...\n",
      "loop:  9890\n",
      "delta_pose:  [ 4.57375625e-02  6.75796250e-03 -6.34939560e-06]\n",
      "max corr:  850.0\n",
      "N_eff:  1.6508614444046679\n",
      "resampling...\n",
      "loop:  9900\n",
      "delta_pose:  [3.91294348e-02 2.20611517e-03 4.33024101e-06]\n",
      "max corr:  768.0\n",
      "N_eff:  1.0000000000000004\n",
      "resampling...\n",
      "loop:  9910\n",
      "delta_pose:  [ 1.37575415e-02 -1.62335436e-02  4.15174846e-06]\n",
      "max corr:  825.0\n",
      "N_eff:  1.005630148743699\n",
      "resampling...\n",
      "loop:  9920\n",
      "delta_pose:  [-4.64614569e-03 -4.18534783e-02  4.32939790e-06]\n",
      "max corr:  817.0\n",
      "N_eff:  1.6480562823391725\n",
      "resampling...\n",
      "loop:  9930\n",
      "delta_pose:  [-6.26412241e-03 -4.35059074e-02 -1.76211787e-06]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0019165463567006\n",
      "resampling...\n",
      "loop:  9940\n",
      "delta_pose:  [ 1.19616076e-02 -1.94417856e-02 -2.16294112e-06]\n",
      "max corr:  785.0\n",
      "N_eff:  1.3759096765527203\n",
      "resampling...\n",
      "loop:  9950\n",
      "delta_pose:  [ 3.65473433e-02  5.82775655e-04 -2.16430400e-06]\n",
      "max corr:  808.0\n",
      "N_eff:  1.650362428542354\n",
      "resampling...\n",
      "loop:  9960\n",
      "delta_pose:  [ 0.04473143  0.00812775 -0.0160632 ]\n",
      "max corr:  793.0\n",
      "N_eff:  1.015404519159422\n",
      "resampling...\n",
      "loop:  9970\n",
      "delta_pose:  [ 0.02323229 -0.00639315 -0.02363264]\n",
      "max corr:  797.0\n",
      "N_eff:  1.0002976520616762\n",
      "resampling...\n",
      "loop:  9980\n",
      "delta_pose:  [ 0.00051896 -0.02809953 -0.02363244]\n",
      "max corr:  822.0\n",
      "N_eff:  1.0134815421395706\n",
      "resampling...\n",
      "loop:  9990\n",
      "delta_pose:  [-0.01285764 -0.04773087 -0.02866936]\n",
      "max corr:  818.0\n",
      "N_eff:  1.0996701129948214\n",
      "resampling...\n",
      "loop:  10000\n",
      "delta_pose:  [ 0.00118746 -0.03144338 -0.03405146]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0002469988411262\n",
      "resampling...\n",
      "loop:  10010\n",
      "delta_pose:  [ 0.02408425 -0.01331693 -0.0354407 ]\n",
      "max corr:  828.0\n",
      "N_eff:  1.8120651894111846\n",
      "resampling...\n",
      "loop:  10020\n",
      "delta_pose:  [ 0.04836813 -0.00031281 -0.03309481]\n",
      "max corr:  812.0\n",
      "N_eff:  2.013564546711254\n",
      "resampling...\n",
      "loop:  10030\n",
      "delta_pose:  [ 0.03472432 -0.0035909  -0.0295475 ]\n",
      "max corr:  819.0\n",
      "N_eff:  2.0019144432498255\n",
      "resampling...\n",
      "loop:  10040\n",
      "delta_pose:  [ 0.00631258 -0.0188044  -0.02955748]\n",
      "max corr:  828.0\n",
      "N_eff:  1.000246934675088\n",
      "resampling...\n",
      "loop:  10050\n",
      "delta_pose:  [-0.01693728 -0.03791194 -0.02779902]\n",
      "max corr:  833.0\n",
      "N_eff:  1.0520495214214647\n",
      "resampling...\n",
      "loop:  10060\n",
      "delta_pose:  [-0.01552692 -0.03970435 -0.00861453]\n",
      "max corr:  862.0\n",
      "N_eff:  1.0134876528931058\n",
      "resampling...\n",
      "loop:  10070\n",
      "delta_pose:  [ 0.00863799 -0.02132194 -0.00885923]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0000003119914216\n",
      "resampling...\n",
      "loop:  10080\n",
      "delta_pose:  [ 0.03779465 -0.00901332 -0.00886397]\n",
      "max corr:  877.0\n",
      "N_eff:  1.0002469151388185\n",
      "resampling...\n",
      "loop:  10090\n",
      "delta_pose:  [ 0.04546675 -0.00579993  0.00199671]\n",
      "max corr:  811.0\n",
      "N_eff:  1.0002468196044834\n",
      "resampling...\n",
      "loop:  10100\n",
      "delta_pose:  [ 0.01756364 -0.01445716  0.00425306]\n",
      "max corr:  842.0\n",
      "N_eff:  1.0134810767974094\n",
      "resampling...\n",
      "loop:  10110\n",
      "delta_pose:  [-0.00796329 -0.03111119  0.00442773]\n",
      "max corr:  861.0\n",
      "N_eff:  1.052204149467835\n",
      "resampling...\n",
      "loop:  10120\n",
      "delta_pose:  [-0.02330498 -0.0441717   0.00059899]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0000016742748545\n",
      "resampling...\n",
      "loop:  10130\n",
      "delta_pose:  [-0.00380423 -0.02863573 -0.00221514]\n",
      "max corr:  870.0\n",
      "N_eff:  1.0043230334148177\n",
      "resampling...\n",
      "loop:  10140\n",
      "delta_pose:  [ 0.02368606 -0.01381512 -0.00221544]\n",
      "max corr:  839.0\n",
      "N_eff:  1.0137242373496376\n",
      "resampling...\n",
      "loop:  10150\n",
      "delta_pose:  [ 0.04875283 -0.00606829 -0.00096316]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0141861761299704\n",
      "resampling...\n",
      "loop:  10160\n",
      "delta_pose:  [ 0.03099646 -0.01026476  0.00106332]\n",
      "max corr:  798.0\n",
      "N_eff:  1.648056290889606\n",
      "resampling...\n",
      "loop:  10170\n",
      "delta_pose:  [ 0.00390297 -0.02304286  0.00110727]\n",
      "max corr:  808.0\n",
      "N_eff:  1.6488646357836314\n",
      "resampling...\n",
      "loop:  10180\n",
      "delta_pose:  [-0.02012802 -0.0408817   0.00088035]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0000908944264755\n",
      "resampling...\n",
      "loop:  10190\n",
      "delta_pose:  [-0.01534295 -0.03746309 -0.00055383]\n",
      "max corr:  857.0\n",
      "N_eff:  1.001823762414598\n",
      "resampling...\n",
      "loop:  10200\n",
      "delta_pose:  [ 0.01103255 -0.01926178 -0.00055388]\n",
      "max corr:  853.0\n",
      "N_eff:  1.000034069838081\n",
      "resampling...\n",
      "loop:  10210\n",
      "delta_pose:  [ 0.0391163  -0.00836233 -0.00053229]\n",
      "max corr:  858.0\n",
      "N_eff:  1.028888335190071\n",
      "resampling...\n",
      "loop:  10220\n",
      "delta_pose:  [ 0.04333525 -0.00615572 -0.02061002]\n",
      "max corr:  754.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10230\n",
      "delta_pose:  [ 0.0144093  -0.01515844 -0.02335676]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0002484830724312\n",
      "resampling...\n",
      "loop:  10240\n",
      "delta_pose:  [-0.0134098  -0.03083598 -0.02335917]\n",
      "max corr:  842.0\n",
      "N_eff:  1.7663504930925753\n",
      "resampling...\n",
      "loop:  10250\n",
      "delta_pose:  [-0.02464536 -0.0402376  -0.02961624]\n",
      "max corr:  843.0\n",
      "N_eff:  1.6920066484350442\n",
      "resampling...\n",
      "loop:  10260\n",
      "delta_pose:  [-0.00352703 -0.02879157 -0.03558523]\n",
      "max corr:  836.0\n",
      "N_eff:  1.2733710788820995\n",
      "resampling...\n",
      "loop:  10270\n",
      "delta_pose:  [ 0.0252595  -0.01848705 -0.03559981]\n",
      "max corr:  837.0\n",
      "N_eff:  1.265918143275615\n",
      "resampling...\n",
      "loop:  10280\n",
      "delta_pose:  [ 0.04768987 -0.01381982 -0.03195059]\n",
      "max corr:  838.0\n",
      "N_eff:  1.648054289207498\n",
      "resampling...\n",
      "loop:  10290\n",
      "delta_pose:  [ 0.02537928 -0.01440069 -0.02947933]\n",
      "max corr:  813.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10300\n",
      "delta_pose:  [-0.0046738  -0.02075956 -0.02828648]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0049581096776214\n",
      "resampling...\n",
      "loop:  10310\n",
      "delta_pose:  [-0.03118687 -0.03414122 -0.02930742]\n",
      "max corr:  863.0\n",
      "N_eff:  1.0000396704408783\n",
      "resampling...\n",
      "loop:  10320\n",
      "delta_pose:  [-0.02246402 -0.0335954  -0.0325573 ]\n",
      "max corr:  857.0\n",
      "N_eff:  1.0000000002052378\n",
      "resampling...\n",
      "loop:  10330\n",
      "delta_pose:  [ 0.00745433 -0.02425621 -0.03253035]\n",
      "max corr:  857.0\n",
      "N_eff:  1.1379831923892167\n",
      "resampling...\n",
      "loop:  10340\n",
      "delta_pose:  [ 0.03853551 -0.02417224 -0.03248274]\n",
      "max corr:  866.0\n",
      "N_eff:  1.2714292537153393\n",
      "resampling...\n",
      "loop:  10350\n",
      "delta_pose:  [ 0.03382891 -0.01887903 -0.02890846]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10360\n",
      "delta_pose:  [ 0.00515936 -0.01867103 -0.03099814]\n",
      "max corr:  862.0\n",
      "N_eff:  1.7840631083376202\n",
      "resampling...\n",
      "loop:  10370\n",
      "delta_pose:  [-0.02656729 -0.0240817  -0.03100539]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0050491437082083\n",
      "resampling...\n",
      "loop:  10380\n",
      "delta_pose:  [-0.03820052 -0.02983327 -0.0307399 ]\n",
      "max corr:  863.0\n",
      "N_eff:  1.6919848446996542\n",
      "resampling...\n",
      "loop:  10390\n",
      "delta_pose:  [-0.01073966 -0.02556591 -0.03172853]\n",
      "max corr:  873.0\n",
      "N_eff:  2.0117551331677035\n",
      "resampling...\n",
      "loop:  10400\n",
      "delta_pose:  [ 0.01817959 -0.02652981 -0.03046653]\n",
      "max corr:  914.0\n",
      "N_eff:  1.013479918014509\n",
      "resampling...\n",
      "loop:  10410\n",
      "delta_pose:  [ 0.03821844 -0.03064442 -0.03080948]\n",
      "max corr:  872.0\n",
      "N_eff:  2.055052420322637\n",
      "resampling...\n",
      "loop:  10420\n",
      "delta_pose:  [ 0.01497366 -0.02205933 -0.03138433]\n",
      "max corr:  878.0\n",
      "N_eff:  1.0141559616895752\n",
      "resampling...\n",
      "loop:  10430\n",
      "delta_pose:  [-0.01610709 -0.0178974  -0.03137798]\n",
      "max corr:  896.0\n",
      "N_eff:  1.3157504456825757\n",
      "resampling...\n",
      "loop:  10440\n",
      "delta_pose:  [-0.043629   -0.01973752 -0.02306246]\n",
      "max corr:  893.0\n",
      "N_eff:  1.000000642481449\n",
      "resampling...\n",
      "loop:  10450\n",
      "delta_pose:  [-0.02809738 -0.02000888 -0.00761795]\n",
      "max corr:  898.0\n",
      "N_eff:  1.6502659417753813\n",
      "resampling...\n",
      "loop:  10460\n",
      "delta_pose:  [ 0.00121436 -0.02362789 -0.00792943]\n",
      "max corr:  894.0\n",
      "N_eff:  1.0006838308937367\n",
      "resampling...\n",
      "loop:  10470\n",
      "delta_pose:  [ 0.02927359 -0.0334517  -0.00679944]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0002469940098462\n",
      "resampling...\n",
      "loop:  10480\n",
      "delta_pose:  [ 0.02535839 -0.03135977  0.00396957]\n",
      "max corr:  890.0\n",
      "N_eff:  1.0009184396307693\n",
      "resampling...\n",
      "loop:  10490\n",
      "delta_pose:  [-0.00473482 -0.02104024  0.0039726 ]\n",
      "max corr:  911.0\n",
      "N_eff:  1.6480542874834627\n",
      "resampling...\n",
      "loop:  10500\n",
      "delta_pose:  [-0.03471566 -0.01790942  0.00381172]\n",
      "max corr:  891.0\n",
      "N_eff:  1.3121932392952367\n",
      "resampling...\n",
      "loop:  10510\n",
      "delta_pose:  [-0.04213487 -0.01881314 -0.00113679]\n",
      "max corr:  900.0\n",
      "N_eff:  1.0366189934751644\n",
      "resampling...\n",
      "loop:  10520\n",
      "delta_pose:  [-0.01241738 -0.02043683 -0.00198504]\n",
      "max corr:  909.0\n",
      "N_eff:  1.0373145004243898\n",
      "resampling...\n",
      "loop:  10530\n",
      "delta_pose:  [ 0.01787936 -0.02928601 -0.00198496]\n",
      "max corr:  937.0\n",
      "N_eff:  1.036634888720148\n",
      "resampling...\n",
      "loop:  10540\n",
      "delta_pose:  [ 3.31140440e-02 -3.58369509e-02 -2.80655481e-05]\n",
      "max corr:  879.0\n",
      "N_eff:  1.0995913636236407\n",
      "resampling...\n",
      "loop:  10550\n",
      "delta_pose:  [ 0.00874186 -0.02446741  0.00095307]\n",
      "max corr:  907.0\n",
      "N_eff:  1.2658022288340811\n",
      "resampling...\n",
      "loop:  10560\n",
      "delta_pose:  [-0.02073016 -0.01913057  0.00099265]\n",
      "max corr:  892.0\n",
      "N_eff:  1.378128382904934\n",
      "resampling...\n",
      "loop:  10570\n",
      "delta_pose:  [-0.04591765 -0.01847358  0.00037092]\n",
      "max corr:  893.0\n",
      "N_eff:  1.001824465941514\n",
      "resampling...\n",
      "loop:  10580\n",
      "delta_pose:  [-0.02658893 -0.01894514 -0.00049648]\n",
      "max corr:  919.0\n",
      "N_eff:  1.0058775700146718\n",
      "resampling...\n",
      "loop:  10590\n",
      "delta_pose:  [ 0.00437814 -0.02415607 -0.0004963 ]\n",
      "max corr:  925.0\n",
      "N_eff:  1.0371215483138425\n",
      "resampling...\n",
      "loop:  10600\n",
      "delta_pose:  [ 0.02971265 -0.03361847 -0.00034439]\n",
      "max corr:  944.0\n",
      "N_eff:  1.000000083439925\n",
      "resampling...\n",
      "loop:  10610\n",
      "delta_pose:  [ 0.02308744 -0.03165358  0.00024815]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10620\n",
      "delta_pose:  [-0.00705017 -0.02108525  0.00024813]\n",
      "max corr:  939.0\n",
      "N_eff:  1.000006196442156\n",
      "resampling...\n",
      "loop:  10630\n",
      "delta_pose:  [-0.03888277 -0.01870918  0.00024822]\n",
      "max corr:  931.0\n",
      "N_eff:  1.00207083737546\n",
      "resampling...\n",
      "loop:  10640\n",
      "delta_pose:  [-0.0390415  -0.01824231 -0.00011568]\n",
      "max corr:  935.0\n",
      "N_eff:  1.0006709293039917\n",
      "resampling...\n",
      "loop:  10650\n",
      "delta_pose:  [-0.00894848 -0.01984162 -0.00011913]\n",
      "max corr:  978.0\n",
      "N_eff:  1.0056345908048923\n",
      "resampling...\n",
      "loop:  10660\n",
      "delta_pose:  [ 0.02022814 -0.03042125 -0.00012408]\n",
      "max corr:  967.0\n",
      "N_eff:  1.0135673113111967\n",
      "resampling...\n",
      "loop:  10670\n",
      "delta_pose:  [ 3.19448334e-02 -3.55974772e-02  1.31439958e-05]\n",
      "max corr:  892.0\n",
      "N_eff:  1.0002468502733952\n",
      "resampling...\n",
      "loop:  10680\n",
      "delta_pose:  [ 6.02675585e-03 -2.46596149e-02  6.20325702e-05]\n",
      "max corr:  933.0\n",
      "N_eff:  1.004982348450211\n",
      "resampling...\n",
      "loop:  10690\n",
      "delta_pose:  [-2.46582744e-02 -1.89382409e-02  6.20654888e-05]\n",
      "max corr:  954.0\n",
      "N_eff:  1.0001004534333424\n",
      "resampling...\n",
      "loop:  10700\n",
      "delta_pose:  [-4.44523473e-02 -1.76831032e-02  1.32644978e-05]\n",
      "max corr:  950.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10710\n",
      "delta_pose:  [-2.37938027e-02 -1.89740061e-02 -3.10051949e-05]\n",
      "max corr:  964.0\n",
      "N_eff:  1.0000000048894628\n",
      "resampling...\n",
      "loop:  10720\n",
      "delta_pose:  [ 6.76387275e-03 -2.49341430e-02 -3.10225637e-05]\n",
      "max corr:  973.0\n",
      "N_eff:  1.0134755087980678\n",
      "resampling...\n",
      "loop:  10730\n",
      "delta_pose:  [ 3.22700887e-02 -3.58023269e-02 -1.71924824e-05]\n",
      "max corr:  932.0\n",
      "N_eff:  1.0000908004965476\n",
      "resampling...\n",
      "loop:  10740\n",
      "delta_pose:  [ 1.94428657e-02 -3.00565491e-02  1.55066022e-05]\n",
      "max corr:  503.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10750\n",
      "delta_pose:  [-9.67851498e-03 -1.97061023e-02  1.48983860e-05]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10760\n",
      "delta_pose:  [-3.96647561e-02 -1.82305718e-02  1.41699627e-05]\n",
      "max corr:  862.0\n",
      "N_eff:  1.014150726564049\n",
      "resampling...\n",
      "loop:  10770\n",
      "delta_pose:  [-3.81035753e-02 -1.86957509e-02 -7.75376321e-06]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10780\n",
      "delta_pose:  [-6.30998878e-03 -2.12701958e-02 -7.75293438e-06]\n",
      "max corr:  944.0\n",
      "N_eff:  2.0018233531256358\n",
      "resampling...\n",
      "loop:  10790\n",
      "delta_pose:  [ 2.37036883e-02 -3.20437627e-02 -7.75016182e-06]\n",
      "max corr:  968.0\n",
      "N_eff:  1.0006754474306483\n",
      "resampling...\n",
      "loop:  10800\n",
      "delta_pose:  [ 2.92308597e-02 -3.34686247e-02  2.05706138e-06]\n",
      "max corr:  930.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10810\n",
      "delta_pose:  [ 3.60840834e-03 -2.38829742e-02  3.87680459e-06]\n",
      "max corr:  965.0\n",
      "N_eff:  1.280917884715978\n",
      "resampling...\n",
      "loop:  10820\n",
      "delta_pose:  [-2.73373003e-02 -1.88103499e-02  3.87640484e-06]\n",
      "max corr:  946.0\n",
      "N_eff:  1.0134752822213053\n",
      "resampling...\n",
      "loop:  10830\n",
      "delta_pose:  [-4.56090165e-02 -1.84030458e-02  2.87310330e-07]\n",
      "max corr:  918.0\n",
      "N_eff:  1.001836062240027\n",
      "resampling...\n",
      "loop:  10840\n",
      "delta_pose:  [-1.98727969e-02 -1.92584302e-02 -1.93807957e-06]\n",
      "max corr:  932.0\n",
      "N_eff:  1.000000022990029\n",
      "resampling...\n",
      "loop:  10850\n",
      "delta_pose:  [ 9.34875710e-03 -2.49227332e-02 -1.85996762e-06]\n",
      "max corr:  931.0\n",
      "N_eff:  1.0366192241898051\n",
      "resampling...\n",
      "loop:  10860\n",
      "delta_pose:  [ 3.31236771e-02 -3.62770354e-02 -8.43468381e-07]\n",
      "max corr:  900.0\n",
      "N_eff:  1.0006709251803116\n",
      "resampling...\n",
      "loop:  10870\n",
      "delta_pose:  [ 1.69718338e-02 -2.89532303e-02  9.68931595e-07]\n",
      "max corr:  718.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10880\n",
      "delta_pose:  [-1.31158397e-02 -2.00424961e-02  9.68824322e-07]\n",
      "max corr:  910.0\n",
      "N_eff:  1.6480542736638855\n",
      "resampling...\n",
      "loop:  10890\n",
      "delta_pose:  [-4.24758471e-02 -1.83170836e-02  7.12326109e-07]\n",
      "max corr:  925.0\n",
      "N_eff:  1.0025144112082085\n",
      "resampling...\n",
      "loop:  10900\n",
      "delta_pose:  [-3.37120290e-02 -1.79314189e-02 -4.65499840e-07]\n",
      "max corr:  816.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  10910\n",
      "delta_pose:  [-3.90812960e-03 -2.18092350e-02 -4.84554272e-07]\n",
      "max corr:  913.0\n",
      "N_eff:  1.0000705815957824\n",
      "resampling...\n",
      "loop:  10920\n",
      "delta_pose:  [ 2.59273416e-02 -3.31291773e-02 -4.84616159e-07]\n",
      "max corr:  931.0\n",
      "N_eff:  2.018426171134548\n",
      "resampling...\n",
      "loop:  10930\n",
      "delta_pose:  [ 2.82297548e-02 -3.37364037e-02  1.96852859e-07]\n",
      "max corr:  853.0\n",
      "N_eff:  1.0000002250703495\n",
      "resampling...\n",
      "loop:  10940\n",
      "delta_pose:  [ 4.48552007e-05 -2.28465461e-02  2.42483885e-07]\n",
      "max corr:  942.0\n",
      "N_eff:  1.0000000000001164\n",
      "resampling...\n",
      "loop:  10950\n",
      "delta_pose:  [-2.94822913e-02 -1.79523462e-02  2.32586492e-07]\n",
      "max corr:  934.0\n",
      "N_eff:  1.0006854948875912\n",
      "resampling...\n",
      "loop:  10960\n",
      "delta_pose:  [-4.47270062e-02 -1.83676625e-02 -1.13032250e-08]\n",
      "max corr:  953.0\n",
      "N_eff:  1.0000016742635491\n",
      "resampling...\n",
      "loop:  10970\n",
      "delta_pose:  [-1.73126661e-02 -1.95344059e-02 -1.21258218e-07]\n",
      "max corr:  936.0\n",
      "N_eff:  1.0050549231858146\n",
      "resampling...\n",
      "loop:  10980\n",
      "delta_pose:  [ 1.28738517e-02 -2.72415361e-02 -1.21231857e-07]\n",
      "max corr:  948.0\n",
      "N_eff:  1.0000001770097362\n",
      "resampling...\n",
      "loop:  10990\n",
      "delta_pose:  [ 3.23925977e-02 -3.50735154e-02 -3.30137837e-08]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0134753128953964\n",
      "resampling...\n",
      "loop:  11000\n",
      "delta_pose:  [ 1.44940604e-02 -2.78953535e-02  6.05757595e-08]\n",
      "max corr:  928.0\n",
      "N_eff:  1.000247435607366\n",
      "resampling...\n",
      "loop:  11010\n",
      "delta_pose:  [-1.56334225e-02 -1.97240668e-02  6.06113435e-08]\n",
      "max corr:  940.0\n",
      "N_eff:  2.0020702830605437\n",
      "resampling...\n",
      "loop:  11020\n",
      "delta_pose:  [-4.39342295e-02 -1.83427807e-02  3.71653552e-08]\n",
      "max corr:  940.0\n",
      "N_eff:  1.0000000002052665\n",
      "resampling...\n",
      "loop:  11030\n",
      "delta_pose:  [-3.18330018e-02 -1.87151507e-02 -3.03036369e-08]\n",
      "max corr:  926.0\n",
      "N_eff:  1.0417924071193685\n",
      "resampling...\n",
      "loop:  11040\n",
      "delta_pose:  [-8.97469033e-04 -2.16293775e-02 -2.90740285e-08]\n",
      "max corr:  906.0\n",
      "N_eff:  1.0000334606432315\n",
      "resampling...\n",
      "loop:  11050\n",
      "delta_pose:  [ 0.02796074 -0.03409217 -0.0006259 ]\n",
      "max corr:  936.0\n",
      "N_eff:  1.0000379465475684\n",
      "resampling...\n",
      "loop:  11060\n",
      "delta_pose:  [ 0.02630034 -0.03112261 -0.02300118]\n",
      "max corr:  877.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  11070\n",
      "delta_pose:  [-0.00234929 -0.01982508 -0.0236425 ]\n",
      "max corr:  920.0\n",
      "N_eff:  2.716083821274256\n",
      "resampling...\n",
      "loop:  11080\n",
      "delta_pose:  [-0.03403944 -0.01465471 -0.02362763]\n",
      "max corr:  954.0\n",
      "N_eff:  1.1000305356505518\n",
      "resampling...\n",
      "loop:  11090\n",
      "delta_pose:  [-0.04317307 -0.01531791 -0.03106187]\n",
      "max corr:  963.0\n",
      "N_eff:  1.0006711856840838\n",
      "resampling...\n",
      "loop:  11100\n",
      "delta_pose:  [-0.01753636 -0.02053801 -0.03543973]\n",
      "max corr:  952.0\n",
      "N_eff:  1.766350448946048\n",
      "resampling...\n",
      "loop:  11110\n",
      "delta_pose:  [ 0.01084243 -0.03242345 -0.03547635]\n",
      "max corr:  955.0\n",
      "N_eff:  1.0000340169409756\n",
      "resampling...\n",
      "loop:  11120\n",
      "delta_pose:  [ 0.02741339 -0.04070298 -0.03115919]\n",
      "max corr:  973.0\n",
      "N_eff:  1.0367114565305615\n",
      "resampling...\n",
      "loop:  11130\n",
      "delta_pose:  [ 0.00671134 -0.02522501 -0.02954025]\n",
      "max corr:  945.0\n",
      "N_eff:  2.7355833879150624\n",
      "resampling...\n",
      "loop:  11140\n",
      "delta_pose:  [-0.0204208  -0.01166268 -0.02833851]\n",
      "max corr:  967.0\n",
      "N_eff:  1.0000002708860594\n",
      "resampling...\n",
      "loop:  11150\n",
      "delta_pose:  [-0.04805826 -0.00597742 -0.02973921]\n",
      "max corr:  957.0\n",
      "N_eff:  1.0018238453065405\n",
      "resampling...\n",
      "loop:  11160\n",
      "delta_pose:  [-0.03500065 -0.01231679 -0.03250335]\n",
      "max corr:  950.0\n",
      "N_eff:  1.0000016632627466\n",
      "resampling...\n",
      "loop:  11170\n",
      "delta_pose:  [-0.00690897 -0.02530308 -0.03247855]\n",
      "max corr:  919.0\n",
      "N_eff:  1.3219051116565264\n",
      "resampling...\n",
      "loop:  11180\n",
      "delta_pose:  [ 0.01544339 -0.04366229 -0.03144474]\n",
      "max corr:  944.0\n",
      "N_eff:  1.0006709257394262\n",
      "resampling...\n",
      "loop:  11190\n",
      "delta_pose:  [ 0.01199003 -0.03504677 -0.029767  ]\n",
      "max corr:  925.0\n",
      "N_eff:  1.000000000031535\n",
      "resampling...\n",
      "loop:  11200\n",
      "delta_pose:  [-0.01106662 -0.01541691 -0.03102284]\n",
      "max corr:  928.0\n",
      "N_eff:  1.0049620906656183\n",
      "resampling...\n",
      "loop:  11210\n",
      "delta_pose:  [-0.03928929  0.00029266 -0.03101384]\n",
      "max corr:  936.0\n",
      "N_eff:  1.2658072698350056\n",
      "resampling...\n",
      "loop:  11220\n",
      "delta_pose:  [-0.04667544  0.00050136 -0.03086793]\n",
      "max corr:  966.0\n",
      "N_eff:  1.0000457682816748\n",
      "resampling...\n",
      "loop:  11230\n",
      "delta_pose:  [-0.02172601 -0.01481089 -0.03175139]\n",
      "max corr:  938.0\n",
      "N_eff:  1.000006795536763\n",
      "resampling...\n",
      "loop:  11240\n",
      "delta_pose:  [-0.00089298 -0.0351409  -0.03047661]\n",
      "max corr:  966.0\n",
      "N_eff:  1.0385682498774662\n",
      "resampling...\n",
      "loop:  11250\n",
      "delta_pose:  [ 0.00928568 -0.04677606 -0.03069419]\n",
      "max corr:  971.0\n",
      "N_eff:  1.0049574739038076\n",
      "resampling...\n",
      "loop:  11260\n",
      "delta_pose:  [-0.00508074 -0.02337052 -0.03139104]\n",
      "max corr:  930.0\n",
      "N_eff:  2.135110876235835\n",
      "resampling...\n",
      "loop:  11270\n",
      "delta_pose:  [-0.02687127 -0.0007791  -0.03140309]\n",
      "max corr:  965.0\n",
      "N_eff:  1.0320762740986464\n",
      "resampling...\n",
      "loop:  11280\n",
      "delta_pose:  [-0.047836    0.01320575 -0.03062846]\n",
      "max corr:  963.0\n",
      "N_eff:  2.1355195301465972\n",
      "resampling...\n",
      "loop:  11290\n",
      "delta_pose:  [-0.03339296 -0.00028249 -0.03066276]\n",
      "max corr:  972.0\n",
      "N_eff:  1.766350834021866\n",
      "resampling...\n",
      "loop:  11300\n",
      "delta_pose:  [-0.01489268 -0.02348256 -0.03194978]\n",
      "max corr:  947.0\n",
      "N_eff:  1.0135001903310383\n",
      "resampling...\n",
      "loop:  11310\n",
      "delta_pose:  [-0.00187774 -0.04648853 -0.02998002]\n",
      "max corr:  971.0\n",
      "N_eff:  1.0000002250719202\n",
      "resampling...\n",
      "loop:  11320\n",
      "delta_pose:  [-0.00388863 -0.03525682 -0.03146151]\n",
      "max corr:  912.0\n",
      "N_eff:  1.0000045318922115\n",
      "resampling...\n",
      "loop:  11330\n",
      "delta_pose:  [-0.01711412 -0.00691438 -0.03021994]\n",
      "max corr:  921.0\n",
      "N_eff:  2.3711403457313085\n",
      "resampling...\n",
      "loop:  11340\n",
      "delta_pose:  [-0.03768763  0.01724782 -0.03147785]\n",
      "max corr:  895.0\n",
      "N_eff:  1.6484617830673087\n",
      "resampling...\n",
      "loop:  11350\n",
      "delta_pose:  [-0.04179341  0.0169766  -0.03071096]\n",
      "max corr:  912.0\n",
      "N_eff:  1.0134798331438246\n",
      "resampling...\n",
      "loop:  11360\n",
      "delta_pose:  [-0.02460334 -0.00732847 -0.03151313]\n",
      "max corr:  882.0\n",
      "N_eff:  1.2658029111729912\n",
      "resampling...\n",
      "loop:  11370\n",
      "delta_pose:  [-0.01445749 -0.03654015 -0.03152276]\n",
      "max corr:  871.0\n",
      "N_eff:  1.0137582019931122\n",
      "resampling...\n",
      "loop:  11380\n",
      "delta_pose:  [-0.00909291 -0.04328601 -0.02943951]\n",
      "max corr:  823.0\n",
      "N_eff:  2.000012288405831\n",
      "resampling...\n",
      "loop:  11390\n",
      "delta_pose:  [-0.01444079 -0.01702298 -0.03150492]\n",
      "max corr:  849.0\n",
      "N_eff:  1.0996814890610227\n",
      "resampling...\n",
      "loop:  11400\n",
      "delta_pose:  [-0.02631414  0.01210645 -0.03151169]\n",
      "max corr:  835.0\n",
      "N_eff:  1.266550328791089\n",
      "resampling...\n",
      "loop:  11410\n",
      "delta_pose:  [-0.03927108  0.03078755 -0.03065015]\n",
      "max corr:  919.0\n",
      "N_eff:  1.000000000557988\n",
      "resampling...\n",
      "loop:  11420\n",
      "delta_pose:  [-0.03047383  0.01033299 -0.03151483]\n",
      "max corr:  886.0\n",
      "N_eff:  1.005726301143662\n",
      "resampling...\n",
      "loop:  11430\n",
      "delta_pose:  [-0.02133176 -0.01740343 -0.03025421]\n",
      "max corr:  913.0\n",
      "N_eff:  1.001823762976763\n",
      "resampling...\n",
      "loop:  11440\n",
      "delta_pose:  [-0.02009101 -0.043907   -0.03067937]\n",
      "max corr:  910.0\n",
      "N_eff:  1.375904000869364\n",
      "resampling...\n",
      "loop:  11450\n",
      "delta_pose:  [-0.0172611  -0.028316   -0.03150947]\n",
      "max corr:  904.0\n",
      "N_eff:  1.0006710121305131\n",
      "resampling...\n",
      "loop:  11460\n",
      "delta_pose:  [-0.01984131  0.00337386 -0.03151496]\n",
      "max corr:  879.0\n",
      "N_eff:  1.0000334146880705\n",
      "resampling...\n",
      "loop:  11470\n",
      "delta_pose:  [-0.02858398  0.03251296 -0.03067097]\n",
      "max corr:  865.0\n",
      "N_eff:  1.3762294975449663\n",
      "resampling...\n",
      "loop:  11480\n",
      "delta_pose:  [-0.03071505  0.02923605 -0.03024679]\n",
      "max corr:  886.0\n",
      "N_eff:  1.0368038654663994\n",
      "resampling...\n",
      "loop:  11490\n",
      "delta_pose:  [-0.02530577  0.00046064 -0.03148872]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0000000015165373\n",
      "resampling...\n",
      "loop:  11500\n",
      "delta_pose:  [-0.02805412 -0.03048579 -0.0315207 ]\n",
      "max corr:  897.0\n",
      "N_eff:  1.0000006342261212\n",
      "resampling...\n",
      "loop:  11510\n",
      "delta_pose:  [-0.0267726  -0.03597624 -0.01085173]\n",
      "max corr:  859.0\n",
      "N_eff:  1.0000337128012662\n",
      "resampling...\n",
      "loop:  11520\n",
      "delta_pose:  [-0.02167396 -0.00674462 -0.00788267]\n",
      "max corr:  871.0\n",
      "N_eff:  2.000000225079244\n",
      "resampling...\n",
      "loop:  11530\n",
      "delta_pose:  [-0.02251591  0.02307176 -0.00756179]\n",
      "max corr:  838.0\n",
      "N_eff:  1.006786359430084\n",
      "resampling...\n",
      "loop:  11540\n",
      "delta_pose:  [-0.02722631  0.04148377 -0.00057442]\n",
      "max corr:  837.0\n",
      "N_eff:  1.000004603537048\n",
      "resampling...\n",
      "loop:  11550\n",
      "delta_pose:  [-0.02332288  0.01626596  0.00393792]\n",
      "max corr:  839.0\n",
      "N_eff:  1.0367454647878294\n",
      "resampling...\n",
      "loop:  11560\n",
      "delta_pose:  [-0.02433987 -0.01454307  0.00393948]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0000000874827146\n",
      "resampling...\n",
      "loop:  11570\n",
      "delta_pose:  [-0.02974432 -0.03873183  0.00147315]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0018571968818029\n",
      "resampling...\n",
      "loop:  11580\n",
      "delta_pose:  [-0.02400102 -0.01995741 -0.00189096]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0000123712517455\n",
      "resampling...\n",
      "loop:  11590\n",
      "delta_pose:  [-0.02189183  0.00953973 -0.00196941]\n",
      "max corr:  845.0\n",
      "N_eff:  1.0000000828011895\n",
      "resampling...\n",
      "loop:  11600\n",
      "delta_pose:  [-0.02547056  0.03852667 -0.00144505]\n",
      "max corr:  822.0\n",
      "N_eff:  1.0000046036907695\n",
      "resampling...\n",
      "loop:  11610\n",
      "delta_pose:  [-0.02460812  0.03054186  0.00098411]\n",
      "max corr:  797.0\n",
      "N_eff:  1.0031671207923176\n",
      "resampling...\n",
      "loop:  11620\n",
      "delta_pose:  [-0.02141795 -0.0004706   0.00094525]\n",
      "max corr:  819.0\n",
      "N_eff:  1.0000350664882363\n",
      "resampling...\n",
      "loop:  11630\n",
      "delta_pose:  [-0.02823662 -0.03110285  0.00098516]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0000000041260673\n",
      "resampling...\n",
      "loop:  11640\n",
      "delta_pose:  [-0.02827945 -0.03337781 -0.00039987]\n",
      "max corr:  787.0\n",
      "N_eff:  1.0049591410631278\n",
      "resampling...\n",
      "loop:  11650\n",
      "delta_pose:  [-0.02243343 -0.00387554 -0.00049243]\n",
      "max corr:  833.0\n",
      "N_eff:  1.0054904137094107\n",
      "resampling...\n",
      "loop:  11660\n",
      "delta_pose:  [-0.0238004   0.027713   -0.00049239]\n",
      "max corr:  821.0\n",
      "N_eff:  1.0323151482179556\n",
      "resampling...\n",
      "loop:  11670\n",
      "delta_pose:  [-2.47217941e-02  3.91074611e-02  4.25177751e-05]\n",
      "max corr:  835.0\n",
      "N_eff:  1.0007043413005652\n",
      "resampling...\n",
      "loop:  11680\n",
      "delta_pose:  [-0.02222678  0.01369265  0.00024605]\n",
      "max corr:  807.0\n",
      "N_eff:  1.6480542736639165\n",
      "resampling...\n",
      "loop:  11690\n",
      "delta_pose:  [-0.02464708 -0.01725342  0.00024618]\n",
      "max corr:  829.0\n",
      "N_eff:  1.0403383192692666\n",
      "resampling...\n",
      "loop:  11700\n",
      "delta_pose:  [-3.02494652e-02 -3.92910810e-02  6.26032213e-05]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0000367295734753\n",
      "resampling...\n",
      "loop:  11710\n",
      "delta_pose:  [-0.02471701 -0.01768129 -0.00012313]\n",
      "max corr:  849.0\n",
      "N_eff:  1.6480562908561545\n",
      "resampling...\n",
      "loop:  11720\n",
      "delta_pose:  [-0.02119445  0.01216304 -0.00011813]\n",
      "max corr:  847.0\n",
      "N_eff:  1.000000117381048\n",
      "resampling...\n",
      "loop:  11730\n",
      "delta_pose:  [-2.55700190e-02  4.01651625e-02 -7.55068159e-05]\n",
      "max corr:  848.0\n",
      "N_eff:  1.0000000000013833\n",
      "resampling...\n",
      "loop:  11740\n",
      "delta_pose:  [-2.38787874e-02  2.81509872e-02  6.15733694e-05]\n",
      "max corr:  844.0\n",
      "N_eff:  1.0134758981202936\n",
      "resampling...\n",
      "loop:  11750\n",
      "delta_pose:  [-2.24606229e-02 -3.54793760e-03  6.15323937e-05]\n",
      "max corr:  838.0\n",
      "N_eff:  1.0993279274194332\n",
      "resampling...\n",
      "loop:  11760\n",
      "delta_pose:  [-2.83187611e-02 -3.31870655e-02  5.61803048e-05]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0006709293039917\n",
      "resampling...\n",
      "loop:  11770\n",
      "delta_pose:  [-2.73993761e-02 -3.09151029e-02 -2.95564245e-05]\n",
      "max corr:  868.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  11780\n",
      "delta_pose:  [-2.22672665e-02 -1.46735248e-03 -3.07637523e-05]\n",
      "max corr:  855.0\n",
      "N_eff:  1.6488828132981983\n",
      "resampling...\n",
      "loop:  11790\n",
      "delta_pose:  [-2.42018018e-02  3.03363477e-02 -3.07742290e-05]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  11800\n",
      "delta_pose:  [-2.52944983e-02  3.89575176e-02  6.97863765e-06]\n",
      "max corr:  847.0\n",
      "N_eff:  1.0008313990786195\n",
      "resampling...\n",
      "loop:  11810\n",
      "delta_pose:  [-2.11147775e-02  1.01585792e-02  1.47653346e-05]\n",
      "max corr:  869.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  11820\n",
      "delta_pose:  [-2.52142222e-02 -1.98558916e-02  1.53772344e-05]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0000000056388445\n",
      "resampling...\n",
      "loop:  11830\n",
      "delta_pose:  [-3.02244084e-02 -3.91636148e-02  2.07037397e-06]\n",
      "max corr:  862.0\n",
      "N_eff:  1.0000000534306794\n",
      "resampling...\n",
      "loop:  11840\n",
      "delta_pose:  [-2.41849057e-02 -1.51436710e-02 -7.69011594e-06]\n",
      "max corr:  848.0\n",
      "N_eff:  1.0000002250704183\n",
      "resampling...\n",
      "loop:  11850\n",
      "delta_pose:  [-2.23414570e-02  1.58653615e-02 -7.69746421e-06]\n",
      "max corr:  888.0\n",
      "N_eff:  1.648169117147662\n",
      "resampling...\n",
      "loop:  11860\n",
      "delta_pose:  [-2.48057062e-02  4.00120296e-02 -3.48808635e-06]\n",
      "max corr:  895.0\n",
      "N_eff:  1.0000000000000269\n",
      "resampling...\n",
      "loop:  11870\n",
      "delta_pose:  [-2.34516719e-02  2.55454672e-02  3.84733157e-06]\n",
      "max corr:  853.0\n",
      "N_eff:  1.000004520734327\n",
      "resampling...\n",
      "loop:  11880\n",
      "delta_pose:  [-2.27267159e-02 -5.98245469e-03  3.84731338e-06]\n",
      "max corr:  878.0\n",
      "N_eff:  1.0006709257383828\n",
      "resampling...\n",
      "loop:  11890\n",
      "delta_pose:  [-2.88906626e-02 -3.50393366e-02  3.05019065e-06]\n",
      "max corr:  885.0\n",
      "N_eff:  1.0000006437811277\n",
      "resampling...\n",
      "loop:  11900\n",
      "delta_pose:  [-2.76957386e-02 -2.92590932e-02 -1.92362759e-06]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0000000000039466\n",
      "resampling...\n",
      "loop:  11910\n",
      "delta_pose:  [-2.11772431e-02  1.50938651e-03 -1.84655080e-06]\n",
      "max corr:  888.0\n",
      "N_eff:  1.0993279274195054\n",
      "resampling...\n",
      "loop:  11920\n",
      "delta_pose:  [-2.46265097e-02  3.28147716e-02 -1.92342024e-06]\n",
      "max corr:  872.0\n",
      "N_eff:  1.000090804567528\n",
      "resampling...\n",
      "loop:  11930\n",
      "delta_pose:  [-2.49325321e-02  3.72422025e-02  6.66828644e-07]\n",
      "max corr:  874.0\n",
      "N_eff:  1.0009225795764194\n",
      "resampling...\n",
      "loop:  11940\n",
      "delta_pose:  [-2.19337286e-02  7.52197935e-03  9.60375061e-07]\n",
      "max corr:  896.0\n",
      "N_eff:  1.0000006118047136\n",
      "resampling...\n",
      "loop:  11950\n",
      "delta_pose:  [-2.61649604e-02 -2.37182087e-02  9.60715191e-07]\n",
      "max corr:  908.0\n",
      "N_eff:  1.0993279274194332\n",
      "resampling...\n",
      "loop:  11960\n",
      "delta_pose:  [-2.88172061e-02 -3.70012484e-02 -2.22010463e-08]\n",
      "max corr:  889.0\n",
      "N_eff:  1.000000620049258\n",
      "resampling...\n",
      "loop:  11970\n",
      "delta_pose:  [-2.37125769e-02 -1.26428334e-02 -4.80668170e-07]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0000000112070448\n",
      "resampling...\n",
      "loop:  11980\n",
      "delta_pose:  [-2.25427809e-02  1.83841056e-02 -4.80553579e-07]\n",
      "max corr:  872.0\n",
      "N_eff:  1.6942151525447653\n",
      "resampling...\n",
      "loop:  11990\n",
      "delta_pose:  [-2.60266971e-02  4.22814300e-02 -1.51628841e-07]\n",
      "max corr:  879.0\n",
      "N_eff:  1.0002468196801135\n",
      "resampling...\n",
      "loop:  12000\n",
      "delta_pose:  [-2.29215315e-02  2.15317916e-02  2.40602141e-07]\n",
      "max corr:  856.0\n",
      "N_eff:  1.2658022538227538\n",
      "resampling...\n",
      "loop:  12010\n",
      "delta_pose:  [-2.21730990e-02 -8.70622127e-03  2.30693121e-07]\n",
      "max corr:  870.0\n",
      "N_eff:  1.0000000828002764\n",
      "resampling...\n",
      "loop:  12020\n",
      "delta_pose:  [-2.93743316e-02 -3.66006439e-02  1.61728003e-07]\n",
      "max corr:  852.0\n",
      "N_eff:  1.1012424113444874\n",
      "resampling...\n",
      "loop:  12030\n",
      "delta_pose:  [-2.70056004e-02 -2.68037913e-02 -1.20194667e-07]\n",
      "max corr:  756.0\n",
      "N_eff:  1.0000051324648378\n",
      "resampling...\n",
      "loop:  12040\n",
      "delta_pose:  [-2.19715292e-02  4.61113951e-03 -1.20149991e-07]\n",
      "max corr:  882.0\n",
      "N_eff:  1.0000953207240757\n",
      "resampling...\n",
      "loop:  12050\n",
      "delta_pose:  [-2.41510365e-02  3.43349896e-02 -1.15422269e-07]\n",
      "max corr:  897.0\n",
      "N_eff:  1.013475282221374\n",
      "resampling...\n",
      "loop:  12060\n",
      "delta_pose:  [-2.72614437e-02  3.54485218e-02  5.60129614e-08]\n",
      "max corr:  893.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  12070\n",
      "delta_pose:  [-2.58841770e-02  5.25723250e-03  6.01143295e-08]\n",
      "max corr:  894.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  12080\n",
      "delta_pose:  [-3.34546408e-02 -2.60130023e-02  6.00878405e-08]\n",
      "max corr:  854.0\n",
      "N_eff:  1.2660051359601574\n",
      "resampling...\n",
      "loop:  12090\n",
      "delta_pose:  [-3.81814096e-02 -3.64234326e-02 -9.96749883e-09]\n",
      "max corr:  832.0\n",
      "N_eff:  1.104146922589078\n",
      "resampling...\n",
      "loop:  12100\n",
      "delta_pose:  [-2.86555792e-02 -8.75086607e-03 -2.88264950e-08]\n",
      "max corr:  839.0\n",
      "N_eff:  1.0007662780748308\n",
      "resampling...\n",
      "loop:  12110\n",
      "delta_pose:  [-2.89176318e-02  2.13796251e-02 -3.00486960e-08]\n",
      "max corr:  830.0\n",
      "N_eff:  1.0000249158165844\n",
      "resampling...\n",
      "loop:  12120\n",
      "delta_pose:  [-3.22339779e-02  4.25996740e-02 -5.83557735e-09]\n",
      "max corr:  853.0\n",
      "N_eff:  1.000000000003762\n",
      "resampling...\n",
      "loop:  12130\n",
      "delta_pose:  [-2.78408469e-02  1.91649779e-02  1.50298760e-08]\n",
      "max corr:  865.0\n",
      "N_eff:  1.0000000112097263\n",
      "resampling...\n",
      "loop:  12140\n",
      "delta_pose:  [-2.92140600e-02 -1.18826001e-02  1.50166031e-08]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0366916037508027\n",
      "resampling...\n",
      "loop:  12150\n",
      "delta_pose:  [-3.56742014e-02 -3.63847732e-02  7.72109843e-09]\n",
      "max corr:  832.0\n",
      "N_eff:  1.0000051324762709\n",
      "resampling...\n",
      "loop:  12160\n",
      "delta_pose:  [-3.29474215e-02 -2.39126653e-02 -7.50442197e-09]\n",
      "max corr:  668.0\n",
      "N_eff:  1.0\n",
      "resampling...\n",
      "loop:  12170\n",
      "delta_pose:  [-2.76348789e-02  7.31296625e-03 -7.50773310e-09]\n",
      "max corr:  841.0\n",
      "N_eff:  1.5524808946269673\n",
      "resampling...\n",
      "loop:  12180\n",
      "delta_pose:  [-3.15453501e-02  3.73450357e-02 -6.42975273e-09]\n",
      "max corr:  799.0\n",
      "N_eff:  1.0155613987314793\n",
      "resampling...\n",
      "loop:  12190\n",
      "delta_pose:  [-3.10559854e-02  3.35471498e-02  3.75669629e-09]\n",
      "max corr:  791.0\n",
      "N_eff:  1.0000000005856788\n",
      "resampling...\n",
      "loop:  12200\n",
      "delta_pose:  [-2.63660752e-02  2.17626281e-03  3.60559227e-09]\n",
      "max corr:  790.0\n",
      "N_eff:  1.0018270915942462\n",
      "resampling...\n",
      "loop:  12210\n",
      "delta_pose:  [-3.40812884e-02 -2.84885316e-02  3.75516329e-09]\n",
      "max corr:  786.0\n",
      "N_eff:  1.0000006961968282\n",
      "resampling...\n",
      "loop:  12220\n",
      "delta_pose:  [-3.58945379e-02 -3.49981379e-02 -1.07346665e-09]\n",
      "max corr:  797.0\n",
      "N_eff:  1.0000006118084002\n",
      "resampling...\n",
      "loop:  12230\n",
      "delta_pose:  [-2.84132608e-02 -6.09551964e-03 -1.87745286e-09]\n",
      "max corr:  795.0\n",
      "N_eff:  1.0000000869415697\n",
      "resampling...\n",
      "loop:  12240\n",
      "delta_pose:  [-2.95290576e-02  2.53967431e-02 -1.87788807e-09]\n",
      "max corr:  771.0\n",
      "N_eff:  2.2663490578803045\n",
      "resampling...\n",
      "loop:  12250\n",
      "delta_pose:  [-3.14957219e-02  4.04977859e-02 -6.47677467e-11]\n",
      "max corr:  748.0\n",
      "N_eff:  1.0000016783853605\n",
      "resampling...\n",
      "loop:  12260\n",
      "delta_pose:  [-2.80862119e-02  1.66215452e-02  9.37999900e-10]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0000334034055862\n",
      "resampling...\n",
      "loop:  12270\n",
      "delta_pose:  [-2.98815859e-02 -1.43250288e-02  9.38426226e-10]\n",
      "max corr:  862.0\n",
      "N_eff:  1.0366529973544818\n",
      "resampling...\n",
      "loop:  12280\n",
      "delta_pose:  [-0.03577695 -0.03869318 -0.00944991]\n",
      "max corr:  808.0\n",
      "N_eff:  1.0049575610297399\n",
      "resampling...\n",
      "loop:  12290\n",
      "delta_pose:  [-0.02696592 -0.01979807 -0.02364403]\n",
      "max corr:  699.0\n",
      "N_eff:  1.6480542736638855\n",
      "resampling...\n",
      "loop:  12300\n",
      "delta_pose:  [-0.01991676  0.01034506 -0.02266058]\n",
      "max corr:  831.0\n",
      "N_eff:  1.000090882672071\n",
      "resampling...\n",
      "loop:  12310\n",
      "delta_pose:  [-0.02162956  0.03987308 -0.0249149 ]\n",
      "max corr:  818.0\n",
      "N_eff:  1.0000000000027658\n",
      "resampling...\n",
      "loop:  12320\n",
      "delta_pose:  [-0.02317993  0.0332296  -0.03545592]\n",
      "max corr:  806.0\n",
      "N_eff:  1.000259120753177\n",
      "resampling...\n",
      "loop:  12330\n",
      "delta_pose:  [-0.02515416  0.00192643 -0.03545397]\n",
      "max corr:  828.0\n",
      "N_eff:  1.0052049868065105\n",
      "resampling...\n",
      "loop:  12340\n",
      "delta_pose:  [-0.03641752 -0.02765189 -0.03543919]\n",
      "max corr:  843.0\n",
      "N_eff:  1.0134876528826304\n",
      "resampling...\n",
      "loop:  12350\n",
      "delta_pose:  [-0.03005123 -0.02743986 -0.00591276]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0000007267852098\n",
      "resampling...\n",
      "loop:  12360\n",
      "delta_pose:  [-0.01879267 -0.00097331 -0.00590555]\n",
      "max corr:  830.0\n",
      "N_eff:  1.0000910297065524\n",
      "resampling...\n",
      "loop:  12370\n",
      "delta_pose:  [-0.01124555  0.02998534 -0.00590944]\n",
      "max corr:  841.0\n",
      "N_eff:  1.1072335117098648\n",
      "resampling...\n",
      "loop:  12380\n",
      "delta_pose:  [-0.00628962  0.0470434   0.00283207]\n",
      "max corr:  840.0\n",
      "N_eff:  1.0019146577290459\n",
      "resampling...\n",
      "loop:  12390\n",
      "delta_pose:  [-0.00218058  0.02217523  0.00585937]\n",
      "max corr:  808.0\n",
      "N_eff:  1.0370678931844073\n",
      "resampling...\n",
      "loop:  12400\n",
      "delta_pose:  [-0.00405845 -0.00588237  0.005625  ]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0052074101312143\n",
      "resampling...\n",
      "loop:  12410\n",
      "delta_pose:  [-0.00668677 -0.02372874  0.00301691]\n",
      "max corr:  823.0\n",
      "N_eff:  1.265839470949315\n",
      "resampling...\n",
      "loop:  12420\n",
      "delta_pose:  [-0.00316385 -0.01206104  0.        ]\n",
      "max corr:  796.0\n",
      "N_eff:  1.2198411524118684\n",
      "resampling...\n",
      "loop:  12430\n",
      "delta_pose:  [-0.00135987 -0.00553816  0.        ]\n",
      "max corr:  809.0\n",
      "N_eff:  2.01415956848838\n",
      "resampling...\n",
      "loop:  12440\n",
      "delta_pose:  [-0.00051666 -0.00227414  0.        ]\n",
      "max corr:  833.0\n",
      "N_eff:  1.0154151945696817\n",
      "resampling...\n",
      "loop:  12450\n",
      "delta_pose:  [-0.0002233  -0.00107536  0.        ]\n",
      "max corr:  856.0\n",
      "N_eff:  1.0134755088090595\n",
      "resampling...\n",
      "loop:  12460\n",
      "delta_pose:  [-8.86761179e-05 -4.78122151e-04  0.00000000e+00]\n",
      "max corr:  860.0\n",
      "N_eff:  2.0000336292026892\n",
      "resampling...\n",
      "loop:  12470\n",
      "delta_pose:  [-1.46714467e-05 -8.73066738e-05  0.00000000e+00]\n",
      "max corr:  861.0\n",
      "N_eff:  1.0018695116225926\n",
      "resampling...\n",
      "loop:  12480\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  836.0\n",
      "N_eff:  1.6548885758128897\n",
      "resampling...\n",
      "loop:  12490\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  820.0\n",
      "N_eff:  1.4205507764220535\n",
      "resampling...\n",
      "loop:  12500\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  833.0\n",
      "N_eff:  1.8942523906817437\n",
      "resampling...\n",
      "loop:  12510\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  853.0\n",
      "N_eff:  1.0000000305494523\n",
      "resampling...\n",
      "loop:  12520\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  828.0\n",
      "N_eff:  1.0006735519751422\n",
      "resampling...\n",
      "loop:  12530\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  837.0\n",
      "N_eff:  1.0000000017219561\n",
      "resampling...\n",
      "loop:  12540\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  804.0\n",
      "N_eff:  3.02303779837614\n",
      "resampling...\n",
      "loop:  12550\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  806.0\n",
      "N_eff:  1.0056970529578588\n",
      "resampling...\n",
      "loop:  12560\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  802.0\n",
      "N_eff:  1.0000000000000093\n",
      "resampling...\n",
      "loop:  12570\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  807.0\n",
      "N_eff:  1.000251577130444\n",
      "resampling...\n",
      "loop:  12580\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  786.0\n",
      "N_eff:  1.2658036919147029\n",
      "resampling...\n",
      "loop:  12590\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  786.0\n",
      "N_eff:  1.0049911261818467\n",
      "resampling...\n",
      "loop:  12600\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  777.0\n",
      "N_eff:  1.2678353535561755\n",
      "resampling...\n",
      "loop:  12610\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  757.0\n",
      "N_eff:  1.105223453173125\n",
      "resampling...\n",
      "loop:  12620\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  786.0\n",
      "N_eff:  1.0024956116921138\n",
      "resampling...\n",
      "loop:  12630\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  809.0\n",
      "N_eff:  1.3633964725697603\n",
      "resampling...\n",
      "loop:  12640\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  829.0\n",
      "N_eff:  1.7670095252408693\n",
      "resampling...\n",
      "loop:  12650\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  815.0\n",
      "N_eff:  1.0000000530764857\n",
      "resampling...\n",
      "loop:  12660\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  810.0\n",
      "N_eff:  1.0013423231379426\n",
      "resampling...\n",
      "loop:  12670\n",
      "delta_pose:  [0 0 0]\n",
      "max corr:  809.0\n",
      "N_eff:  1.0000213300411882\n",
      "resampling...\n"
     ]
    }
   ],
   "source": [
    "# ======= Main loop ========\n",
    "# initialize map - NOTE: map size may need to be adjusted depending on dataset\n",
    "MAP = {}\n",
    "MAP['res']   = 0.05 #meters   map0 - 0.05,  map1 - 0.01\n",
    "MAP['xmin']  = -30  #meters\n",
    "MAP['ymin']  = -30\n",
    "MAP['xmax']  =  30\n",
    "MAP['ymax']  =  30\n",
    "MAP['sizex']  = int(np.ceil((MAP['xmax'] - MAP['xmin']) / MAP['res'] + 1)) #cells\n",
    "MAP['sizey']  = int(np.ceil((MAP['ymax'] - MAP['ymin']) / MAP['res'] + 1))\n",
    "MAP['map'] = np.zeros((MAP['sizex'],MAP['sizey']),dtype=np.int8) #DATA TYPE: char or int8\n",
    "\n",
    "#confidence limits\n",
    "lam_max = 100\n",
    "lam_min = -100\n",
    "\n",
    "# use first lidar scan to do initial map update\n",
    "scan = lidar[0]['scan'][0]\n",
    "scan_time = lidar[0]['t']\n",
    "\n",
    "idx = (np.abs(joint_angles['ts'][0] - scan_time)).argmin()\n",
    "neck_angle = joint_angles['head_angles'][0,idx]\n",
    "head_angle = joint_angles['head_angles'][1,idx]\n",
    "\n",
    "body_coords = lidar_to_body(scan, neck_angle, head_angle)\n",
    "world_coords = body_to_world(body_coords, np.array([0,0,0]))\n",
    "\n",
    "MAP['map'] = update_map(MAP, world_coords, np.array([0,0,0]),lam_max, lam_min)\n",
    "\n",
    "# initialize particles and weights\n",
    "num_particles = 150\n",
    "particles = np.zeros((num_particles, 3))\n",
    "weights = np.ones((num_particles, 1)) * (1 / num_particles)\n",
    "N_thresh = num_particles * 0.2\n",
    "\n",
    "# Motion Model Noise\n",
    "cov = np.eye(3) * 0.001   # map0 - 0.0001,  map1 - 0.001\n",
    "cov[2,2] = 0.001\n",
    "mu = np.array([0,0,0])\n",
    "\n",
    "robot_pos = []\n",
    "delta_pose = np.array([0, 0, 0])\n",
    "\n",
    "fig = plt.figure()\n",
    "vid_frames = []\n",
    "\n",
    "count = 0\n",
    "# Go through each lidar scan\n",
    "for i in range(1,len(lidar)):\n",
    "    delta_pose = delta_pose + lidar[i]['delta_pose'][0]\n",
    "    \n",
    "    # for downsampling with various step sizes\n",
    "    if i % 10 == 0:\n",
    "        count += 1\n",
    "        print('loop: ', i)\n",
    "        print('delta_pose: ', delta_pose)\n",
    "\n",
    "        scan_time = lidar[i]['t']\n",
    "        scan = lidar[i]['scan'][0]\n",
    "\n",
    "        # Find closest joint_angle\n",
    "        idx = (np.abs(joint_angles['ts'][0] - scan_time)).argmin()\n",
    "        neck_angle = joint_angles['head_angles'][0,idx]\n",
    "        head_angle = joint_angles['head_angles'][1,idx]\n",
    "\n",
    "        # convert scan to body frame\n",
    "        body_coords = lidar_to_body(scan, neck_angle, head_angle)\n",
    "\n",
    "        # Prediction step - get new particles\n",
    "        particles = prediction_step(particles, delta_pose, mu, cov)\n",
    "\n",
    "        # Update step - update particle weights\n",
    "        if count % 1 == 0:\n",
    "            particles, weights = update_step(MAP, particles, weights, body_coords)\n",
    "\n",
    "        # Use scan to update map based on best particle\n",
    "        best_particle_ind = np.argmax(weights)\n",
    "        best_particle = particles[best_particle_ind, :]\n",
    "        robot_pos.append(best_particle)\n",
    "        best_world_coords = body_to_world(body_coords, best_particle)\n",
    "\n",
    "        MAP['map'] = update_map(MAP, best_world_coords, best_particle, lam_max, lam_min)\n",
    "\n",
    "        # check if resampling is necessary\n",
    "        N_eff = 1 / np.sum(weights**2)\n",
    "        print('N_eff: ', N_eff)\n",
    "        if N_eff <= N_thresh:\n",
    "            # resample\n",
    "            print('resampling...')\n",
    "            particles, weights = resampling(particles, weights)\n",
    "     \n",
    "        delta_pose = np.array([0, 0, 0])\n",
    "        \n",
    "        # save time lapse video\n",
    "        if i % 100 == 0 or i == len(lidar) - 1:\n",
    "            cmap = colors.ListedColormap(['white', 'grey', 'blue', 'red'])\n",
    "            bounds = [-1,-.1, .1,1.1, 2]\n",
    "            norm = colors.BoundaryNorm(bounds, cmap.N)\n",
    "            \n",
    "            binary_map = np.copy(MAP['map'])\n",
    "            binary_map[binary_map > 0] = 1\n",
    "            binary_map[binary_map < 0] = -1\n",
    "            \n",
    "            robot_position = np.asarray(robot_pos)\n",
    "            robot_position[:, 0] = robot_position[:, 0] // MAP['res']\n",
    "            robot_position[:, 1] = robot_position[:, 1] // MAP['res']\n",
    "            \n",
    "            binary_map[(-int(MAP['xmin'] / MAP['res']) + robot_position[:, 0].astype(int)),\\\n",
    "                   (-int(MAP['ymin'] / MAP['res']) + robot_position[:, 1].astype(int))] = 2\n",
    "            \n",
    "            vid_frames.append([plt.imshow(binary_map, cmap=cmap, norm=norm, animated=True)])\n",
    "\n",
    "# save video\n",
    "Writer = animation.writers['ffmpeg']\n",
    "writer = Writer(fps=15, metadata=dict(artist='Me'), bitrate=1800)\n",
    "ani = animation.ArtistAnimation(fig, vid_frames, interval=100, blit=True, repeat_delay=1000)\n",
    "ani.save('./lidar2_vid_6.mp4')\n",
    "plt.close()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 154,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[0 0 0 ... 0 0 0]\n",
      " [0 0 0 ... 0 0 0]\n",
      " [0 0 0 ... 0 0 0]\n",
      " ...\n",
      " [0 0 0 ... 0 0 0]\n",
      " [0 0 0 ... 0 0 0]\n",
      " [0 0 0 ... 0 0 0]]\n"
     ]
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAQoAAAD8CAYAAACPd+p5AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMS4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvNQv5yAAAEPdJREFUeJzt3W+MXNV9xvHvU/8NfxebPzJeqwaxauFFY6wVGFGhFCcBnCj2C5BAUbGQq5VaJyKiUmJaqVXehb4IBCkitWLaRSIB6oTastw4xhhVfYHBDsaYOMQLpXi1Li4FnLSoBCe/vrhnYLwe7xmv7507M/t8pNXce+6Zmd/s7H323DtnZhQRmJlN5ffqLsDMup+DwsyyHBRmluWgMLMsB4WZZTkozCyrkqCQdKuk1ySNSdpQxX2YWeeo7HkUkmYBvwQ+B4wDLwJ3RcTPS70jM+uYKkYU1wFjEfFGRPwGeAJYXcH9mFmHzK7gNhcDR5rWx4Hrp7rCXM2L+ZxbQSlm1vBr3nsnIi6ZznWrCAq1aDvl+EbSCDACMJ9zuF4rKyjFzBqeic3/Md3rVnHoMQ4saVofBCYmd4qIjRExHBHDc5hXQRlmVpYqguJFYEjSFZLmAncCWyu4HzPrkNIPPSLihKSvADuAWcCjEfFq2fdjZp1TxTkKImI7sL2K2zazzvPMTDPLclCYWZaDwsyyHBRmluWgMLMsB4WZZTkozCzLQWFmWQ4KM8tyUJhZloPCzLIcFGaW5aAwsywHhZllOSjMLMtBYWZZDgozy3JQmFmWg8LMshwUZpbloDCzLAeFmWU5KMwsy0FhZlkOCjPLclCYWZaDwsyyskEh6VFJxyQdbGpbIGmnpMPp8qLULkkPSxqTdEDS8iqLN7POaGdE8Y/ArZPaNgC7ImII2JXWAW4DhtLPCPBIOWWaWZ2yQRER/wq8O6l5NTCalkeBNU3tj0XheWBA0qKyijWzekz3HMVlEXEUIF1emtoXA0ea+o2nNjPrYbNLvj21aIuWHaURisMT5nNOyWWYWZmmO6J4u3FIkS6PpfZxYElTv0FgotUNRMTGiBiOiOE5zJtmGWbWCdMNiq3A2rS8FtjS1H53evVjBXC8cYhiZr0re+gh6YfAZ4CLJY0Dfwt8C3hK0jrgLeCO1H07sAoYAz4A7qmgZjPrsGxQRMRdp9m0skXfANafbVFm1l08M9PMshwUZpbloDCzLAeFmWU5KMwsy0FhZlkOCjPLclCYWZaDwsyyHBRmluWgMLMsB4WZZTkozCzLQWFmWQ4KM8tyUJhZloPCzLIcFGaW5aAwsywHhZllOSjMLMtBYWZZDgozy3JQmFmWg8LMshwUZpbloDCzLAeFmWVlg0LSEkm7JR2S9Kqke1P7Akk7JR1Olxeldkl6WNKYpAOSllf9IMysWu2MKE4AfxkRVwMrgPWSrgE2ALsiYgjYldYBbgOG0s8I8EjpVZtZR2WDIiKORsTP0vKvgUPAYmA1MJq6jQJr0vJq4LEoPA8MSFpUeuVm1jFndI5C0lLgWmAPcFlEHIUiTIBLU7fFwJGmq42ntsm3NSJpr6S9H/HhmVduZh3TdlBIOg/4EfC1iPjVVF1btMUpDREbI2I4IobnMK/dMsysBm0FhaQ5FCHxeET8ODW/3TikSJfHUvs4sKTp6oPARDnlmlkdZuc6SBKwCTgUEd9u2rQVWAt8K11uaWr/iqQngOuB441DFLMq7ZjYf9L6LZcvq6mS/pMNCuBG4E+BVyQ1nom/ogiIpyStA94C7kjbtgOrgDHgA+CeUis2Ow0HQ3WyQRER/0br8w4AK1v0D2D9WdZlVormUYaDZPraGVGY9ZQdE/s/DgWHQzk8hdv6jsOhfA4KM8tyUJhZloPCusqOif0fn4BsXrZ6+WSmdZXm8ws+19A9PKKwrjPVKMIjjHp4RGFdZ6qRxORtnifRGQ6KHtfYUWbqTjJTH3enOSh6WPPEIrMq+RyFmWU5KKzv+IRn+RwUPcyHHdYpDooe5f+arfn3Ug0HRY+aSaOJM935Z9LvplMcFNb1vOPXz0HRBzzc/oRDpRoOCjPL8oSrHuQPkbVOc1D0KIeDdZIPPXqQQ8I6zUFhJ/GJUWvFQdEHyty5G6MVB4Y1c1D0gVsuX1b6ju3DG2vmoOgT3rGtSg4KM8tyUMwgPu9g05UNCknzJb0g6WVJr0r6Zmq/QtIeSYclPSlpbmqfl9bH0val1T4Ea1fz4cmZhMbkvrl16z/tjCg+BG6OiE8Dy4BbJa0AHgAejIgh4D1gXeq/DngvIq4CHkz9rMuc7pxG7hOwT7fd38HR37JBEYX/Satz0k8ANwObU/sosCYtr07rpO0rJZ3u29Cti5zuMzinOlHqcJgZ2prCLWkWsA+4Cvgu8DrwfkScSF3GgcVpeTFwBCAiTkg6DiwE3pl0myPACMB8zjm7R2GlmGqUccvly/zKygzW1snMiPhtRCwDBoHrgKtbdUuXrUYPcUpDxMaIGI6I4TnMa7deq4EDws7oVY+IeB94DlgBDEhqjEgGgYm0PA4sAUjbLwTeLaNYM6tHO696XCJpIC1/CvgscAjYDdyeuq0FtqTlrWmdtP3ZiDhlRGH9wd8VOjO0M6JYBOyWdAB4EdgZEduAbwD3SRqjOAexKfXfBCxM7fcBG8ov27qFv4RoZlA3/LO/QAvieq2suww7CzP9qw17wTOxeV9EDE/nuv7gGiuFA6K/eQp3F/BcBOt2Dgozy3JQ1MwnA60XOCjMLMtBUTOPJqwXOChq5JOY1iscFGaW5aCokQ87rFc4KGriww7rJQ6KmtQ9mnBQ2ZlwUMxQzV/049CwHL/XowbdNMmq1TeDdUtt1j0cFB3WTSHR7HSf0N2NtVrnOSjsFK1Cw4Exs/kcRYe12uG6+RxB40N1fS5jZnNQ1KDMHa5TO2/zp3A7NGYef8JVTco8V1HnOQUfmvSOs/mEKwdFH6n7JKRDo7s5KOwkDgxrxZ+ZaSeZ/KpFp3fYuu/fyueTmX2u7p10ut+gbt3FQdEB3kEKftWkd/nQwzpu8rTxukc9luegqJiP0U/PM0B7h4OiYv7Db8/k35ODo7v4HEXFfCw+Pc0zQa1+bQeFpFmSXpK0La1fIWmPpMOSnpQ0N7XPS+tjafvSakrvDY33SZj1sjMZUdwLHGpafwB4MCKGgPeAdal9HfBeRFwFPJj6zWj+z2i9rq2gkDQIfAH4floXcDOwOXUZBdak5dVpnbR9ZepvZj2q3RHFQ8DXgd+l9YXA+xFxIq2PA4vT8mLgCEDafjz1P4mkEUl7Je39iA+nWX538qGG9ZtsUEj6InAsIvY1N7foGm1s+6QhYmNEDEfE8BzmtVVsr/B5Ces37bw8eiPwJUmrgPnABRQjjAFJs9OoYRCYSP3HgSXAuKTZwIXAu6VX3sU8d8L6TXZEERH3R8RgRCwF7gSejYgvA7uB21O3tcCWtLw1rZO2Pxvd8BbVDnJIWL85m3kU3wDukzRGcQ5iU2rfBCxM7fcBG86uRDOr2xnNzIyI54Dn0vIbwHUt+vwfcEcJtZlZl/DMzJL5JKb1IwdFyfyKh/UjB0XGdHZ6h4X1GwdFxnR3er/yYf3EQdEG7/Q20zkozCzLQWFmWQ4KM8tyUJhZloPCzLIcFGaW5aAwsywHhZllOSjMLMtBYWZZDgozy3JQmFmWg8LMshwUZpbloDCzLAeFmWU5KMwsy0FhZlkOCjPLclCYWZaDwsyyHBRmltVWUEh6U9IrkvZL2pvaFkjaKelwurwotUvSw5LGJB2QtLzKB2Bm1TuTEcWfRMSyiBhO6xuAXRExBOzik28tvw0YSj8jwCNlFWtm9TibQ4/VwGhaHgXWNLU/FoXngQFJi87ifsysZu0GRQA/lbRP0khquywijgKky0tT+2LgSNN1x1PbSSSNSNorae9HfDi96s2sI2a32e/GiJiQdCmwU9IvpuirFm1xSkPERmAjwAVacMp2M+sebY0oImIiXR4DngauA95uHFKky2Op+ziwpOnqg8BEWQWbWedlg0LSuZLObywDnwcOAluBtanbWmBLWt4K3J1e/VgBHG8cophZb2rn0OMy4GlJjf4/iIifSHoReErSOuAt4I7UfzuwChgDPgDuKb1qM+uobFBExBvAp1u0/zewskV7AOtLqc7MuoJnZppZloPCzLIcFGaW5aAwsywHhZllOSjMLMtBYWZZDgozy3JQmFmWg8LMshwUZpbloDCzLAeFmWU5KMwsy0FhZlkOCjPLclCYWZaDwsyyHBRmluWgMLMsB4WZZTkozCzLQWFmWQ4KM8tyUJhZloPCzLIcFGaW1VZQSBqQtFnSLyQdknSDpAWSdko6nC4vSn0l6WFJY5IOSFpe7UMws6q1O6L4DvCTiPhDii8sPgRsAHZFxBCwK60D3AYMpZ8R4JFSKzazjssGhaQLgJuATQAR8ZuIeB9YDYymbqPAmrS8GngsCs8DA5IWlV65mXVMOyOKK4H/Av5B0kuSvi/pXOCyiDgKkC4vTf0XA0earj+e2sysR81us89y4KsRsUfSd/jkMKMVtWiLUzpJIxSHJgAfPhObD7ZRS6dcDLxTdxGTdFtNrmdq3VjP70/3yu0ExTgwHhF70vpmiqB4W9KiiDiaDi2ONfVf0nT9QWBi8o1GxEZgI4CkvRExPM3HULpuqwe6rybXM7UurWfpdK+fPfSIiP8Ejkj6g9S0Evg5sBVYm9rWAlvS8lbg7vTqxwrgeOMQxcx6UzsjCoCvAo9Lmgu8AdxDETJPSVoHvAXckfpuB1YBY8AHqa+Z9bC2giIi9gOthlErW/QNYP0Z1rHxDPtXrdvqge6ryfVMra/qUbFfm5mdnqdwm1lW7UEh6VZJr6Up31O97FrmfT4q6Zikg01ttU1Jl7RE0u40Pf5VSffWWZOk+ZJekPRyquebqf0KSXtSPU+mc1ZImpfWx9L2pWXW01TXrDSXZ1uX1POmpFck7Ze0N7XV+XdU3VstIqK2H2AW8DrFpK65wMvANR2435so5oYcbGr7O2BDWt4APJCWVwH/QjE/ZAWwp4J6FgHL0/L5wC+Ba+qqKd3ueWl5DrAn3c9TwJ2p/XvAn6flvwC+l5bvBJ6s6Hm7D/gBsC2t113Pm8DFk9rq/DsaBf4sLc8FBsqqp9Idso0HdgOwo2n9fuD+Dt330klB8RqwKC0vAl5Ly38P3NWqX4W1bQE+1w01AecAPwOup5hANHvycwfsAG5Iy7NTP5VcxyDFe4puBralP/Da6km33SooannOgAuAf5/8OMuqp+5Dj26a7t0VU9LTMPlaiv/itdWUhvn7KSbS7aQY+b0fESda3OfH9aTtx4GFZdYDPAR8HfhdWl9Ycz1QzDj+qaR9aaYx1PecVfpWi7qDoq3p3jXrWI2SzgN+BHwtIn5VZ00R8duIWEbxn/w64Oop7rPSeiR9ETgWEfuam+uqp8mNEbGc4h3T6yXdNEXfqmtqvNXikYi4FvhfSnirRUPdQdHWdO8OeVvpXa6axpT0syVpDkVIPB4RP+6GmgCieKfwcxTHsQOSGnNvmu/z43rS9guBd0ss40bgS5LeBJ6gOPx4qMZ6AIiIiXR5DHiaIlDres5avdVieVn11B0ULwJD6ez1XIoTT1trqqW2KemSRPE2/kMR8e26a5J0iaSBtPwp4LMUn0GyG7j9NPU06rwdeDbSgW8ZIuL+iBiM4r0Kd6bb/3Jd9QBIOlfS+Y1l4PPAQWp6zqLqt1qUfYJnGidhVlGc5X8d+OsO3ecPgaPARxTJuo7iGHYXcDhdLkh9BXw31fcKMFxBPX9MMew7AOxPP6vqqgn4I+ClVM9B4G9S+5XACxTT8/8JmJfa56f1sbT9ygqfu8/wyasetdWT7vvl9PNq42+35r+jZcDe9Lz9M3BRWfV4ZqaZZdV96GFmPcBBYWZZDgozy3JQmFmWg8LMshwUZpbloDCzLAeFmWX9P6lOJkpJJfV9AAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x120d22da0>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "%matplotlib inline\n",
    "binary_map[binary_map > 0] = 1\n",
    "binary_map[binary_map < 0] = 0\n",
    "print(binary_map)\n",
    "plt.imshow(binary_map)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/javascript": [
       "/* Put everything inside the global mpl namespace */\n",
       "window.mpl = {};\n",
       "\n",
       "\n",
       "mpl.get_websocket_type = function() {\n",
       "    if (typeof(WebSocket) !== 'undefined') {\n",
       "        return WebSocket;\n",
       "    } else if (typeof(MozWebSocket) !== 'undefined') {\n",
       "        return MozWebSocket;\n",
       "    } else {\n",
       "        alert('Your browser does not have WebSocket support.' +\n",
       "              'Please try Chrome, Safari or Firefox ≥ 6. ' +\n",
       "              'Firefox 4 and 5 are also supported but you ' +\n",
       "              'have to enable WebSockets in about:config.');\n",
       "    };\n",
       "}\n",
       "\n",
       "mpl.figure = function(figure_id, websocket, ondownload, parent_element) {\n",
       "    this.id = figure_id;\n",
       "\n",
       "    this.ws = websocket;\n",
       "\n",
       "    this.supports_binary = (this.ws.binaryType != undefined);\n",
       "\n",
       "    if (!this.supports_binary) {\n",
       "        var warnings = document.getElementById(\"mpl-warnings\");\n",
       "        if (warnings) {\n",
       "            warnings.style.display = 'block';\n",
       "            warnings.textContent = (\n",
       "                \"This browser does not support binary websocket messages. \" +\n",
       "                    \"Performance may be slow.\");\n",
       "        }\n",
       "    }\n",
       "\n",
       "    this.imageObj = new Image();\n",
       "\n",
       "    this.context = undefined;\n",
       "    this.message = undefined;\n",
       "    this.canvas = undefined;\n",
       "    this.rubberband_canvas = undefined;\n",
       "    this.rubberband_context = undefined;\n",
       "    this.format_dropdown = undefined;\n",
       "\n",
       "    this.image_mode = 'full';\n",
       "\n",
       "    this.root = $('<div/>');\n",
       "    this._root_extra_style(this.root)\n",
       "    this.root.attr('style', 'display: inline-block');\n",
       "\n",
       "    $(parent_element).append(this.root);\n",
       "\n",
       "    this._init_header(this);\n",
       "    this._init_canvas(this);\n",
       "    this._init_toolbar(this);\n",
       "\n",
       "    var fig = this;\n",
       "\n",
       "    this.waiting = false;\n",
       "\n",
       "    this.ws.onopen =  function () {\n",
       "            fig.send_message(\"supports_binary\", {value: fig.supports_binary});\n",
       "            fig.send_message(\"send_image_mode\", {});\n",
       "            if (mpl.ratio != 1) {\n",
       "                fig.send_message(\"set_dpi_ratio\", {'dpi_ratio': mpl.ratio});\n",
       "            }\n",
       "            fig.send_message(\"refresh\", {});\n",
       "        }\n",
       "\n",
       "    this.imageObj.onload = function() {\n",
       "            if (fig.image_mode == 'full') {\n",
       "                // Full images could contain transparency (where diff images\n",
       "                // almost always do), so we need to clear the canvas so that\n",
       "                // there is no ghosting.\n",
       "                fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);\n",
       "            }\n",
       "            fig.context.drawImage(fig.imageObj, 0, 0);\n",
       "        };\n",
       "\n",
       "    this.imageObj.onunload = function() {\n",
       "        fig.ws.close();\n",
       "    }\n",
       "\n",
       "    this.ws.onmessage = this._make_on_message_function(this);\n",
       "\n",
       "    this.ondownload = ondownload;\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._init_header = function() {\n",
       "    var titlebar = $(\n",
       "        '<div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ' +\n",
       "        'ui-helper-clearfix\"/>');\n",
       "    var titletext = $(\n",
       "        '<div class=\"ui-dialog-title\" style=\"width: 100%; ' +\n",
       "        'text-align: center; padding: 3px;\"/>');\n",
       "    titlebar.append(titletext)\n",
       "    this.root.append(titlebar);\n",
       "    this.header = titletext[0];\n",
       "}\n",
       "\n",
       "\n",
       "\n",
       "mpl.figure.prototype._canvas_extra_style = function(canvas_div) {\n",
       "\n",
       "}\n",
       "\n",
       "\n",
       "mpl.figure.prototype._root_extra_style = function(canvas_div) {\n",
       "\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._init_canvas = function() {\n",
       "    var fig = this;\n",
       "\n",
       "    var canvas_div = $('<div/>');\n",
       "\n",
       "    canvas_div.attr('style', 'position: relative; clear: both; outline: 0');\n",
       "\n",
       "    function canvas_keyboard_event(event) {\n",
       "        return fig.key_event(event, event['data']);\n",
       "    }\n",
       "\n",
       "    canvas_div.keydown('key_press', canvas_keyboard_event);\n",
       "    canvas_div.keyup('key_release', canvas_keyboard_event);\n",
       "    this.canvas_div = canvas_div\n",
       "    this._canvas_extra_style(canvas_div)\n",
       "    this.root.append(canvas_div);\n",
       "\n",
       "    var canvas = $('<canvas/>');\n",
       "    canvas.addClass('mpl-canvas');\n",
       "    canvas.attr('style', \"left: 0; top: 0; z-index: 0; outline: 0\")\n",
       "\n",
       "    this.canvas = canvas[0];\n",
       "    this.context = canvas[0].getContext(\"2d\");\n",
       "\n",
       "    var backingStore = this.context.backingStorePixelRatio ||\n",
       "\tthis.context.webkitBackingStorePixelRatio ||\n",
       "\tthis.context.mozBackingStorePixelRatio ||\n",
       "\tthis.context.msBackingStorePixelRatio ||\n",
       "\tthis.context.oBackingStorePixelRatio ||\n",
       "\tthis.context.backingStorePixelRatio || 1;\n",
       "\n",
       "    mpl.ratio = (window.devicePixelRatio || 1) / backingStore;\n",
       "\n",
       "    var rubberband = $('<canvas/>');\n",
       "    rubberband.attr('style', \"position: absolute; left: 0; top: 0; z-index: 1;\")\n",
       "\n",
       "    var pass_mouse_events = true;\n",
       "\n",
       "    canvas_div.resizable({\n",
       "        start: function(event, ui) {\n",
       "            pass_mouse_events = false;\n",
       "        },\n",
       "        resize: function(event, ui) {\n",
       "            fig.request_resize(ui.size.width, ui.size.height);\n",
       "        },\n",
       "        stop: function(event, ui) {\n",
       "            pass_mouse_events = true;\n",
       "            fig.request_resize(ui.size.width, ui.size.height);\n",
       "        },\n",
       "    });\n",
       "\n",
       "    function mouse_event_fn(event) {\n",
       "        if (pass_mouse_events)\n",
       "            return fig.mouse_event(event, event['data']);\n",
       "    }\n",
       "\n",
       "    rubberband.mousedown('button_press', mouse_event_fn);\n",
       "    rubberband.mouseup('button_release', mouse_event_fn);\n",
       "    // Throttle sequential mouse events to 1 every 20ms.\n",
       "    rubberband.mousemove('motion_notify', mouse_event_fn);\n",
       "\n",
       "    rubberband.mouseenter('figure_enter', mouse_event_fn);\n",
       "    rubberband.mouseleave('figure_leave', mouse_event_fn);\n",
       "\n",
       "    canvas_div.on(\"wheel\", function (event) {\n",
       "        event = event.originalEvent;\n",
       "        event['data'] = 'scroll'\n",
       "        if (event.deltaY < 0) {\n",
       "            event.step = 1;\n",
       "        } else {\n",
       "            event.step = -1;\n",
       "        }\n",
       "        mouse_event_fn(event);\n",
       "    });\n",
       "\n",
       "    canvas_div.append(canvas);\n",
       "    canvas_div.append(rubberband);\n",
       "\n",
       "    this.rubberband = rubberband;\n",
       "    this.rubberband_canvas = rubberband[0];\n",
       "    this.rubberband_context = rubberband[0].getContext(\"2d\");\n",
       "    this.rubberband_context.strokeStyle = \"#000000\";\n",
       "\n",
       "    this._resize_canvas = function(width, height) {\n",
       "        // Keep the size of the canvas, canvas container, and rubber band\n",
       "        // canvas in synch.\n",
       "        canvas_div.css('width', width)\n",
       "        canvas_div.css('height', height)\n",
       "\n",
       "        canvas.attr('width', width * mpl.ratio);\n",
       "        canvas.attr('height', height * mpl.ratio);\n",
       "        canvas.attr('style', 'width: ' + width + 'px; height: ' + height + 'px;');\n",
       "\n",
       "        rubberband.attr('width', width);\n",
       "        rubberband.attr('height', height);\n",
       "    }\n",
       "\n",
       "    // Set the figure to an initial 600x600px, this will subsequently be updated\n",
       "    // upon first draw.\n",
       "    this._resize_canvas(600, 600);\n",
       "\n",
       "    // Disable right mouse context menu.\n",
       "    $(this.rubberband_canvas).bind(\"contextmenu\",function(e){\n",
       "        return false;\n",
       "    });\n",
       "\n",
       "    function set_focus () {\n",
       "        canvas.focus();\n",
       "        canvas_div.focus();\n",
       "    }\n",
       "\n",
       "    window.setTimeout(set_focus, 100);\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._init_toolbar = function() {\n",
       "    var fig = this;\n",
       "\n",
       "    var nav_element = $('<div/>')\n",
       "    nav_element.attr('style', 'width: 100%');\n",
       "    this.root.append(nav_element);\n",
       "\n",
       "    // Define a callback function for later on.\n",
       "    function toolbar_event(event) {\n",
       "        return fig.toolbar_button_onclick(event['data']);\n",
       "    }\n",
       "    function toolbar_mouse_event(event) {\n",
       "        return fig.toolbar_button_onmouseover(event['data']);\n",
       "    }\n",
       "\n",
       "    for(var toolbar_ind in mpl.toolbar_items) {\n",
       "        var name = mpl.toolbar_items[toolbar_ind][0];\n",
       "        var tooltip = mpl.toolbar_items[toolbar_ind][1];\n",
       "        var image = mpl.toolbar_items[toolbar_ind][2];\n",
       "        var method_name = mpl.toolbar_items[toolbar_ind][3];\n",
       "\n",
       "        if (!name) {\n",
       "            // put a spacer in here.\n",
       "            continue;\n",
       "        }\n",
       "        var button = $('<button/>');\n",
       "        button.addClass('ui-button ui-widget ui-state-default ui-corner-all ' +\n",
       "                        'ui-button-icon-only');\n",
       "        button.attr('role', 'button');\n",
       "        button.attr('aria-disabled', 'false');\n",
       "        button.click(method_name, toolbar_event);\n",
       "        button.mouseover(tooltip, toolbar_mouse_event);\n",
       "\n",
       "        var icon_img = $('<span/>');\n",
       "        icon_img.addClass('ui-button-icon-primary ui-icon');\n",
       "        icon_img.addClass(image);\n",
       "        icon_img.addClass('ui-corner-all');\n",
       "\n",
       "        var tooltip_span = $('<span/>');\n",
       "        tooltip_span.addClass('ui-button-text');\n",
       "        tooltip_span.html(tooltip);\n",
       "\n",
       "        button.append(icon_img);\n",
       "        button.append(tooltip_span);\n",
       "\n",
       "        nav_element.append(button);\n",
       "    }\n",
       "\n",
       "    var fmt_picker_span = $('<span/>');\n",
       "\n",
       "    var fmt_picker = $('<select/>');\n",
       "    fmt_picker.addClass('mpl-toolbar-option ui-widget ui-widget-content');\n",
       "    fmt_picker_span.append(fmt_picker);\n",
       "    nav_element.append(fmt_picker_span);\n",
       "    this.format_dropdown = fmt_picker[0];\n",
       "\n",
       "    for (var ind in mpl.extensions) {\n",
       "        var fmt = mpl.extensions[ind];\n",
       "        var option = $(\n",
       "            '<option/>', {selected: fmt === mpl.default_extension}).html(fmt);\n",
       "        fmt_picker.append(option)\n",
       "    }\n",
       "\n",
       "    // Add hover states to the ui-buttons\n",
       "    $( \".ui-button\" ).hover(\n",
       "        function() { $(this).addClass(\"ui-state-hover\");},\n",
       "        function() { $(this).removeClass(\"ui-state-hover\");}\n",
       "    );\n",
       "\n",
       "    var status_bar = $('<span class=\"mpl-message\"/>');\n",
       "    nav_element.append(status_bar);\n",
       "    this.message = status_bar[0];\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.request_resize = function(x_pixels, y_pixels) {\n",
       "    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,\n",
       "    // which will in turn request a refresh of the image.\n",
       "    this.send_message('resize', {'width': x_pixels, 'height': y_pixels});\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.send_message = function(type, properties) {\n",
       "    properties['type'] = type;\n",
       "    properties['figure_id'] = this.id;\n",
       "    this.ws.send(JSON.stringify(properties));\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.send_draw_message = function() {\n",
       "    if (!this.waiting) {\n",
       "        this.waiting = true;\n",
       "        this.ws.send(JSON.stringify({type: \"draw\", figure_id: this.id}));\n",
       "    }\n",
       "}\n",
       "\n",
       "\n",
       "mpl.figure.prototype.handle_save = function(fig, msg) {\n",
       "    var format_dropdown = fig.format_dropdown;\n",
       "    var format = format_dropdown.options[format_dropdown.selectedIndex].value;\n",
       "    fig.ondownload(fig, format);\n",
       "}\n",
       "\n",
       "\n",
       "mpl.figure.prototype.handle_resize = function(fig, msg) {\n",
       "    var size = msg['size'];\n",
       "    if (size[0] != fig.canvas.width || size[1] != fig.canvas.height) {\n",
       "        fig._resize_canvas(size[0], size[1]);\n",
       "        fig.send_message(\"refresh\", {});\n",
       "    };\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_rubberband = function(fig, msg) {\n",
       "    var x0 = msg['x0'] / mpl.ratio;\n",
       "    var y0 = (fig.canvas.height - msg['y0']) / mpl.ratio;\n",
       "    var x1 = msg['x1'] / mpl.ratio;\n",
       "    var y1 = (fig.canvas.height - msg['y1']) / mpl.ratio;\n",
       "    x0 = Math.floor(x0) + 0.5;\n",
       "    y0 = Math.floor(y0) + 0.5;\n",
       "    x1 = Math.floor(x1) + 0.5;\n",
       "    y1 = Math.floor(y1) + 0.5;\n",
       "    var min_x = Math.min(x0, x1);\n",
       "    var min_y = Math.min(y0, y1);\n",
       "    var width = Math.abs(x1 - x0);\n",
       "    var height = Math.abs(y1 - y0);\n",
       "\n",
       "    fig.rubberband_context.clearRect(\n",
       "        0, 0, fig.canvas.width, fig.canvas.height);\n",
       "\n",
       "    fig.rubberband_context.strokeRect(min_x, min_y, width, height);\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_figure_label = function(fig, msg) {\n",
       "    // Updates the figure title.\n",
       "    fig.header.textContent = msg['label'];\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_cursor = function(fig, msg) {\n",
       "    var cursor = msg['cursor'];\n",
       "    switch(cursor)\n",
       "    {\n",
       "    case 0:\n",
       "        cursor = 'pointer';\n",
       "        break;\n",
       "    case 1:\n",
       "        cursor = 'default';\n",
       "        break;\n",
       "    case 2:\n",
       "        cursor = 'crosshair';\n",
       "        break;\n",
       "    case 3:\n",
       "        cursor = 'move';\n",
       "        break;\n",
       "    }\n",
       "    fig.rubberband_canvas.style.cursor = cursor;\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_message = function(fig, msg) {\n",
       "    fig.message.textContent = msg['message'];\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_draw = function(fig, msg) {\n",
       "    // Request the server to send over a new figure.\n",
       "    fig.send_draw_message();\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_image_mode = function(fig, msg) {\n",
       "    fig.image_mode = msg['mode'];\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.updated_canvas_event = function() {\n",
       "    // Called whenever the canvas gets updated.\n",
       "    this.send_message(\"ack\", {});\n",
       "}\n",
       "\n",
       "// A function to construct a web socket function for onmessage handling.\n",
       "// Called in the figure constructor.\n",
       "mpl.figure.prototype._make_on_message_function = function(fig) {\n",
       "    return function socket_on_message(evt) {\n",
       "        if (evt.data instanceof Blob) {\n",
       "            /* FIXME: We get \"Resource interpreted as Image but\n",
       "             * transferred with MIME type text/plain:\" errors on\n",
       "             * Chrome.  But how to set the MIME type?  It doesn't seem\n",
       "             * to be part of the websocket stream */\n",
       "            evt.data.type = \"image/png\";\n",
       "\n",
       "            /* Free the memory for the previous frames */\n",
       "            if (fig.imageObj.src) {\n",
       "                (window.URL || window.webkitURL).revokeObjectURL(\n",
       "                    fig.imageObj.src);\n",
       "            }\n",
       "\n",
       "            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(\n",
       "                evt.data);\n",
       "            fig.updated_canvas_event();\n",
       "            fig.waiting = false;\n",
       "            return;\n",
       "        }\n",
       "        else if (typeof evt.data === 'string' && evt.data.slice(0, 21) == \"data:image/png;base64\") {\n",
       "            fig.imageObj.src = evt.data;\n",
       "            fig.updated_canvas_event();\n",
       "            fig.waiting = false;\n",
       "            return;\n",
       "        }\n",
       "\n",
       "        var msg = JSON.parse(evt.data);\n",
       "        var msg_type = msg['type'];\n",
       "\n",
       "        // Call the  \"handle_{type}\" callback, which takes\n",
       "        // the figure and JSON message as its only arguments.\n",
       "        try {\n",
       "            var callback = fig[\"handle_\" + msg_type];\n",
       "        } catch (e) {\n",
       "            console.log(\"No handler for the '\" + msg_type + \"' message type: \", msg);\n",
       "            return;\n",
       "        }\n",
       "\n",
       "        if (callback) {\n",
       "            try {\n",
       "                // console.log(\"Handling '\" + msg_type + \"' message: \", msg);\n",
       "                callback(fig, msg);\n",
       "            } catch (e) {\n",
       "                console.log(\"Exception inside the 'handler_\" + msg_type + \"' callback:\", e, e.stack, msg);\n",
       "            }\n",
       "        }\n",
       "    };\n",
       "}\n",
       "\n",
       "// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas\n",
       "mpl.findpos = function(e) {\n",
       "    //this section is from http://www.quirksmode.org/js/events_properties.html\n",
       "    var targ;\n",
       "    if (!e)\n",
       "        e = window.event;\n",
       "    if (e.target)\n",
       "        targ = e.target;\n",
       "    else if (e.srcElement)\n",
       "        targ = e.srcElement;\n",
       "    if (targ.nodeType == 3) // defeat Safari bug\n",
       "        targ = targ.parentNode;\n",
       "\n",
       "    // jQuery normalizes the pageX and pageY\n",
       "    // pageX,Y are the mouse positions relative to the document\n",
       "    // offset() returns the position of the element relative to the document\n",
       "    var x = e.pageX - $(targ).offset().left;\n",
       "    var y = e.pageY - $(targ).offset().top;\n",
       "\n",
       "    return {\"x\": x, \"y\": y};\n",
       "};\n",
       "\n",
       "/*\n",
       " * return a copy of an object with only non-object keys\n",
       " * we need this to avoid circular references\n",
       " * http://stackoverflow.com/a/24161582/3208463\n",
       " */\n",
       "function simpleKeys (original) {\n",
       "  return Object.keys(original).reduce(function (obj, key) {\n",
       "    if (typeof original[key] !== 'object')\n",
       "        obj[key] = original[key]\n",
       "    return obj;\n",
       "  }, {});\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.mouse_event = function(event, name) {\n",
       "    var canvas_pos = mpl.findpos(event)\n",
       "\n",
       "    if (name === 'button_press')\n",
       "    {\n",
       "        this.canvas.focus();\n",
       "        this.canvas_div.focus();\n",
       "    }\n",
       "\n",
       "    var x = canvas_pos.x * mpl.ratio;\n",
       "    var y = canvas_pos.y * mpl.ratio;\n",
       "\n",
       "    this.send_message(name, {x: x, y: y, button: event.button,\n",
       "                             step: event.step,\n",
       "                             guiEvent: simpleKeys(event)});\n",
       "\n",
       "    /* This prevents the web browser from automatically changing to\n",
       "     * the text insertion cursor when the button is pressed.  We want\n",
       "     * to control all of the cursor setting manually through the\n",
       "     * 'cursor' event from matplotlib */\n",
       "    event.preventDefault();\n",
       "    return false;\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._key_event_extra = function(event, name) {\n",
       "    // Handle any extra behaviour associated with a key event\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.key_event = function(event, name) {\n",
       "\n",
       "    // Prevent repeat events\n",
       "    if (name == 'key_press')\n",
       "    {\n",
       "        if (event.which === this._key)\n",
       "            return;\n",
       "        else\n",
       "            this._key = event.which;\n",
       "    }\n",
       "    if (name == 'key_release')\n",
       "        this._key = null;\n",
       "\n",
       "    var value = '';\n",
       "    if (event.ctrlKey && event.which != 17)\n",
       "        value += \"ctrl+\";\n",
       "    if (event.altKey && event.which != 18)\n",
       "        value += \"alt+\";\n",
       "    if (event.shiftKey && event.which != 16)\n",
       "        value += \"shift+\";\n",
       "\n",
       "    value += 'k';\n",
       "    value += event.which.toString();\n",
       "\n",
       "    this._key_event_extra(event, name);\n",
       "\n",
       "    this.send_message(name, {key: value,\n",
       "                             guiEvent: simpleKeys(event)});\n",
       "    return false;\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.toolbar_button_onclick = function(name) {\n",
       "    if (name == 'download') {\n",
       "        this.handle_save(this, null);\n",
       "    } else {\n",
       "        this.send_message(\"toolbar_button\", {name: name});\n",
       "    }\n",
       "};\n",
       "\n",
       "mpl.figure.prototype.toolbar_button_onmouseover = function(tooltip) {\n",
       "    this.message.textContent = tooltip;\n",
       "};\n",
       "mpl.toolbar_items = [[\"Home\", \"Reset original view\", \"fa fa-home icon-home\", \"home\"], [\"Back\", \"Back to  previous view\", \"fa fa-arrow-left icon-arrow-left\", \"back\"], [\"Forward\", \"Forward to next view\", \"fa fa-arrow-right icon-arrow-right\", \"forward\"], [\"\", \"\", \"\", \"\"], [\"Pan\", \"Pan axes with left mouse, zoom with right\", \"fa fa-arrows icon-move\", \"pan\"], [\"Zoom\", \"Zoom to rectangle\", \"fa fa-square-o icon-check-empty\", \"zoom\"], [\"\", \"\", \"\", \"\"], [\"Download\", \"Download plot\", \"fa fa-floppy-o icon-save\", \"download\"]];\n",
       "\n",
       "mpl.extensions = [\"eps\", \"jpeg\", \"pdf\", \"png\", \"ps\", \"raw\", \"svg\", \"tif\"];\n",
       "\n",
       "mpl.default_extension = \"png\";var comm_websocket_adapter = function(comm) {\n",
       "    // Create a \"websocket\"-like object which calls the given IPython comm\n",
       "    // object with the appropriate methods. Currently this is a non binary\n",
       "    // socket, so there is still some room for performance tuning.\n",
       "    var ws = {};\n",
       "\n",
       "    ws.close = function() {\n",
       "        comm.close()\n",
       "    };\n",
       "    ws.send = function(m) {\n",
       "        //console.log('sending', m);\n",
       "        comm.send(m);\n",
       "    };\n",
       "    // Register the callback with on_msg.\n",
       "    comm.on_msg(function(msg) {\n",
       "        //console.log('receiving', msg['content']['data'], msg);\n",
       "        // Pass the mpl event to the overriden (by mpl) onmessage function.\n",
       "        ws.onmessage(msg['content']['data'])\n",
       "    });\n",
       "    return ws;\n",
       "}\n",
       "\n",
       "mpl.mpl_figure_comm = function(comm, msg) {\n",
       "    // This is the function which gets called when the mpl process\n",
       "    // starts-up an IPython Comm through the \"matplotlib\" channel.\n",
       "\n",
       "    var id = msg.content.data.id;\n",
       "    // Get hold of the div created by the display call when the Comm\n",
       "    // socket was opened in Python.\n",
       "    var element = $(\"#\" + id);\n",
       "    var ws_proxy = comm_websocket_adapter(comm)\n",
       "\n",
       "    function ondownload(figure, format) {\n",
       "        window.open(figure.imageObj.src);\n",
       "    }\n",
       "\n",
       "    var fig = new mpl.figure(id, ws_proxy,\n",
       "                           ondownload,\n",
       "                           element.get(0));\n",
       "\n",
       "    // Call onopen now - mpl needs it, as it is assuming we've passed it a real\n",
       "    // web socket which is closed, not our websocket->open comm proxy.\n",
       "    ws_proxy.onopen();\n",
       "\n",
       "    fig.parent_element = element.get(0);\n",
       "    fig.cell_info = mpl.find_output_cell(\"<div id='\" + id + \"'></div>\");\n",
       "    if (!fig.cell_info) {\n",
       "        console.error(\"Failed to find cell for figure\", id, fig);\n",
       "        return;\n",
       "    }\n",
       "\n",
       "    var output_index = fig.cell_info[2]\n",
       "    var cell = fig.cell_info[0];\n",
       "\n",
       "};\n",
       "\n",
       "mpl.figure.prototype.handle_close = function(fig, msg) {\n",
       "    var width = fig.canvas.width/mpl.ratio\n",
       "    fig.root.unbind('remove')\n",
       "\n",
       "    // Update the output cell to use the data from the current canvas.\n",
       "    fig.push_to_output();\n",
       "    var dataURL = fig.canvas.toDataURL();\n",
       "    // Re-enable the keyboard manager in IPython - without this line, in FF,\n",
       "    // the notebook keyboard shortcuts fail.\n",
       "    IPython.keyboard_manager.enable()\n",
       "    $(fig.parent_element).html('<img src=\"' + dataURL + '\" width=\"' + width + '\">');\n",
       "    fig.close_ws(fig, msg);\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.close_ws = function(fig, msg){\n",
       "    fig.send_message('closing', msg);\n",
       "    // fig.ws.close()\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.push_to_output = function(remove_interactive) {\n",
       "    // Turn the data on the canvas into data in the output cell.\n",
       "    var width = this.canvas.width/mpl.ratio\n",
       "    var dataURL = this.canvas.toDataURL();\n",
       "    this.cell_info[1]['text/html'] = '<img src=\"' + dataURL + '\" width=\"' + width + '\">';\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.updated_canvas_event = function() {\n",
       "    // Tell IPython that the notebook contents must change.\n",
       "    IPython.notebook.set_dirty(true);\n",
       "    this.send_message(\"ack\", {});\n",
       "    var fig = this;\n",
       "    // Wait a second, then push the new image to the DOM so\n",
       "    // that it is saved nicely (might be nice to debounce this).\n",
       "    setTimeout(function () { fig.push_to_output() }, 1000);\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._init_toolbar = function() {\n",
       "    var fig = this;\n",
       "\n",
       "    var nav_element = $('<div/>')\n",
       "    nav_element.attr('style', 'width: 100%');\n",
       "    this.root.append(nav_element);\n",
       "\n",
       "    // Define a callback function for later on.\n",
       "    function toolbar_event(event) {\n",
       "        return fig.toolbar_button_onclick(event['data']);\n",
       "    }\n",
       "    function toolbar_mouse_event(event) {\n",
       "        return fig.toolbar_button_onmouseover(event['data']);\n",
       "    }\n",
       "\n",
       "    for(var toolbar_ind in mpl.toolbar_items){\n",
       "        var name = mpl.toolbar_items[toolbar_ind][0];\n",
       "        var tooltip = mpl.toolbar_items[toolbar_ind][1];\n",
       "        var image = mpl.toolbar_items[toolbar_ind][2];\n",
       "        var method_name = mpl.toolbar_items[toolbar_ind][3];\n",
       "\n",
       "        if (!name) { continue; };\n",
       "\n",
       "        var button = $('<button class=\"btn btn-default\" href=\"#\" title=\"' + name + '\"><i class=\"fa ' + image + ' fa-lg\"></i></button>');\n",
       "        button.click(method_name, toolbar_event);\n",
       "        button.mouseover(tooltip, toolbar_mouse_event);\n",
       "        nav_element.append(button);\n",
       "    }\n",
       "\n",
       "    // Add the status bar.\n",
       "    var status_bar = $('<span class=\"mpl-message\" style=\"text-align:right; float: right;\"/>');\n",
       "    nav_element.append(status_bar);\n",
       "    this.message = status_bar[0];\n",
       "\n",
       "    // Add the close button to the window.\n",
       "    var buttongrp = $('<div class=\"btn-group inline pull-right\"></div>');\n",
       "    var button = $('<button class=\"btn btn-mini btn-primary\" href=\"#\" title=\"Stop Interaction\"><i class=\"fa fa-power-off icon-remove icon-large\"></i></button>');\n",
       "    button.click(function (evt) { fig.handle_close(fig, {}); } );\n",
       "    button.mouseover('Stop Interaction', toolbar_mouse_event);\n",
       "    buttongrp.append(button);\n",
       "    var titlebar = this.root.find($('.ui-dialog-titlebar'));\n",
       "    titlebar.prepend(buttongrp);\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._root_extra_style = function(el){\n",
       "    var fig = this\n",
       "    el.on(\"remove\", function(){\n",
       "\tfig.close_ws(fig, {});\n",
       "    });\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._canvas_extra_style = function(el){\n",
       "    // this is important to make the div 'focusable\n",
       "    el.attr('tabindex', 0)\n",
       "    // reach out to IPython and tell the keyboard manager to turn it's self\n",
       "    // off when our div gets focus\n",
       "\n",
       "    // location in version 3\n",
       "    if (IPython.notebook.keyboard_manager) {\n",
       "        IPython.notebook.keyboard_manager.register_events(el);\n",
       "    }\n",
       "    else {\n",
       "        // location in version 2\n",
       "        IPython.keyboard_manager.register_events(el);\n",
       "    }\n",
       "\n",
       "}\n",
       "\n",
       "mpl.figure.prototype._key_event_extra = function(event, name) {\n",
       "    var manager = IPython.notebook.keyboard_manager;\n",
       "    if (!manager)\n",
       "        manager = IPython.keyboard_manager;\n",
       "\n",
       "    // Check for shift+enter\n",
       "    if (event.shiftKey && event.which == 13) {\n",
       "        this.canvas_div.blur();\n",
       "        event.shiftKey = false;\n",
       "        // Send a \"J\" for go to next cell\n",
       "        event.which = 74;\n",
       "        event.keyCode = 74;\n",
       "        manager.command_mode();\n",
       "        manager.handle_keydown(event);\n",
       "    }\n",
       "}\n",
       "\n",
       "mpl.figure.prototype.handle_save = function(fig, msg) {\n",
       "    fig.ondownload(fig, null);\n",
       "}\n",
       "\n",
       "\n",
       "mpl.find_output_cell = function(html_output) {\n",
       "    // Return the cell and output element which can be found *uniquely* in the notebook.\n",
       "    // Note - this is a bit hacky, but it is done because the \"notebook_saving.Notebook\"\n",
       "    // IPython event is triggered only after the cells have been serialised, which for\n",
       "    // our purposes (turning an active figure into a static one), is too late.\n",
       "    var cells = IPython.notebook.get_cells();\n",
       "    var ncells = cells.length;\n",
       "    for (var i=0; i<ncells; i++) {\n",
       "        var cell = cells[i];\n",
       "        if (cell.cell_type === 'code'){\n",
       "            for (var j=0; j<cell.output_area.outputs.length; j++) {\n",
       "                var data = cell.output_area.outputs[j];\n",
       "                if (data.data) {\n",
       "                    // IPython >= 3 moved mimebundle to data attribute of output\n",
       "                    data = data.data;\n",
       "                }\n",
       "                if (data['text/html'] == html_output) {\n",
       "                    return [cell, data, j];\n",
       "                }\n",
       "            }\n",
       "        }\n",
       "    }\n",
       "}\n",
       "\n",
       "// Register the function which deals with the matplotlib target/channel.\n",
       "// The kernel may be null if the page has been refreshed.\n",
       "if (IPython.notebook.kernel != null) {\n",
       "    IPython.notebook.kernel.comm_manager.register_target('matplotlib', mpl.mpl_figure_comm);\n",
       "}\n"
      ],
      "text/plain": [
       "<IPython.core.display.Javascript object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<div id='dabafb10-6ffd-4fa9-b558-9b96236ab0ef'></div>"
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "robot_posi = np.asarray(robot_pos)\n",
    "fig2 = plt.figure()\n",
    "im = plt.plot(robot_posi[:, 0].T, robot_posi[:, 1].T)\n",
    "plt.xlabel('x position (m)')\n",
    "plt.ylabel('y position (m)')\n",
    "plt.title('Robot Trajectory with Particle Filter')\n",
    "plt.savefig('./traj.png')\n",
    "plt.close()"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
